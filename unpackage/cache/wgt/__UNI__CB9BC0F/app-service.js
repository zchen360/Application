(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"00f6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"u-modal",props:{value:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:""},title:{type:[String],default:"\u63d0\u793a"},width:{type:[Number,String],default:600},content:{type:String,default:"\u5185\u5bb9"},showTitle:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmText:{type:String,default:"\u786e\u8ba4"},cancelText:{type:String,default:"\u53d6\u6d88"},confirmColor:{type:String,default:"#2979ff"},cancelColor:{type:String,default:"#606266"},borderRadius:{type:[Number,String],default:16},titleStyle:{type:Object,default:function(){return{}}},contentStyle:{type:Object,default:function(){return{}}},cancelStyle:{type:Object,default:function(){return{}}},confirmStyle:{type:Object,default:function(){return{}}},zoom:{type:Boolean,default:!0},asyncClose:{type:Boolean,default:!1},maskCloseAble:{type:Boolean,default:!1},negativeTop:{type:[String,Number],default:0}},data:function(){return{loading:!1}},computed:{cancelBtnStyle:function(){return Object.assign({color:this.cancelColor},this.cancelStyle)},confirmBtnStyle:function(){return Object.assign({color:this.confirmColor},this.confirmStyle)},uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.popup}},watch:{value:function(e){!0===e&&(this.loading=!1)}},methods:{confirm:function(){this.asyncClose?this.loading=!0:this.$emit("input",!1),this.$emit("confirm")},cancel:function(){var e=this;this.$emit("cancel"),this.$emit("input",!1),setTimeout((function(){e.loading=!1}),300)},popupClose:function(){this.$emit("input",!1)},clearLoading:function(){this.loading=!1}}};t.default=r},"0676":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"096a":function(e,t,n){"use strict";(function(e,r){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t._TEST_ACCESS_hijackHash=t._TEST_ACCESS_forceRestClient=t._ReferenceImpl=t._QueryParams=t._QueryImpl=t.TransactionResult=t.QueryConstraint=t.OnDisconnect=t.Database=t.DataSnapshot=void 0,t._repoManagerDatabaseFromApp=ga,t._setSDKVersion=x,t._validateWritablePath=t._validatePathString=void 0,t.child=Ji,t.connectDatabaseEmulator=wa,t.enableLogging=function(e,t){L(e,t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.endAt=function(e,t){return ni("endAt","key",t,!0),new ia(e,t)},t.endBefore=function(e,t){return ni("endBefore","key",t,!0),new aa(e,t)},t.equalTo=function(e,t){return ni("equalTo","key",t,!0),new va(e,t)},t.forceLongPolling=function(){ba(),me.forceDisallow(),ve.forceAllow()},t.forceWebSockets=function(){ba(),ve.forceDisallow()},t.get=function(e){e=(0,g.getModularInstance)(e);var t=new Vi((function(){})),n=new Zi(t);return function(e,t,n){var r=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=De(e,n);r=r||ar(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||ar(i,Se()):(i=new Xn,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new Jt(r,!0,!1):null,s=gn(e.pendingWriteTree_,t._path),u=tr(i,t,s,a?o.getNode():pt.EMPTY_NODE,a);return function(e){return rn(e.viewCache_)}(u)}(e.serverSyncTree_,t);if(null!=r)return Promise.resolve(r);return e.server_.get(t).then((function(r){var i,a=gt(r).withIndex(t._queryParams.getIndex());if(mr(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=vr(e.serverSyncTree_,t._path,a);else{var o=wr(e.serverSyncTree_,t);i=yr(e.serverSyncTree_,t._path,a,o)}return li(e.eventQueue_,t._path,i),pr(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return xi(e,"get for query "+(0,g.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new Ki(t,new Qi(e._repo,e._path),e._queryParams.getIndex())}))},t.getDatabase=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,y.getApp)(),t=arguments.length>1?arguments[1]:void 0,n=(0,y._getProvider)(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=(0,g.getDefaultEmulatorHostnameAndPort)("database");r&&wa.apply(void 0,[n].concat((0,d.default)(r)))}return n},t.goOffline=function(e){e=(0,g.getModularInstance)(e),e._checkNotDeleted("goOffline"),Si(e._repo)},t.goOnline=function(e){e=(0,g.getModularInstance)(e),e._checkNotDeleted("goOnline"),function(e){e.persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}(e._repo)},t.increment=function(e){return{".sv":{increment:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.limitToFirst=function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ua(e)},t.limitToLast=function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new la(e)},t.off=function(e,t,n){var r=null,i=n?new Vi(n):null;"value"===t?r=new Zi(i):t&&(r=new ea(t,i));Ci(e._repo,e,r)},t.onChildAdded=function(e,t,n,r){return ta(e,"child_added",t,n,r)},t.onChildChanged=function(e,t,n,r){return ta(e,"child_changed",t,n,r)},t.onChildMoved=function(e,t,n,r){return ta(e,"child_moved",t,n,r)},t.onChildRemoved=function(e,t,n,r){return ta(e,"child_removed",t,n,r)},t.onDisconnect=function(e){return e=(0,g.getModularInstance)(e),new Ui(e._repo,e._path)},t.onValue=na,t.orderByChild=function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ri("orderByChild","path",e,!1),new ca(e)},t.orderByKey=function(){return new fa},t.orderByPriority=function(){return new da},t.orderByValue=function(){return new ha},t.push=function(e,t){e=(0,g.getModularInstance)(e),ii("push",e._path),Xr("push",t,e._path,!0);var n,r=vi(e._repo),i=qi(r),a=Ji(e,i),o=Ji(e,i);n=null!=t?Xi(o,t).then((function(){return o})):Promise.resolve(o);return a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a},t.query=function(e){for(var t=(0,g.getModularInstance)(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t=s._apply(t)}return t},t.ref=Yi,t.refFromURL=function(e,t){e=(0,g.getModularInstance)(e),e._checkNotDeleted("refFromURL");var n=Fi(t,e._repo.repoInfo_.nodeAdmin);ai("refFromURL",n);var r=n.repoInfo;e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||B("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")");return Yi(e,n.path.toString())},t.remove=function(e){return ii("remove",e._path),Xi(e,null)},t.runTransaction=function(e,t,n){var r;if(e=(0,g.getModularInstance)(e),ii("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new g.Deferred,o=function(t,n,r){var i=null;t?a.reject(t):(i=new Ki(r,new Qi(e._repo,e._path),lt),a.resolve(new Ca(n,i)))},s=na(e,(function(){}));return function(e,t,n,r,i,a){xi(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:N(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Ii(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Zr("transaction failed: Data returned ",u,o.path),o.status=0;var l,c=$r(e.transactionQueueTree_,t),f=Br(c)||[];if(f.push(o),Vr(c,f),"object"===(0,h.default)(u)&&null!==u&&(0,g.contains)(u,".priority"))l=(0,g.safeGet)(u,".priority"),(0,g.assert)(Jr(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var d=gr(e.serverSyncTree_,t)||pt.EMPTY_NODE;l=d.getPriority().val()}var v=pi(e),p=gt(u,l),y=Lr(p,s,v);o.currentOutputSnapshotRaw=p,o.currentOutputSnapshotResolved=y,o.currentWriteId=_i(e);var m=dr(e.serverSyncTree_,t,y,o.currentWriteId,o.applyLocally);li(e.eventQueue_,t,m),Ti(e,e.transactionQueueTree_)}}(e._repo,e._path,t,o,s,i),a.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.serverTimestamp=function(){return ka},t.set=Xi,t.setPriority=function(e,t){e=(0,g.getModularInstance)(e),ii("setPriority",e._path),ti("setPriority",t,!1);var n=new g.Deferred;return bi(e._repo,Oe(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise},t.setWithPriority=function(e,t,n){if(ii("setWithPriority",e._path),Xr("setWithPriority",t,e._path,!1),ti("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new g.Deferred;return bi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise},t.startAfter=function(e,t){return ni("startAfter","key",t,!0),new sa(e,t)},t.startAt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ni("startAt","key",t,!0),new oa(e,t)},t.update=function(e,t){ei("update",t,e._path,!1);var n=new g.Deferred;return function(e,t,n,r){xi(e,"update",{path:t.toString(),value:n});var i=!0,a=pi(e),o={};if(J(n,(function(n,r){i=!1,o[n]=Fr(Oe(t,n),gt(r),e.serverSyncTree_,a)})),i)j("update() called with empty data.  Don't do anything."),Ei(e,r,"ok",void 0);else{var s=_i(e),u=function(e,t,n,r){(function(e,t,n,r){(0,g.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=cn(e.visibleWrites,t,n),e.lastWriteId=r})(e.pendingWriteTree_,t,n,r);var i=sn.fromObject(n);return _r(e,new Yt(Ut(),t,i))}(e.serverSyncTree_,t,o,s);si(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||V("update at "+t+" failed: "+n);var o=hr(e.serverSyncTree_,s,!a),u=o.length>0?Ai(e,t):t;li(e.eventQueue_,u,o),Ei(e,r,n,i)})),J(n,(function(n){var r=Ri(e,Oe(t,n));Ai(e,r)})),li(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise};var a=i(n("a34a")),o=i(n("278c")),s=i(n("c973")),u=i(n("3c96")),l=i(n("ed6d")),c=i(n("6b58")),f=i(n("36c6")),d=i(n("448a")),h=i(n("7037")),v=i(n("970b")),p=i(n("5bc3")),y=n("ace3"),m=n("a093"),g=n("55e6"),_=n("6c7f");function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C="@firebase/database",S="";function x(e){S=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E=function(){function e(t){(0,v.default)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return(0,p.default)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,g.stringify)(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,g.jsonEval)(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),I=function(){function e(){(0,v.default)(this,e),this.cache_={},this.isInMemoryStorage=!0}return(0,p.default)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return(0,g.contains)(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),T=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new E(t)}}catch(n){}return new I},P=T("localStorage"),A=T("sessionStorage"),O=new _.Logger("@firebase/database"),N=function(){var e=1;return function(){return e++}}(),D=function(e){var t=(0,g.stringToByteArray)(e),n=new g.Sha1;n.update(t);var r=n.digest();return g.base64.encodeByteArray(r)},R=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===(0,h.default)(r)&&"number"===typeof r.length?t+=e.apply(null,r):"object"===(0,h.default)(r)?t+=(0,g.stringify)(r):t+=r,t+=" "}return t},M=null,F=!0,L=function(e,t){(0,g.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(O.logLevel=_.LogLevel.VERBOSE,M=O.log.bind(O),t&&A.set("logging_enabled",!0)):"function"===typeof e?M=e:(M=null,A.remove("logging_enabled"))},j=function(){if(!0===F&&(F=!1,null===M&&!0===A.get("logging_enabled")&&L(!0)),M){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=R.apply(null,t);M(r)}},q=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];j.apply(void 0,[e].concat(n))}},$=function(){var e="FIREBASE INTERNAL ERROR: "+R.apply(void 0,arguments);O.error(e)},B=function(){var e="FIREBASE FATAL ERROR: ".concat(R.apply(void 0,arguments));throw O.error(e),new Error(e)},V=function(){var e="FIREBASE WARNING: "+R.apply(void 0,arguments);O.warn(e)},U=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},z="[MIN_NAME]",W="[MAX_NAME]",H=function(e,t){if(e===t)return 0;if(e===z||t===W)return-1;if(t===z||e===W)return 1;var n=ee(e),r=ee(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},G=function(e,t){return e===t?0:e<t?-1:1},Q=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,g.stringify)(t))},K=function e(t){if("object"!==(0,h.default)(t)||null===t)return(0,g.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,g.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}",i},Y=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var X=function(e){(0,g.assert)(!U(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,e=Math.abs(e),e>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var o=[];for(a=52;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var l=parseInt(s.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()};var Z=new RegExp("^-?(0*)\\d{1,10}$"),ee=function(e){if(Z.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},te=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw V("Exception was thrown by user callback.",e),t}),Math.floor(0))}},ne=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno["unrefTimer"]?Deno.unrefTimer(n):"object"===(0,h.default)(n)&&n["unref"]&&n["unref"](),n},re=function(){function e(t,n){var r=this;(0,v.default)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return(0,p.default)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){V('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),ie=function(){function e(t,n,r){var i=this;(0,v.default)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return(0,p.default)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(j("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',V(e)}}]),e}(),ae=function(){function e(t){(0,v.default)(this,e),this.accessToken=t}return(0,p.default)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();ae.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var oe=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,se=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];(0,v.default)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=P.get("host:"+t)||this._host}return(0,p.default)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&P.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function ue(e,t,n){var r;if((0,g.assert)("string"===typeof t,"typeof type must == string"),(0,g.assert)("object"===(0,h.default)(n),"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n["ns"]=e.namespace);var i=[];return J(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le=function(){function e(){(0,v.default)(this,e),this.counters_={}}return(0,p.default)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,g.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return(0,g.deepCopy)(this.counters_)}}]),e}(),ce={},fe={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e){var t=e.toString();return ce[t]||(ce[t]=new le),ce[t]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var he=function(){function e(t){(0,v.default)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return(0,p.default)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&te((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};while(this.pendingResponses[this.currentResponseNum]){var i=r();if("break"===i)break}}}]),e}(),ve=function(){function e(t,n,r,i,a,o,s){var u=this;(0,v.default)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=q(t),this.stats_=de(n),this.urlFn=function(e){return u.appCheckToken&&(e["ac"]=u.appCheckToken),ue(n,"long_polling",e)}}return(0,p.default)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new he(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,g.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new pe((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e["ser"]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e["cb"]=n.scriptTagHolder.uniqueCallbackIdentifier),e["v"]="5",n.transportSessionId&&(e["s"]=n.transportSessionId),n.lastSessionId&&(e["ls"]=n.lastSessionId),n.applicationId&&(e["p"]=n.applicationId),n.appCheckToken&&(e["ac"]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&oe.test(location.hostname)&&(e["r"]="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=(0,g.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,g.base64Encode)(t),r=Y(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!(0,g.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n["id"]=e,n["pw"]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=(0,g.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!(0,g.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!function(){return!("object"!==("undefined"===typeof window?"undefined":(0,h.default)(window))||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))}()&&!function(){return"object"===("undefined"===typeof Windows?"undefined":(0,h.default)(Windows))&&"object"===(0,h.default)(Windows.UI)}())}}]),e}(),pe=function(){function e(t,n,r,i){if((0,v.default)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,g.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=N(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var o=document.domain;a='<script>document.domain="'+o+'";<\/script>'}var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){j("frame writing exception"),u.stack&&j(u.stack),j(u)}}}return(0,p.default)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e["id"]=this.myID,e["pw"]=this.myPW,e["ser"]=this.currentSerial;var t=this.urlFn(e),n="",r=0;while(this.pendingSegs.length>0){var i=this.pendingSegs[0];if(!(i.d.length+30+n.length<=1870))break;var a=this.pendingSegs.shift();n=n+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;(0,g.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){j("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{var t=e.contentWindow.document;t||j("No IE domain setting required")}catch(r){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),ye=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!==typeof MozWebSocket?ye=MozWebSocket:"undefined"!==typeof WebSocket&&(ye=WebSocket);var me=function(){function t(e,n,r,i,a,o,s){(0,v.default)(this,t),this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=q(this.connId),this.stats_=de(n),this.connURL=t.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return(0,p.default)(t,[{key:"open",value:function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,P.set("previous_websocket_failure",!0);try{var i;if((0,g.isNodeSdk)()){var a=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":"Firebase/".concat("5","/").concat(S,"/").concat(e.platform,"/").concat(a),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers["Authorization"]="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"foods",VUE_APP_PLATFORM:"app-plus",NODE_ENV:"production",BASE_URL:"/"}),s=0===this.connURL.indexOf("wss://")?o["HTTPS_PROXY"]||o["https_proxy"]:o["HTTP_PROXY"]||o["http_proxy"];s&&(i["proxy"]={origin:s})}this.mySock=new ye(this.connURL,[],i)}catch(l){this.log_("Error instantiating WebSocket.");var u=l.message||l.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){P.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,g.jsonEval)(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if((0,g.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=(0,g.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Y(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={v:"5"};return!(0,g.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&oe.test(location.hostname)&&(a["r"]="f"),t&&(a["s"]=t),n&&(a["ls"]=n),r&&(a["ac"]=r),i&&(a["p"]=i),ue(e,"websocket",a)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ye&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return P.isInMemoryStorage||!0===P.get("previous_websocket_failure")}}]),t}();me.responsesRequiredToBeHealthy=2,me.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ge=function(){function e(t){(0,v.default)(this,e),this.initTransports_(t)}return(0,p.default)(e,[{key:"initTransports_",value:function(t){var n=me&&me["isAvailable"](),r=n&&!me.previouslyFailed();if(t.webSocketOnly&&(n||V("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[me];else{var i,a=this.transports_=[],o=w(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s["isAvailable"]()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[ve,me]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();ge.globalTransportInitialized_=!1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _e=function(){function e(t,n,r,i,a,o,s,u,l,c){(0,v.default)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=q("c:"+this.id+":"),this.transportManager_=new ge(n),this.log_("Connection created"),this.start_()}return(0,p.default)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t["healthyTimeout"]||0;i>0&&(this.healthyTimeout_=ne((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e["t"];"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Q("t",e),n=Q("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Q("t",e),n=Q("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Q("t",e);if("d"in e){var n=e["d"];if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?$("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&V("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ne((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ne((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(P.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),be=function(){function e(){(0,v.default)(this,e)}return(0,p.default)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),we=function(){function e(t){(0,v.default)(this,e),this.allowedEvents_=t,this.listeners_={},(0,g.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return(0,p.default)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=(0,d.default)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){(0,g.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),ke=function(e){(0,l.default)(n,e);var t=b(n);function n(){var e;return(0,v.default)(this,n),e=t.call(this,["online"]),e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,g.isMobileCordova)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return(0,p.default)(n,[{key:"getInitialEvent",value:function(e){return(0,g.assert)("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(we),Ce=function(){function e(t,n){if((0,v.default)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return(0,p.default)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Se(){return new Ce("")}function xe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ee(e){return e.pieces_.length-e.pieceNum_}function Ie(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ce(e.pieces_,t)}function Te(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ae(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ce(t,0)}function Oe(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ce)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Ce(n,0)}function Ne(e){return e.pieceNum_>=e.pieces_.length}function De(e,t){var n=xe(e),r=xe(t);if(null===n)return t;if(n===r)return De(Ie(e),Ie(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Re(e,t){for(var n=Pe(e,0),r=Pe(t,0),i=0;i<n.length&&i<r.length;i++){var a=H(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Me(e,t){if(Ee(e)!==Ee(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Fe(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ee(e)>Ee(t))return!1;while(n<e.pieces_.length){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Le=(0,p.default)((function e(t,n){(0,v.default)(this,e),this.errorPrefix_=n,this.parts_=Pe(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=(0,g.stringLength)(this.parts_[r]);je(this)}));function je(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qe(e))}function qe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e=function(e){(0,l.default)(n,e);var t=b(n);function n(){var e,r,i;return(0,v.default)(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(i="visibilitychange",r="hidden"):"undefined"!==typeof document["mozHidden"]?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document["msHidden"]?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return(0,p.default)(n,[{key:"getInitialEvent",value:function(e){return(0,g.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(we),Be=function(e){(0,l.default)(n,e);var t=b(n);function n(e,r,i,a,o,s,l,c){var f;if((0,v.default)(this,n),f=t.call(this),f.repoInfo_=e,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=o,f.authTokenProvider_=s,f.appCheckTokenProvider_=l,f.authOverride_=c,f.id=n.nextPersistentConnectionId_++,f.log_=q("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=1e3,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,c&&!(0,g.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $e.getInstance().on("visible",f.onVisible_,(0,u.default)(f)),-1===e.host.indexOf("fblocal")&&ke.getInstance().on("online",f.onOnline_,(0,u.default)(f)),f}return(0,p.default)(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,g.stringify)(i)),(0,g.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new g.Deferred,n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:function(e){var n=e["d"];"ok"===e["s"]?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;var i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,g.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,g.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o["q"]=r._queryObject,o["t"]=e.tag),o["h"]=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o["d"],u=o["s"];n.warnOnListenWarnings_(s,r);var l=t.listens.get(i)&&t.listens.get(i).get(a);l===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){var t=e&&40===e.length;(t||(0,g.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,g.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r["noauth"]=!0:"object"===(0,h.default)(this.authOverride_)&&(r["authvar"]=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n["s"],i=n["d"]||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t["s"],r=t["d"]||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,g.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i["q"]=n,i["t"]=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e["s"],e["d"])}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a["h"]=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r["s"],r["d"])}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){var n=e["s"];if("ok"!==n){var r=e["d"];t.log_("reportStats","Error sending stats: "+r)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+(0,g.stringify)(e));var t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"apc"===e?this.onAppCheckRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):$("Unrecognized action received from server: "+(0,g.stringify)(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;(0,g.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=(0,s.default)(a.default.mark((function e(){var t,r,i,s,u,l,c,f,d,h,v,p,y,m,_=this;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+n.nextConnectionId_++,u=this.lastSessionId,l=!1,c=null,f=function(){c?c.close():(l=!0,i())},d=function(e){(0,g.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:f,sendRequest:d},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:v=e.sent,p=(0,o.default)(v,2),y=p[0],m=p[1],l?j("getToken() completed but was canceled"):(j("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=m&&m.token,c=new _e(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){V(e+" ("+_.repoInfo_.toString()+")"),_.interrupt("server_kill")}),u)),e.next=30;break;case 26:e.prev=26,e.t0=e["catch"](16),this.log_("Failed to get token: "+e.t0),l||(this.repoInfo_.nodeAdmin&&V(e.t0),f());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){j("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){j("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,g.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return K(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Ce(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){j("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){j("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&r("log","FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: ")," at node_modules/@firebase/database/dist/index.esm2017.js:3929")}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=w(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=w(r.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;this.sendListen_(a)}}catch(l){i.e(l)}finally{i.f()}}}catch(l){t.e(l)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);while(this.onDisconnectRequestQueue_.length){var s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";(0,g.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+S.replace(/\./g,"-")]=1,(0,g.isMobileCordova)()?e["framework.cordova"]=1:(0,g.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=ke.getInstance().currentlyOnline();return(0,g.isEmpty)(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===(0,h.default)(e)&&(0,g.contains)(e,"w")){var n=(0,g.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();V("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(be);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Be.nextPersistentConnectionId_=0,Be.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ve,Ue=function(){function e(t,n){(0,v.default)(this,e),this.name=t,this.node=n}return(0,p.default)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),ze=function(){function e(){(0,v.default)(this,e)}return(0,p.default)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ue(z,e),r=new Ue(z,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ue.MIN}}]),e}(),We=function(e){(0,l.default)(n,e);var t=b(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,p.default)(n,[{key:"compare",value:function(e,t){return H(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw(0,g.assertionError)("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ue.MIN}},{key:"maxPost",value:function(){return new Ue(W,Ve)}},{key:"makePost",value:function(e,t){return(0,g.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ue(e,Ve)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Ve},set:function(e){Ve=e}}]),n}(ze),He=new We,Ge=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,v.default)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];var o=1;while(!t.isEmpty())if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return(0,p.default)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Qe=function(){function e(t,n,r,i,a){(0,v.default)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Je.EMPTY_NODE,this.right=null!=a?a:Je.EMPTY_NODE}return(0,p.default)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Je.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Je.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qe.RED=!0,Qe.BLACK=!1;var Ke,Ye=function(){function e(){(0,v.default)(this,e)}return(0,p.default)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Qe(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Je=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;(0,v.default)(this,e),this.comparator_=t,this.root_=n}return(0,p.default)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Qe.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qe.BLACK,null,null))}},{key:"get",value:function(e){var t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){var t,n=this.root_,r=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Ge(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Ge(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Ge(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Ge(this.root_,null,this.comparator_,!0,e)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xe(e,t){return H(e.name,t.name)}function Ze(e,t){return H(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Je.EMPTY_NODE=new Ye;var et,tt,nt,rt=function(e){return"number"===typeof e?"number:"+X(e):"string:"+e},it=function(e){if(e.isLeafNode()){var t=e.val();(0,g.assert)("string"===typeof t||"number"===typeof t||"object"===(0,h.default)(t)&&(0,g.contains)(t,".sv"),"Priority must be a string or number.")}else(0,g.assert)(e===Ke||e.isEmpty(),"priority of unexpected type.");(0,g.assert)(e===Ke||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},at=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;(0,v.default)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,g.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),it(this.priorityNode_)}return(0,p.default)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Ne(t)?this:".priority"===xe(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=xe(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,g.assert)(".priority"!==r||1===Ee(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+rt(this.priorityNode_.val())+":");var t=(0,h.default)(this.value_);e+=t+":",e+="number"===t?X(this.value_):this.value_,this.lazyHash_=D(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,g.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=(0,h.default)(t.value_),r=(0,h.default)(this.value_),i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,g.assert)(i>=0,"Unknown leaf type: "+n),(0,g.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return et},set:function(e){et=e}}]),e}();at.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ot,st,ut=function(e){(0,l.default)(n,e);var t=b(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,p.default)(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?H(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ue.MIN}},{key:"maxPost",value:function(){return new Ue(W,new at("[PRIORITY-POST]",nt))}},{key:"makePost",value:function(e,t){var n=tt(e);return new Ue(t,new at("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(ze),lt=new ut,ct=Math.log(2),ft=function(){function e(t){(0,v.default)(this,e);this.count=function(e){return parseInt(Math.log(e)/ct,10)}(t+1),this.current_=this.count-1;var n=function(e){return parseInt(Array(e+1).join("1"),2)}(this.count);this.bits_=t+1&n}return(0,p.default)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),dt=function(e,t,n,r){e.sort(t);var i=new ft(e.length),a=function(t){for(var r=null,i=null,a=e.length,o=function(t,r){var i=a-t,o=a;a-=t;var u=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Qe(o,a.node,Qe.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new Qe(o,a.node,Qe.BLACK,l,c)}(i+1,o),l=e[i],c=n?n(l):l;s(new Qe(c,l.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(i=e,r=e)},u=0;u<t.count;++u){var l=t.nextBitIsOne(),c=Math.pow(2,t.count-(u+1));l?o(c,Qe.BLACK):(o(c,Qe.BLACK),o(c,Qe.RED))}return i}(i);return new Je(r||t,a)},ht={},vt=function(){function e(t,n){(0,v.default)(this,e),this.indexes_=t,this.indexSet_=n}return(0,p.default)(e,[{key:"get",value:function(e){var t=(0,g.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Je?t:null}},{key:"hasIndex",value:function(e){return(0,g.contains)(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){(0,g.assert)(t!==He,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var r,i=[],a=!1,o=n.getIterator(Ue.Wrap),s=o.getNext();while(s)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?dt(i,t.getCompare()):ht;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this,i=(0,g.map)(this.indexes_,(function(e,i){var a=(0,g.safeGet)(r.indexSet_,i);if((0,g.assert)(a,"Missing index implementation for "+i),e===ht){if(a.isDefinedOn(t.node)){var o=[],s=n.getIterator(Ue.Wrap),u=s.getNext();while(u)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),dt(o,a.getCompare())}return ht}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Ue(t.name,l))),c.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){var r=(0,g.map)(this.indexes_,(function(e){if(e===ht)return e;var r=n.get(t.name);return r?e.remove(new Ue(t.name,r)):e}));return new e(r,this.indexSet_)}}],[{key:"Default",get:function(){return(0,g.assert)(ht&&lt,"ChildrenNode.ts has not been loaded"),ot=ot||new e({".priority":ht},{".priority":lt}),ot}}]),e}(),pt=function(){function e(t,n,r){(0,v.default)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&it(this.priorityNode_),this.children_.isEmpty()&&(0,g.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return(0,p.default)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||st}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?st:t}},{key:"getChild",value:function(e){var t=xe(e);return null===t?this:this.getImmediateChild(t).getChild(Ie(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if((0,g.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ue(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?st:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=xe(e);if(null===n)return t;(0,g.assert)(".priority"!==xe(e)||1===Ee(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ie(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(lt,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+rt(this.getPriority().val())+":"),this.forEachChild(lt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":D(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ue(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ue(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ue(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));var r=this.children_.getIteratorFrom(e.name,Ue.Wrap),i=r.peek();while(null!=i&&t.compare(i,e)<0)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));var r=this.children_.getReverseIteratorFrom(e.name,Ue.Wrap),i=r.peek();while(null!=i&&t.compare(i,e)>0)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===mt?-1:0}},{key:"withIndex",value:function(t){if(t===He||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===He||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){var n=this.getIterator(lt),r=t.getIterator(lt),i=n.getNext(),a=r.getNext();while(i&&a){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===He?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return st||(st=new e(new Je(Ze),null,vt.Default))}}]),e}();pt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var yt=function(e){(0,l.default)(n,e);var t=b(n);function n(){return(0,v.default)(this,n),t.call(this,new Je(Ze),pt.EMPTY_NODE,vt.Default)}return(0,p.default)(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return pt.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(pt),mt=new yt;Object.defineProperties(Ue,{MIN:{value:new Ue(z,pt.EMPTY_NODE)},MAX:{value:new Ue(W,mt)}}),We.__EMPTY_NODE=pt.EMPTY_NODE,at.__childrenNodeConstructor=pt,function(e){Ke=e}(mt),function(e){nt=e}(mt);function gt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return pt.EMPTY_NODE;if("object"===(0,h.default)(e)&&".priority"in e&&(t=e[".priority"]),(0,g.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===(0,h.default)(t)&&".sv"in t,"Invalid priority type found: "+(0,h.default)(t)),"object"===(0,h.default)(e)&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==(0,h.default)(e)||".sv"in e){var n=e;return new at(n,gt(t))}if(e instanceof Array){var r=pt.EMPTY_NODE;return J(e,(function(t,n){if((0,g.contains)(e,t)&&"."!==t.substring(0,1)){var i=gt(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(gt(t))}var i=[],a=!1,o=e;if(J(o,(function(e,t){if("."!==e.substring(0,1)){var n=gt(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Ue(e,n)))}})),0===i.length)return pt.EMPTY_NODE;var s=dt(i,Xe,(function(e){return e.name}),Ze);if(a){var u=dt(i,lt.getCompare());return new pt(s,gt(t),new vt({".priority":u},{".priority":lt}))}return new pt(s,gt(t),vt.Default)}(function(e){tt=e})(gt);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _t=function(e){(0,l.default)(n,e);var t=b(n);function n(e){var r;return(0,v.default)(this,n),r=t.call(this),r.indexPath_=e,(0,g.assert)(!Ne(e)&&".priority"!==xe(e),"Can't create PathIndex with empty path or .priority key"),r}return(0,p.default)(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?H(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=gt(e),r=pt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ue(t,r)}},{key:"maxPost",value:function(){var e=pt.EMPTY_NODE.updateChild(this.indexPath_,mt);return new Ue(W,e)}},{key:"toString",value:function(){return Pe(this.indexPath_,0).join("/")}}]),n}(ze),bt=function(e){(0,l.default)(n,e);var t=b(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,p.default)(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?H(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ue.MIN}},{key:"maxPost",value:function(){return Ue.MAX}},{key:"makePost",value:function(e,t){var n=gt(e);return new Ue(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(ze),wt=new bt;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function kt(e){return{type:"value",snapshotNode:e}}function Ct(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function St(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function xt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Et=function(){function e(t){(0,v.default)(this,e),this.index_=t}return(0,p.default)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){(0,g.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(St(t,o)):(0,g.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Ct(t,n)):a.trackChildChange(xt(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(lt,(function(e,r){t.hasChild(e)||n.trackChildChange(St(e,r))})),t.isLeafNode()||t.forEachChild(lt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(xt(t,r,i))}else n.trackChildChange(Ct(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?pt.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),It=function(){function e(t){(0,v.default)(this,e),this.indexedFilter_=new Et(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return(0,p.default)(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Ue(t,n))||(n=pt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=pt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(pt.EMPTY_NODE);var i=this;return t.forEachChild(lt,(function(e,t){i.matches(new Ue(e,t))||(r=r.updateImmediateChild(e,pt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Tt=function(){function e(t){var n=this;(0,v.default)(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new It(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return(0,p.default)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Ue(t,n))||(n=pt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=pt.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var a=0;while(i.hasNext()&&a<this.limit_){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=t.withIndex(this.index_),r=r.updatePriority(pt.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);var u=0;while(s.hasNext()){var l=s.getNext(),c=u<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l);c?u++:r=r.updateImmediateChild(l.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;(0,g.assert)(s.numChildren()===this.limit_,"");var u=new Ue(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){var f=s.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);while(null!=d&&(d.name===t||s.hasChild(d.name)))d=r.getChildAfterChild(this.index_,d,this.reverse_);var h=null==d?1:a(d,u),v=c&&!n.isEmpty()&&h>=0;if(v)return null!=i&&i.trackChildChange(xt(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(St(t,f));var p=s.updateImmediateChild(t,pt.EMPTY_NODE),y=null!=d&&this.rangedFilter_.matches(d);return y?(null!=i&&i.trackChildChange(Ct(d.name,d.node)),p.updateImmediateChild(d.name,d.node)):p}return n.isEmpty()?e:c&&a(l,u)>=0?(null!=i&&(i.trackChildChange(St(l.name,l.node)),i.trackChildChange(Ct(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,pt.EMPTY_NODE)):e}}]),e}(),Pt=function(){function e(){(0,v.default)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}return(0,p.default)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return(0,g.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return(0,g.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:z}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return(0,g.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return(0,g.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:W}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return(0,g.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===lt}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ot(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Nt(e,t){var n=e.copy();return n.index_=t,n}function Dt(e){var t,n={};if(e.isDefault())return n;if(e.index_===lt?t="$priority":e.index_===wt?t="$value":e.index_===He?t="$key":((0,g.assert)(e.index_ instanceof _t,"Unrecognized index type!"),t=e.index_.toString()),n["orderBy"]=(0,g.stringify)(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=(0,g.stringify)(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+(0,g.stringify)(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=(0,g.stringify)(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+(0,g.stringify)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n["limitToFirst"]=e.limit_:n["limitToLast"]=e.limit_),n}function Rt(e){var t={};if(e.startSet_&&(t["sp"]=e.indexStartValue_,e.startNameSet_&&(t["sn"]=e.indexStartName_),t["sin"]=!e.startAfterSet_),e.endSet_&&(t["ep"]=e.indexEndValue_,e.endNameSet_&&(t["en"]=e.indexEndName_),t["ein"]=!e.endBeforeSet_),e.limitSet_){t["l"]=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t["vf"]=n}return e.index_!==lt&&(t["i"]=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t._QueryParams=Pt;var Mt=function(e){(0,l.default)(n,e);var t=b(n);function n(e,r,i,a){var o;return(0,v.default)(this,n),o=t.call(this),o.repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=q("p:rest:"),o.listens_={},o}return(0,p.default)(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=Dt(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n,l=t;(404===e&&(l=null,e=null),null===e&&a.onDataUpdate_(o,l,!1,r),(0,g.safeGet)(a.listens_,s)===u)&&(n=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(n,null))}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Dt(e._queryParams),r=e._path.toString(),i=new g.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=(0,o.default)(i,2),s=a[0],u=a[1];s&&s.accessToken&&(n["auth"]=s.accessToken),u&&u.token&&(n["ac"]=u.token);var l=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+(0,g.querystring)(n);t.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=(0,g.jsonEval)(c.responseText)}catch(n){V("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&V("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:((0,g.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(be),Ft=function(){function e(){(0,v.default)(this,e),this.rootNode_=pt.EMPTY_NODE}return(0,p.default)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Lt(){return{value:null,children:new Map}}function jt(e,t,n){if(Ne(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=xe(t);e.children.has(r)||e.children.set(r,Lt());var i=e.children.get(r);t=Ie(t),jt(i,t,n)}}function qt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,(function(e,r){var i=new Ce(t.toString()+"/"+e);qt(r,i,n)}))}var $t,Bt=function(){function e(t){(0,v.default)(this,e),this.collection_=t,this.last_=null}return(0,p.default)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&J(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Vt=function(){function e(t,n){(0,v.default)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Bt(t);var r=1e4+2e4*Math.random();ne(this.reportStats_.bind(this),Math.floor(r))}return(0,p.default)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;J(t,(function(t,i){i>0&&(0,g.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),ne(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function zt(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})($t||($t={}));var Ht,Gt=function(){function e(t,n,r){(0,v.default)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=$t.ACK_USER_WRITE,this.source=Ut()}return(0,p.default)(e,[{key:"operationForChild",value:function(t){if(Ne(this.path)){if(null!=this.affectedTree.value)return(0,g.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ce(t));return new e(Se(),n,this.revert)}return(0,g.assert)(xe(this.path)===t,"operationForChild called for unrelated child."),new e(Ie(this.path),this.affectedTree,this.revert)}}]),e}(),Qt=function(){function e(t,n){(0,v.default)(this,e),this.source=t,this.path=n,this.type=$t.LISTEN_COMPLETE}return(0,p.default)(e,[{key:"operationForChild",value:function(t){return Ne(this.path)?new e(this.source,Se()):new e(this.source,Ie(this.path))}}]),e}(),Kt=function(){function e(t,n,r){(0,v.default)(this,e),this.source=t,this.path=n,this.snap=r,this.type=$t.OVERWRITE}return(0,p.default)(e,[{key:"operationForChild",value:function(t){return Ne(this.path)?new e(this.source,Se(),this.snap.getImmediateChild(t)):new e(this.source,Ie(this.path),this.snap)}}]),e}(),Yt=function(){function e(t,n,r){(0,v.default)(this,e),this.source=t,this.path=n,this.children=r,this.type=$t.MERGE}return(0,p.default)(e,[{key:"operationForChild",value:function(t){if(Ne(this.path)){var n=this.children.subtree(new Ce(t));return n.isEmpty()?null:n.value?new Kt(this.source,Se(),n.value):new e(this.source,Se(),n)}return(0,g.assert)(xe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ie(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Jt=function(){function e(t,n,r){(0,v.default)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return(0,p.default)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Ne(e))return this.isFullyInitialized()&&!this.filtered_;var t=xe(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Xt=(0,p.default)((function e(t){(0,v.default)(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,g.assertionError)("Should only compare child_ events.");var r=new Ue(t.childName,t.snapshotNode),i=new Ue(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function en(e,t){return{eventCache:e,serverCache:t}}function tn(e,t,n,r){return en(new Jt(t,n,r),e.serverCache)}function nn(e,t,n,r){return en(e.eventCache,new Jt(t,n,r))}function rn(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function an(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on=function(){return Ht||(Ht=new Je(G)),Ht},sn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:on();(0,v.default)(this,e),this.value=t,this.children=n}return(0,p.default)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Se(),value:this.value};if(Ne(e))return null;var n=xe(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ie(e),t);if(null!=i){var a=Oe(new Ce(n),i.path);return{path:a,value:i.value}}return null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Ne(t))return this;var n=xe(t),r=this.children.get(n);return null!==r?r.subtree(Ie(t)):new e(null)}},{key:"set",value:function(t,n){if(Ne(t))return new e(n,this.children);var r=xe(t),i=this.children.get(r)||new e(null),a=i.set(Ie(t),n),o=this.children.insert(r,a);return new e(this.value,o)}},{key:"remove",value:function(t){if(Ne(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=xe(t),r=this.children.get(n);if(r){var i,a=r.remove(Ie(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Ne(e))return this.value;var t=xe(e),n=this.children.get(t);return n?n.get(Ie(e)):null}},{key:"setTree",value:function(t,n){if(Ne(t))return n;var r,i=xe(t),a=this.children.get(i)||new e(null),o=a.setTree(Ie(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Se(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Oe(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Se(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Ne(e))return null;var i=xe(e),a=this.children.get(i);return a?a.findOnPath_(Ie(e),Oe(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Se(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Ne(t))return this;this.value&&r(n,this.value);var i=xe(t),a=this.children.get(i);return a?a.foreachOnPath_(Ie(t),Oe(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Se(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Oe(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return J(t,(function(e,t){n=n.set(new Ce(e),t)})),n}}]),e}(),un=function(){function e(t){(0,v.default)(this,e),this.writeTree_=t}return(0,p.default)(e,null,[{key:"empty",value:function(){return new e(new sn(null))}}]),e}();function ln(e,t,n){if(Ne(t))return new un(new sn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=De(i,t);return a=a.updateChild(o,n),new un(e.writeTree_.set(i,a))}var s=new sn(n),u=e.writeTree_.setTree(t,s);return new un(u)}function cn(e,t,n){var r=e;return J(n,(function(e,n){r=ln(r,Oe(t,e),n)})),r}function fn(e,t){if(Ne(t))return un.empty();var n=e.writeTree_.setTree(t,new sn(null));return new un(n)}function dn(e,t){return null!=hn(e,t)}function hn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(De(n.path,t)):null}function vn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(lt,(function(e,n){t.push(new Ue(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ue(e,n.value))})),t}function pn(e,t){if(Ne(t))return e;var n=hn(e,t);return new un(null!=n?new sn(n):e.writeTree_.subtree(t))}function yn(e){return e.writeTree_.isEmpty()}function mn(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,a){".priority"===n?((0,g.assert)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(Oe(t,n),a,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(Oe(t,".priority"),i)),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Se(),e.writeTree_,t)}function gn(e,t){return Nn(t,e)}function _n(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function bn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,g.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);var i=r.visible,a=!1,o=e.allWrites.length-1;while(i&&o>=0){var s=e.allWrites[o];s.visible&&(o>=n&&wn(s,r.path)?i=!1:Fe(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Cn(e.allWrites,kn,Se()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=fn(e.visibleWrites,r.path);else{var u=r.children;J(u,(function(t){e.visibleWrites=fn(e.visibleWrites,Oe(r.path,t))}))}return!0}return!1}function wn(e,t){if(e.snap)return Fe(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Fe(Oe(e.path,n),t))return!0;return!1}function kn(e){return e.visible}function Cn(e,t,n){for(var r=un.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Fe(n,o)?(s=De(n,o),r=ln(r,s,a.snap)):Fe(o,n)&&(s=De(o,n),r=ln(r,Se(),a.snap.getChild(s)));else{if(!a.children)throw(0,g.assertionError)("WriteRecord should have .snap or .children");if(Fe(n,o))s=De(n,o),r=cn(r,s,a.children);else if(Fe(o,n))if(s=De(o,n),Ne(s))r=cn(r,Se(),a.children);else{var u=(0,g.safeGet)(a.children,xe(s));if(u){var l=u.getChild(Ie(s));r=ln(r,Se(),l)}}}}}return r}function Sn(e,t,n,r,i){if(r||i){var a=pn(e.visibleWrites,t);if(!i&&yn(a))return n;if(i||null!=n||dn(a,Se())){var o=Cn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Fe(e.path,t)||Fe(t,e.path))}),t),s=n||pt.EMPTY_NODE;return mn(o,s)}return null}var u=hn(e.visibleWrites,t);if(null!=u)return u;var l=pn(e.visibleWrites,t);if(yn(l))return n;if(null!=n||dn(l,Se())){var c=n||pt.EMPTY_NODE;return mn(l,c)}return null}function xn(e,t,n,r){return Sn(e.writeTree,e.treePath,t,n,r)}function En(e,t){return function(e,t,n){var r=pt.EMPTY_NODE,i=hn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(lt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=pn(e.visibleWrites,t);return n.forEachChild(lt,(function(e,t){var n=mn(pn(a,new Ce(e)),t);r=r.updateImmediateChild(e,n)})),vn(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}var o=pn(e.visibleWrites,t);return vn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function In(e,t,n,r){return function(e,t,n,r,i){(0,g.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Oe(t,n);if(dn(e.visibleWrites,a))return null;var o=pn(e.visibleWrites,a);return yn(o)?i.getChild(n):mn(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Tn(e,t){return function(e,t){return hn(e.visibleWrites,t)}(e.writeTree,Oe(e.treePath,t))}function Pn(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=pn(e.visibleWrites,t),l=hn(u,Se());if(null!=l)s=l;else{if(null==n)return[];s=mn(u,n)}if(s=s.withIndex(o),s.isEmpty()||s.isLeafNode())return[];var c=[],f=o.getCompare(),d=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),h=d.getNext();while(h&&c.length<i)0!==f(h,r)&&c.push(h),h=d.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function An(e,t,n){return function(e,t,n,r){var i=Oe(t,n),a=hn(e.visibleWrites,i);if(null!=a)return a;if(r.isCompleteForChild(n)){var o=pn(e.visibleWrites,i);return mn(o,r.getNode().getImmediateChild(n))}return null}(e.writeTree,e.treePath,t,n)}function On(e,t){return Nn(Oe(e.treePath,t),e.writeTree)}function Nn(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn=function(){function e(){(0,v.default)(this,e),this.changeMap=new Map}return(0,p.default)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;(0,g.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,g.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,xt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,St(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ct(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,g.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,xt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Rn=function(){function e(){(0,v.default)(this,e)}return(0,p.default)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}(),Mn=new Rn,Fn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,v.default)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return(0,p.default)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Jt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return An(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:an(this.viewCache_),i=Pn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(e,t,n,r,i){var a,o,s=new Dn;if(n.type===$t.OVERWRITE){var u=n;u.source.fromUser?a=$n(e,t,u.path,u.snap,r,i,s):((0,g.assert)(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Ne(u.path),a=qn(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===$t.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=Oe(n,r);Bn(t,xe(l))&&(s=$n(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=Oe(n,r);Bn(t,xe(l))||(s=$n(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):((0,g.assert)(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Un(e,t,l.path,l.children,r,i,o,s))}else if(n.type===$t.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=Tn(r,n))return t;var s,u=new Fn(r,t,i),l=t.eventCache.getNode();if(Ne(n)||".priority"===xe(n)){var c;if(t.serverCache.isFullyInitialized())c=xn(r,an(t));else{var f=t.serverCache.getNode();(0,g.assert)(f instanceof pt,"serverChildren would be complete if leaf node"),c=En(r,f)}c=c,s=e.filter.updateFullNode(l,c,a)}else{var d=xe(n),h=An(r,d,t.serverCache);null==h&&t.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),s=null!=h?e.filter.updateChild(l,d,h,Ie(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(l,d,pt.EMPTY_NODE,Ie(n),u,a):l,s.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=xn(r,an(t)),o.isLeafNode()&&(s=e.filter.updateFullNode(s,o,a)))}return o=t.serverCache.isFullyInitialized()||null!=Tn(r,Se()),tn(t,s,o,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Tn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Ne(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return qn(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Ne(n)){var l=new sn(null);return u.getNode().forEachChild(He,(function(e,t){l=l.set(new Ce(e),t)})),Un(e,t,n,l,i,a,s,o)}return t}var c=new sn(null);return r.foreach((function(e,t){var r=Oe(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Un(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==$t.LISTEN_COMPLETE)throw(0,g.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=nn(t,a.getNode(),a.isFullyInitialized()||Ne(n),a.isFiltered());return jn(e,o,n,r,Mn,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=rn(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(kt(rn(t)))}}(t,a,f),{viewCache:a,changes:f}}function jn(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Tn(r,n))return t;if(Ne(n))if((0,g.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=an(t),c=l instanceof pt?l:pt.EMPTY_NODE,f=En(r,c);o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=xn(r,an(t));o=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var h=xe(n);if(".priority"===h){(0,g.assert)(1===Ee(n),"Can't have a priority with additional path components");var v=u.getNode();s=t.serverCache.getNode();var p=In(r,n,v,s);o=null!=p?e.filter.updatePriority(v,p):u.getNode()}else{var y,m=Ie(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var _=In(r,n,u.getNode(),s);y=null!=_?u.getNode().getImmediateChild(h).updateChild(m,_):u.getNode().getImmediateChild(h)}else y=An(r,h,t.serverCache);o=null!=y?e.filter.updateChild(u.getNode(),h,y,m,i,a):u.getNode()}}return tn(t,o,u.isFullyInitialized()||Ne(n),e.filter.filtersNodes())}function qn(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Ne(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var d=xe(n);if(!l.isCompleteForPath(n)&&Ee(n)>1)return t;var h=Ie(n),v=l.getNode().getImmediateChild(d),p=v.updateChild(h,r);u=".priority"===d?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),d,p,h,Mn,null)}var y=nn(t,u,l.isFullyInitialized()||Ne(n),c.filtersNodes()),m=new Fn(i,y,a);return jn(e,y,n,i,m,s)}function $n(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new Fn(i,t,a);if(Ne(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=tn(t,u,!0,e.filter.filtersNodes());else{var f=xe(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=tn(t,u,l.isFullyInitialized(),l.isFiltered());else{var d,h=Ie(n),v=l.getNode().getImmediateChild(f);if(Ne(h))d=r;else{var p=c.getCompleteChild(f);d=null!=p?".priority"===Te(h)&&p.getChild(Ae(h)).isEmpty()?p:p.updateChild(h,r):pt.EMPTY_NODE}if(v.equals(d))s=t;else{var y=e.filter.updateChild(l.getNode(),f,d,h,c,o);s=tn(t,y,l.isFullyInitialized(),e.filter.filtersNodes())}}}return s}function Bn(e,t){return e.eventCache.isCompleteForChild(t)}function Vn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Un(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Ne(n)?r:new sn(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=t.serverCache.getNode().getImmediateChild(n),f=Vn(0,u,r);l=qn(e,l,new Ce(n),f,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var f=t.serverCache.getNode().getImmediateChild(n),d=Vn(0,f,r);l=qn(e,l,new Ce(n),d,i,a,o,s)}})),l}var zn,Wn=function(){function e(t,n){(0,v.default)(this,e),this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new Et(r.getIndex()),a=function(e){return e.loadsAllData()?new Et(e.getIndex()):e.hasLimit()?new Tt(e):new It(e)}(r);this.processor_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return{filter:e}}(a);var o=n.serverCache,s=n.eventCache,u=i.updateFullNode(pt.EMPTY_NODE,o.getNode(),null),l=a.updateFullNode(pt.EMPTY_NODE,s.getNode(),null),c=new Jt(u,o.isFullyInitialized(),i.filtersNodes()),f=new Jt(l,s.isFullyInitialized(),a.filtersNodes());this.viewCache_=en(f,c),this.eventGenerator_=new Xt(this.query_)}return(0,p.default)(e,[{key:"query",get:function(){return this.query_}}]),e}();function Hn(e,t){var n=an(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ne(t)&&!n.getImmediateChild(xe(t)).isEmpty())?n.getChild(t):null}function Gn(e){return 0===e.eventRegistrations_.length}function Qn(e,t,n){var r=[];if(n){(0,g.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Kn(e,t,n,r){t.type===$t.MERGE&&null!==t.source.queryId&&((0,g.assert)(an(e.viewCache_),"We should always have a full cache before handling merges"),(0,g.assert)(rn(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,a=Ln(e.processor_,i,t,n,r);return function(e,t){(0,g.assert)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,g.assert)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,a.viewCache),(0,g.assert)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,Yn(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Yn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push(function(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(t.childName,t.snapshotNode))})),Zt(e,i,"child_removed",t,r,n),Zt(e,i,"child_added",t,r,n),Zt(e,i,"child_moved",a,r,n),Zt(e,i,"child_changed",t,r,n),Zt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn,Xn=(0,p.default)((function e(){(0,v.default)(this,e),this.views=new Map}));function Zn(e){return 0===e.views.size}function er(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return(0,g.assert)(null!=a,"SyncTree gave us an op for an invalid query."),Kn(a,t,n,r)}var o,s=[],u=w(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(Kn(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function tr(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=xn(n,i?r:null),u=!1;s?u=!0:r instanceof pt?(s=En(n,r),u=!1):(s=pt.EMPTY_NODE,u=!1);var l=en(new Jt(s,u,!1),new Jt(r,i,!1));return new Wn(t,l)}return o}function nr(e,t,n,r,i,a){var o=tr(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(lt,(function(e,t){r.push(Ct(e,t))}))}return n.isFullyInitialized()&&r.push(kt(n.getNode())),Yn(e,r,n.getNode(),t)}(o,n)}function rr(e,t,n,r){var i=t._queryIdentifier,a=[],s=[],u=ur(e);if("default"===i){var l,c=w(e.views.entries());try{for(c.s();!(l=c.n()).done;){var f=(0,o.default)(l.value,2),d=f[0],h=f[1];s=s.concat(Qn(h,n,r)),Gn(h)&&(e.views.delete(d),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(p){c.e(p)}finally{c.f()}}else{var v=e.views.get(i);v&&(s=s.concat(Qn(v,n,r)),Gn(v)&&(e.views.delete(i),v.query._queryParams.loadsAllData()||a.push(v.query)))}return u&&!ur(e)&&a.push(new(function(){return(0,g.assert)(zn,"Reference.ts has not been loaded"),zn}())(t._repo,t._path)),{removed:a,events:s}}function ir(e){var t,n=[],r=w(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function ar(e,t){var n,r=null,i=w(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Hn(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function or(e,t){var n=t._queryParams;if(n.loadsAllData())return lr(e);var r=t._queryIdentifier;return e.views.get(r)}function sr(e,t){return null!=or(e,t)}function ur(e){return null!=lr(e)}function lr(e){var t,n=w(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr=1,fr=(0,p.default)((function e(t){(0,v.default)(this,e),this.listenProvider_=t,this.syncPointTree_=new sn(null),this.pendingWriteTree_=function(){return{visibleWrites:un.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function dr(e,t,n,r,i){return function(e,t,n,r,i){(0,g.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ln(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?_r(e,new Kt(Ut(),t,n)):[]}function hr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_n(e.pendingWriteTree_,t),i=bn(e.pendingWriteTree_,t);if(i){var a=new sn(null);return null!=r.snap?a=a.set(Se(),!0):J(r.children,(function(e){a=a.set(new Ce(e),!0)})),_r(e,new Gt(r.path,a,n))}return[]}function vr(e,t,n){return _r(e,new Kt(zt(),t,n))}function pr(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||sr(o,t))){var u=rr(o,t,n,r);Zn(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=u.removed;if(s=u.events,!i){var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return ur(t)}));if(c&&!f){var d=e.syncPointTree_.subtree(a);if(!d.isEmpty())for(var h=Er(d),v=0;v<h.length;++v){var p=h[v],y=p.query,m=br(e,p);e.listenProvider_.startListening(Ir(y),wr(e,y),m.hashFn,m.onComplete)}}if(!f&&l.length>0&&!r)if(c){var g=null;e.listenProvider_.stopListening(Ir(t),g)}else l.forEach((function(t){var n=e.queryToTagMap.get(kr(t));e.listenProvider_.stopListening(Ir(t),n)}))}Tr(e,l)}return s}function yr(e,t,n,r){var i=Cr(e,r);if(null!=i){var a=Sr(i),o=a.path,s=a.queryId,u=De(o,t),l=new Kt(Wt(s),u,n);return xr(e,o,l)}return[]}function mr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=De(e,i);a=a||ar(t,n),o=o||ur(t)}));var s,u=e.syncPointTree_.get(i);if(u?(o=o||ur(u),a=a||ar(u,Se())):(u=new Xn,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)s=!0;else{s=!1,a=pt.EMPTY_NODE;var l=e.syncPointTree_.subtree(i);l.foreachChild((function(e,t){var n=ar(t,Se());n&&(a=a.updateImmediateChild(e,n))}))}var c=sr(u,t);if(!c&&!t._queryParams.loadsAllData()){var f=kr(t);(0,g.assert)(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var d=Pr();e.queryToTagMap.set(f,d),e.tagToQueryMap.set(d,f)}var h=gn(e.pendingWriteTree_,i),v=nr(u,t,n,h,a,s);if(!c&&!o&&!r){var p=or(u,t);v=v.concat(Ar(e,t,p))}return v}function gr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=De(e,t),i=ar(n,r);if(i)return i}));return Sn(r,t,i,n,!0)}function _r(e,t){return function e(t,n,r,i){if(Ne(t.path))return function e(t,n,r,i){var a=n.get(Se());null==r&&null!=a&&(r=ar(a,Se()));var o=[];n.children.inorderTraversal((function(n,a){var s=r?r.getImmediateChild(n):null,u=On(i,n),l=t.operationForChild(n);l&&(o=o.concat(e(l,a,s,u)))})),a&&(o=o.concat(er(a,t,i,r)));return o}(t,n,r,i);var a=n.get(Se());null==r&&null!=a&&(r=ar(a,Se()));var o=[],s=xe(t.path),u=t.operationForChild(s),l=n.children.get(s);if(l&&u){var c=r?r.getImmediateChild(s):null,f=On(i,s);o=o.concat(e(u,l,c,f))}return a&&(o=o.concat(er(a,t,i,r))),o}(t,e.syncPointTree_,null,gn(e.pendingWriteTree_,Se()))}function br(e,t){var n=t.query,r=wr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||pt.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Cr(e,n);if(r){var i=Sr(r),a=i.path,o=i.queryId,s=De(a,t),u=new Qt(Wt(o),s);return xr(e,a,u)}return[]}(e,n._path,r):function(e,t){return _r(e,new Qt(zt(),t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return pr(e,n,null,i)}}}function wr(e,t){var n=kr(t);return e.queryToTagMap.get(n)}function kr(e){return e._path.toString()+"$"+e._queryIdentifier}function Cr(e,t){return e.tagToQueryMap.get(t)}function Sr(e){var t=e.indexOf("$");return(0,g.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ce(e.substr(0,t))}}function xr(e,t,n){var r=e.syncPointTree_.get(t);(0,g.assert)(r,"Missing sync point for query tag that we're tracking");var i=gn(e.pendingWriteTree_,t);return er(r,n,i,null)}function Er(e){return e.fold((function(e,t,n){if(t&&ur(t)){var r=lr(t);return[r]}var i=[];return t&&(i=ir(t)),J(n,(function(e,t){i=i.concat(t)})),i}))}function Ir(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function(){return(0,g.assert)(Jn,"Reference.ts has not been loaded"),Jn}())(e._repo,e._path):e}function Tr(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=kr(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function Pr(){return cr++}function Ar(e,t,n){var r=t._path,i=wr(e,t),a=br(e,n),o=e.listenProvider_.startListening(Ir(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)(0,g.assert)(!ur(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Ne(e)&&t&&ur(t))return[lr(t).query];var r=[];return t&&(r=r.concat(ir(t).map((function(e){return e.query})))),J(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(Ir(c),wr(e,c))}return o}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or=function(){function e(t){(0,v.default)(this,e),this.node_=t}return(0,p.default)(e,[{key:"getImmediateChild",value:function(t){var n=this.node_.getImmediateChild(t);return new e(n)}},{key:"node",value:function(){return this.node_}}]),e}(),Nr=function(){function e(t,n){(0,v.default)(this,e),this.syncTree_=t,this.path_=n}return(0,p.default)(e,[{key:"getImmediateChild",value:function(t){var n=Oe(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return gr(this.syncTree_,this.path_)}}]),e}(),Dr=function(e,t,n){return e&&"object"===(0,h.default)(e)?((0,g.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Rr(e[".sv"],t,n):"object"===(0,h.default)(e[".sv"])?Mr(e[".sv"],t):void(0,g.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Rr=function(e,t,n){switch(e){case"timestamp":return n["timestamp"];default:(0,g.assert)(!1,"Unexpected server value: "+e)}},Mr=function(e,t,n){e.hasOwnProperty("increment")||(0,g.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e["increment"];"number"!==typeof r&&(0,g.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,g.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i,o=a.getValue();return"number"!==typeof o?r:o+r},Fr=function(e,t,n,r){return jr(t,new Nr(n,e),r)},Lr=function(e,t,n){return jr(e,new Or(t),n)};function jr(e,t,n){var r,i=e.getPriority().val(),a=Dr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Dr(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new at(s,gt(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new at(a))),u.forEachChild(lt,(function(e,i){var a=jr(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr=(0,p.default)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};(0,v.default)(this,e),this.name=t,this.parent=n,this.node=r}));function $r(e,t){var n=t instanceof Ce?t:new Ce(t),r=e,i=xe(n);while(null!==i){var a=(0,g.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new qr(i,r,a),n=Ie(n),i=xe(n)}return r}function Br(e){return e.node.value}function Vr(e,t){e.node.value=t,Hr(e)}function Ur(e){return e.node.childCount>0}function zr(e,t){J(e.node.children,(function(n,r){t(new qr(n,e,r))}))}function Wr(e){return new Ce(null===e.parent?e.name:Wr(e.parent)+"/"+e.name)}function Hr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Br(e)&&!Ur(e)}(n),i=(0,g.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Hr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Hr(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}var Gr=/[\[\].#$\/\u0000-\u001F\u007F]/,Qr=/[\[\].#$\u0000-\u001F\u007F]/,Kr=function(e){return"string"===typeof e&&0!==e.length&&!Gr.test(e)},Yr=function(e){return"string"===typeof e&&0!==e.length&&!Qr.test(e)},Jr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!U(e)||e&&"object"===(0,h.default)(e)&&(0,g.contains)(e,".sv")},Xr=function(e,t,n,r){r&&void 0===t||Zr((0,g.errorPrefix)(e,"value"),t,n)},Zr=function e(t,n,r){var i=r instanceof Ce?new Le(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+qe(i));if("function"===typeof n)throw new Error(t+"contains a function "+qe(i)+" with contents = "+n.toString());if(U(n))throw new Error(t+"contains "+n.toString()+" "+qe(i));if("string"===typeof n&&n.length>10485760/3&&(0,g.stringLength)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+qe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===(0,h.default)(n)){var a=!1,o=!1;if(J(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Kr(n)))throw new Error(t+" contains an invalid key ("+n+") "+qe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,g.stringLength)(t),je(e)})(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,g.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+qe(i)+" in addition to actual children.")}},ei=function(e,t,n,r){if(!r||void 0!==t){var i=(0,g.errorPrefix)(e,"values");if(!t||"object"!==(0,h.default)(t)||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];J(t,(function(e,t){var r=new Ce(e);if(Zr(i,t,Oe(n,r)),".priority"===Te(r)&&!Jr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Pe(r),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Kr(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Re);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Fe(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},ti=function(e,t,n){if(!n||void 0!==t){if(U(t))throw new Error((0,g.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Jr(t))throw new Error((0,g.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ni=function(e,t,n,r){if((!r||void 0!==n)&&!Kr(n))throw new Error((0,g.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ri=function(e,t,n,r){if((!r||void 0!==n)&&!Yr(n))throw new Error((0,g.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')};t._validatePathString=ri;var ii=function(e,t){if(".info"===xe(t))throw new Error(e+" failed = Can't modify data under /.info/")};t._validateWritablePath=ii;var ai=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Kr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Yr(e)}(n))throw new Error((0,g.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},oi=(0,p.default)((function e(){(0,v.default)(this,e),this.eventLists_=[],this.recursionDepth_=0}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Me(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function ui(e,t,n){si(e,n),ci(e,(function(e){return Me(e,t)}))}function li(e,t,n){si(e,n),ci(e,(function(e){return Fe(e,t)||Fe(t,e)}))}function ci(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var a=i.path;t(a)?(fi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function fi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();M&&j("event: "+n.toString()),te(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(){function e(t,n,r,i){(0,v.default)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lt(),this.transactionQueueTree_=new qr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return(0,p.default)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function hi(e,t,n){if(e.stats_=de(e.repoInfo_),e.forceRestClient_||function(){var e="object"===("undefined"===typeof window?"undefined":(0,h.default)(window))&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0}())e.server_=new Mt(e.repoInfo_,(function(t,n,r,i){yi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return mi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==(0,h.default)(n))throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,g.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Be(e.repoInfo_,t,(function(t,n,r,i){yi(e,t,n,r,i)}),(function(t){mi(e,t)}),(function(t){(function(e,t){J(t,(function(t,n){gi(e,t,n)}))})(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return fe[n]||(fe[n]=t()),fe[n]}(e.repoInfo_,(function(){return new Vt(e.stats_,e.server_)})),e.infoData_=new Ft,e.infoSyncTree_=new fr({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=vr(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),gi(e,"connected",!1),e.serverSyncTree_=new fr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);li(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function vi(e){var t=e.infoData_.getNode(new Ce(".info/serverTimeOffset")),n=t.val()||0;return(new Date).getTime()+n}function pi(e){return function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e}({timestamp:vi(e)})}function yi(e,t,n,r,i){e.dataUpdateCount++;var a=new Ce(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=(0,g.map)(n,(function(e){return gt(e)}));o=function(e,t,n,r){var i=Cr(e,r);if(i){var a=Sr(i),o=a.path,s=a.queryId,u=De(o,t),l=sn.fromObject(n),c=new Yt(Wt(s),u,l);return xr(e,o,c)}return[]}(e.serverSyncTree_,a,s,i)}else{var u=gt(n);o=yr(e.serverSyncTree_,a,u,i)}else if(r){var l=(0,g.map)(n,(function(e){return gt(e)}));o=function(e,t,n){var r=sn.fromObject(n);return _r(e,new Yt(zt(),t,r))}(e.serverSyncTree_,a,l)}else{var c=gt(n);o=vr(e.serverSyncTree_,a,c)}var f=a;o.length>0&&(f=Ai(e,a)),li(e.eventQueue_,f,o)}function mi(e,t){gi(e,"connected",t),!1===t&&function(e){xi(e,"onDisconnectEvents");var t=pi(e),n=Lt();qt(e.onDisconnect_,Se(),(function(r,i){var a=Fr(r,i,e.serverSyncTree_,t);jt(n,r,a)}));var r=[];qt(n,Se(),(function(t,n){r=r.concat(vr(e.serverSyncTree_,t,n));var i=Ri(e,t);Ai(e,i)})),e.onDisconnect_=Lt(),li(e.eventQueue_,Se(),r)}(e)}function gi(e,t,n){var r=new Ce("/.info/"+t),i=gt(n);e.infoData_.updateSnapshot(r,i);var a=vr(e.infoSyncTree_,r,i);li(e.eventQueue_,r,a)}function _i(e){return e.nextWriteId_++}function bi(e,t,n,r,i){xi(e,"set",{path:t.toString(),value:n,priority:r});var a=pi(e),o=gt(n,r),s=gr(e.serverSyncTree_,t),u=Lr(o,s,a),l=_i(e),c=dr(e.serverSyncTree_,t,u,l,!0);si(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||V("set at "+t+" failed: "+n);var o=hr(e.serverSyncTree_,l,!a);li(e.eventQueue_,t,o),Ei(e,i,n,r)}));var f=Ri(e,t);Ai(e,f),li(e.eventQueue_,f,[])}function wi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(Ne(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(lt,(function(e,n){jt(t,new Ce(e),n)})),e(t,n)}if(t.children.size>0){var i=xe(n);if(n=Ie(n),t.children.has(i)){var a=e(t.children.get(i),n);a&&t.children.delete(i)}return 0===t.children.size}return!0}(e.onDisconnect_,t),Ei(e,n,r,i)}))}function ki(e,t,n,r){var i=gt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&jt(e.onDisconnect_,t,i),Ei(e,r,n,a)}))}function Ci(e,t,n){var r;r=".info"===xe(t._path)?pr(e.infoSyncTree_,t,n):pr(e.serverSyncTree_,t,n),ui(e.eventQueue_,t._path,r)}function Si(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function xi(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];j.apply(void 0,[t].concat(r))}function Ei(e,t,n,r){t&&te((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Ii(e,t,n){return gr(e.serverSyncTree_,t,n)||pt.EMPTY_NODE}function Ti(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Di(e,t),Br(t)){var n=Ni(e,t);(0,g.assert)(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Pi(e,Wr(t),n)}else Ur(t)&&zr(t,(function(t){Ti(e,t)}))}function Pi(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ii(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];(0,g.assert)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=De(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){xi(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(hr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Di(e,$r(e.transactionQueueTree_,t)),Ti(e,e.transactionQueueTree_),li(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)te(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{V("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}Ai(e,t)}}),o)}function Ai(e,t){var n=Oi(e,t),r=Wr(n),i=Ni(e,n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s=t[a],u=De(n,s.path),l=!1,c=void 0;if((0,g.assert)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,c=s.abortReason,i=i.concat(hr(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)l=!0,c="maxretry",i=i.concat(hr(e.serverSyncTree_,s.currentWriteId,!0));else{var f=Ii(e,s.path,o);s.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){Zr("transaction failed: Data returned ",d,s.path);var v=gt(d),p="object"===(0,h.default)(d)&&null!=d&&(0,g.contains)(d,".priority");p||(v=v.updatePriority(f.getPriority()));var y=s.currentWriteId,m=pi(e),_=Lr(v,f,m);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=_,s.currentWriteId=_i(e),o.splice(o.indexOf(y),1),i=i.concat(dr(e.serverSyncTree_,s.path,_,s.currentWriteId,s.applyLocally)),i=i.concat(hr(e.serverSyncTree_,y,!0))}else l=!0,c="nodata",i=i.concat(hr(e.serverSyncTree_,s.currentWriteId,!0))}li(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(c),!1,null)}))))},u=0;u<t.length;u++)s(u);Di(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)te(r[l]);Ti(e,e.transactionQueueTree_)}(e,i,r),r}function Oi(e,t){var n,r=e.transactionQueueTree_;n=xe(t);while(null!==n&&void 0===Br(r))r=$r(r,n),t=Ie(t),n=xe(t);return r}function Ni(e,t){var n=[];return function e(t,n,r){var i=Br(n);if(i)for(var a=0;a<i.length;a++)r.push(i[a]);zr(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Di(e,t){var n=Br(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Vr(t,n.length>0?n:void 0)}zr(t,(function(t){Di(e,t)}))}function Ri(e,t){var n=Wr(Oi(e,t)),r=$r(e.transactionQueueTree_,t);return function(e,t,n){var r=n?e:e.parent;while(null!==r){if(t(r))return!0;r=r.parent}}(r,(function(t){Mi(e,t)})),Mi(e,r),function e(t,n,r,i){r&&!i&&n(t),zr(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(r,(function(t){Mi(e,t)})),n}function Mi(e,t){var n=Br(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?((0,g.assert)(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):((0,g.assert)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(hr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Vr(t,void 0):n.length=a+1,li(e.eventQueue_,Wr(t),i);for(var s=0;s<r.length;s++)te(r[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fi=function(e,t){var n=Li(e),r=n.namespace;"firebase.com"===n.domain&&B(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||B("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&V("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")}();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new se(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Ce(n.pathString)}},Li=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,f)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=w(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):V("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));l=t.indexOf(":"),l>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d["ns"])}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},ji="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qi=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=ji.charAt(n%64),n=Math.floor(n/64);(0,g.assert)(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=ji.charAt(t[r]);return(0,g.assert)(20===o.length,"nextPushId: Length should be 20."),o}}(),$i=function(){function e(t,n,r,i){(0,v.default)(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return(0,p.default)(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+(0,g.stringify)(this.snapshot.exportVal())}}]),e}(),Bi=function(){function e(t,n,r){(0,v.default)(this,e),this.eventRegistration=t,this.error=n,this.path=r}return(0,p.default)(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Vi=function(){function e(t,n){(0,v.default)(this,e),this.snapshotCallback=t,this.cancelCallback=n}return(0,p.default)(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return(0,g.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Ui=function(){function e(t,n){(0,v.default)(this,e),this._repo=t,this._path=n}return(0,p.default)(e,[{key:"cancel",value:function(){var e=new g.Deferred;return wi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){ii("OnDisconnect.remove",this._path);var e=new g.Deferred;return ki(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){ii("OnDisconnect.set",this._path),Xr("OnDisconnect.set",e,this._path,!1);var t=new g.Deferred;return ki(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){ii("OnDisconnect.setWithPriority",this._path),Xr("OnDisconnect.setWithPriority",e,this._path,!1),ti("OnDisconnect.setWithPriority",t,!1);var n=new g.Deferred;return function(e,t,n,r,i){var a=gt(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&jt(e.onDisconnect_,t,a),Ei(e,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){ii("OnDisconnect.update",this._path),ei("OnDisconnect.update",e,this._path,!1);var t=new g.Deferred;return function(e,t,n,r){if((0,g.isEmpty)(n))return j("onDisconnect().update() called with empty data.  Don't do anything."),void Ei(e,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&J(n,(function(n,r){var i=gt(r);jt(e.onDisconnect_,Oe(t,n),i)})),Ei(e,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.OnDisconnect=Ui;var zi=function(){function e(t,n,r,i){(0,v.default)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return(0,p.default)(e,[{key:"key",get:function(){return Ne(this._path)?null:Te(this._path)}},{key:"ref",get:function(){return new Qi(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Rt(this._queryParams),t=K(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Rt(this._queryParams)}},{key:"isEqual",value:function(t){if(t=(0,g.getModularInstance)(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=Me(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function Wi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Hi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===He){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var a=e.getIndexStartName();if(a!==z)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){var o=e.getIndexEndName();if(o!==W)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===lt){if(null!=t&&!Jr(t)||null!=n&&!Jr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,g.assert)(e.getIndex()instanceof _t||e.getIndex()===wt,"unknown index type."),null!=t&&"object"===(0,h.default)(t)||null!=n&&"object"===(0,h.default)(n))throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}t._QueryImpl=zi;var Qi=function(e){(0,l.default)(n,e);var t=b(n);function n(e,r){return(0,v.default)(this,n),t.call(this,e,r,new Pt,!1)}return(0,p.default)(n,[{key:"parent",get:function(){var e=Ae(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){var e=this;while(null!==e.parent)e=e.parent;return e}}]),n}(zi);t._ReferenceImpl=Qi;var Ki=function(){function e(t,n,r){(0,v.default)(this,e),this._node=t,this.ref=n,this._index=r}return(0,p.default)(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Ce(t),r=Ji(this.ref,t);return new e(this._node.getChild(n),r,lt)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,(function(r,i){return t(new e(i,Ji(n.ref,r),lt))}))}},{key:"hasChild",value:function(e){var t=new Ce(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Yi(e,t){return e=(0,g.getModularInstance)(e),e._checkNotDeleted("ref"),void 0!==t?Ji(e._root,t):e._root}function Ji(e,t){return e=(0,g.getModularInstance)(e),null===xe(e._path)?function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ri(e,t,n,r)}("child","path",t,!1):ri("child","path",t,!1),new Qi(e._repo,Oe(e._path,t))}function Xi(e,t){e=(0,g.getModularInstance)(e),ii("set",e._path),Xr("set",t,e._path,!1);var n=new g.Deferred;return bi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}t.DataSnapshot=Ki;var Zi=function(){function e(t){(0,v.default)(this,e),this.callbackContext=t}return(0,p.default)(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new $i("value",this,new Ki(e.snapshotNode,new Qi(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Bi(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),ea=function(){function e(t,n){(0,v.default)(this,e),this.eventType=t,this.callbackContext=n}return(0,p.default)(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Bi(this,e,t):null}},{key:"createEvent",value:function(e,t){(0,g.assert)(null!=e.childName,"Child events should have a childName.");var n=Ji(new Qi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new $i(e.type,this,new Ki(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function ta(e,t,n,r,i){var a;if("object"===(0,h.default)(r)&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Ci(e._repo,e,l),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Vi(n,a||void 0),l="value"===t?new Zi(u):new ea(t,u);return function(e,t,n){var r;r=".info"===xe(t._path)?mr(e.infoSyncTree_,t,n):mr(e.serverSyncTree_,t,n),ui(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return Ci(e._repo,e,l)}}function na(e,t,n,r){return ta(e,"value",t,n,r)}var ra=(0,p.default)((function e(){(0,v.default)(this,e)}));t.QueryConstraint=ra;var ia=function(e){(0,l.default)(n,e);var t=b(n);function n(e,r){var i;return(0,v.default)(this,n),i=t.call(this),i._value=e,i._key=r,i}return(0,p.default)(n,[{key:"_apply",value:function(e){Xr("endAt",this._value,e._path,!0);var t=Ot(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zi(e._repo,e._path,t,e._orderByCalled)}}]),n}(ra);var aa=function(e){(0,l.default)(n,e);var t=b(n);function n(e,r){var i;return(0,v.default)(this,n),i=t.call(this),i._value=e,i._key=r,i}return(0,p.default)(n,[{key:"_apply",value:function(e){Xr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return r=e.index_===He||n?Ot(e,t,n):Ot(e,t,z),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zi(e._repo,e._path,t,e._orderByCalled)}}]),n}(ra);var oa=function(e){(0,l.default)(n,e);var t=b(n);function n(e,r){var i;return(0,v.default)(this,n),i=t.call(this),i._value=e,i._key=r,i}return(0,p.default)(n,[{key:"_apply",value:function(e){Xr("startAt",this._value,e._path,!0);var t=At(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new zi(e._repo,e._path,t,e._orderByCalled)}}]),n}(ra);var sa=function(e){(0,l.default)(n,e);var t=b(n);function n(e,r){var i;return(0,v.default)(this,n),i=t.call(this),i._value=e,i._key=r,i}return(0,p.default)(n,[{key:"_apply",value:function(e){Xr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return r=e.index_===He||n?At(e,t,n):At(e,t,W),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new zi(e._repo,e._path,t,e._orderByCalled)}}]),n}(ra);var ua=function(e){(0,l.default)(n,e);var t=b(n);function n(e){var r;return(0,v.default)(this,n),r=t.call(this),r._limit=e,r}return(0,p.default)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new zi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(ra);var la=function(e){(0,l.default)(n,e);var t=b(n);function n(e){var r;return(0,v.default)(this,n),r=t.call(this),r._limit=e,r}return(0,p.default)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new zi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(ra);var ca=function(e){(0,l.default)(n,e);var t=b(n);function n(e){var r;return(0,v.default)(this,n),r=t.call(this),r._path=e,r}return(0,p.default)(n,[{key:"_apply",value:function(e){Wi(e,"orderByChild");var t=new Ce(this._path);if(Ne(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new _t(t),r=Nt(e._queryParams,n);return Hi(r),new zi(e._repo,e._path,r,!0)}}]),n}(ra);var fa=function(e){(0,l.default)(n,e);var t=b(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,p.default)(n,[{key:"_apply",value:function(e){Wi(e,"orderByKey");var t=Nt(e._queryParams,He);return Hi(t),new zi(e._repo,e._path,t,!0)}}]),n}(ra);var da=function(e){(0,l.default)(n,e);var t=b(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,p.default)(n,[{key:"_apply",value:function(e){Wi(e,"orderByPriority");var t=Nt(e._queryParams,lt);return Hi(t),new zi(e._repo,e._path,t,!0)}}]),n}(ra);var ha=function(e){(0,l.default)(n,e);var t=b(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,p.default)(n,[{key:"_apply",value:function(e){Wi(e,"orderByValue");var t=Nt(e._queryParams,wt);return Hi(t),new zi(e._repo,e._path,t,!0)}}]),n}(ra);var va=function(e){(0,l.default)(n,e);var t=b(n);function n(e,r){var i;return(0,v.default)(this,n),i=t.call(this),i._value=e,i._key=r,i}return(0,p.default)(n,[{key:"_apply",value:function(e){if(Xr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ia(this._value,this._key)._apply(new oa(this._value,this._key)._apply(e))}}]),n}(ra);(function(e){(0,g.assert)(!zn,"__referenceConstructor has already been defined"),zn=e})(Qi),function(e){(0,g.assert)(!Jn,"__referenceConstructor has already been defined"),Jn=e}(Qi);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pa={},ya=!1;function ma(e,t,n,r){e.repoInfo_=new se("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function ga(t,n,r,i,a){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||B("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),j("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));var s,u=Fi(o,a),l=u.repoInfo,c=void 0;"undefined"!==typeof e&&Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"foods",VUE_APP_PLATFORM:"app-plus",NODE_ENV:"production",BASE_URL:"/"})&&(c=Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"foods",VUE_APP_PLATFORM:"app-plus",NODE_ENV:"production",BASE_URL:"/"})["FIREBASE_DATABASE_EMULATOR_HOST"]),c?(s=!0,o="http://".concat(c,"?ns=").concat(l.namespace),u=Fi(o,a),l=u.repoInfo):s=!u.repoInfo.secure;var f=a&&s?new ae(ae.OWNER):new ie(t.name,t.options,n);ai("Invalid Firebase Database URL",u),Ne(u.path)||B("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=pa[t.name];i||(i={},pa[t.name]=i);var a=i[e.toURLString()];a&&B("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new di(e,ya,n,r),i[e.toURLString()]=a,a}(l,t,f,new re(t.name,r));return new _a(d,t)}var _a=function(){function e(t,n){(0,v.default)(this,e),this._repoInternal=t,this.app=n,this["type"]="database",this._instanceStarted=!1}return(0,p.default)(e,[{key:"_repo",get:function(){return this._instanceStarted||(hi(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Qi(this._repo,Se())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(function(e,t){var n=pa[t];n&&n[e.key]===e||B("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Si(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&B("Cannot call "+e+" on a deleted database.")}}]),e}();function ba(){ge.IS_TRANSPORT_INITIALIZED&&V("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function wa(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=(0,g.getModularInstance)(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&B("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&B('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new ae(ae.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:(0,g.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new ae(o)}ma(i,t,n,a)}t.Database=_a;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ka={".sv":"timestamp"};var Ca=function(){function e(t,n){(0,v.default)(this,e),this.committed=t,this.snapshot=n}return(0,p.default)(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();t.TransactionResult=Ca,Be.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Be.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};t._TEST_ACCESS_hijackHash=function(e){var t=Be.prototype.put;return Be.prototype.put=function(n,r,i,a){void 0!==a&&(a=e()),t.call(this,n,r,i,a)},function(){Be.prototype.put=t}};t._TEST_ACCESS_forceRestClient=function(e){(function(e){ya=e})(e)},function(e){x(y.SDK_VERSION),(0,y._registerComponent)(new m.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return ga(r,i,a,n)}),"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(C,"0.14.4",e),(0,y.registerVersion)(C,"0.14.4","esm2017")}()}).call(this,n("4362"),n("0de9")["default"])},"0aab":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(n=n||r.length,e)for(var a=0;a<e;a++)i[a]=r[0|Math.random()*n];else{var o;i[8]=i[13]=i[18]=i[23]="-",i[14]="4";for(var s=0;s<36;s++)i[s]||(o=0|16*Math.random(),i[s]=r[19==s?3&o|8:o])}return t?(i.shift(),"u"+i.join("")):i.join("")};t.default=r},"0de9":function(e,t,n){"use strict";function r(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function i(){return"string"===typeof __channelId__&&__channelId__}function a(e,t){switch(r(t)){case"Function":return"function() { [native code] }";default:return t}}function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console[e].apply(console,n)}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.shift();if(i())return t.push(t.pop().replace("at ","uni-app:///")),console[o].apply(console,t);var s=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e,a)+"---END:JSON---"}catch(i){e=t}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var n=r(e).toUpperCase();e="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+e+"---END:"+n+"---":String(e)}return e})),u="";if(s.length>1){var l=s.pop();u=s.join("---COMMA---"),0===l.indexOf(" at ")?u+=l:u+="---COMMA---"+l}else u=s[0];console[o](u)}n.r(t),n.d(t,"log",(function(){return o})),n.d(t,"default",(function(){return s}))},"0e18":function(e,t,n){"use strict";n.r(t);var r=n("2f0f"),i=n("c643");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"a7837572",null,!1,r["a"],void 0);t["default"]=s.exports},"0fc1":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("a34a")),a=r(n("c973")),o=r(n("970b")),s=r(n("5bc3")),u=function(){function e(){(0,o.default)(this,e),this.config={type:"navigateTo",url:"",delta:1,params:{},animationType:"pop-in",animationDuration:300,intercept:!1},this.route=this.route.bind(this)}return(0,s.default)(e,[{key:"addRootPath",value:function(e){return"/"===e[0]?e:"/".concat(e)}},{key:"mixinParam",value:function(e,t){e=e&&this.addRootPath(e);var n="";return/.*\/.*\?.*=.*/.test(e)?(n=uni.$u.queryParams(t,!1),e+"&"+n):(n=uni.$u.queryParams(t),e+n)}},{key:"route",value:function(){var e=(0,a.default)(i.default.mark((function e(){var t,n,r,a,o=arguments;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},n=o.length>1&&void 0!==o[1]?o[1]:{},r={},"string"===typeof t?(r.url=this.mixinParam(t,n),r.type="navigateTo"):(r=uni.$u.deepClone(t,this.config),r.url=this.mixinParam(t.url,t.params)),n.intercept&&(this.config.intercept=n.intercept),r.params=n,r=uni.$u.deepMerge(this.config,r),"function"!==typeof uni.$u.routeIntercept){e.next=14;break}return e.next=10,new Promise((function(e,t){uni.$u.routeIntercept(r,e)}));case 10:a=e.sent,a&&this.openPage(r),e.next=15;break;case 14:this.openPage(r);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openPage",value:function(e){var t=e.url,n=(e.type,e.delta),r=e.animationType,i=e.animationDuration;"navigateTo"!=e.type&&"to"!=e.type||uni.navigateTo({url:t,animationType:r,animationDuration:i}),"redirectTo"!=e.type&&"redirect"!=e.type||uni.redirectTo({url:t}),"switchTab"!=e.type&&"tab"!=e.type||uni.switchTab({url:t}),"reLaunch"!=e.type&&"launch"!=e.type||uni.reLaunch({url:t}),"navigateBack"!=e.type&&"back"!=e.type||uni.navigateBack({delta:n})}}]),e}(),l=(new u).route;t.default=l},"108a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={v:"1.8.6",version:"1.8.6",type:["primary","success","info","error","warning"]};t.default=r},"11b0":function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"124a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={toast:10090,noNetwork:10080,popup:10075,mask:10070,navbar:980,topTips:975,sticky:970,indexListSticky:965}},1295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;uni.showToast({title:e,icon:"none",duration:t})};t.default=r},1407:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.deleteDB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.blocked,r=indexedDB.deleteDatabase(e);n&&r.addEventListener("blocked",(function(e){return n(e.oldVersion,e)}));return(0,s.w)(r).then((function(){}))},t.openDB=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),l=(0,s.w)(u);i&&u.addEventListener("upgradeneeded",(function(e){i((0,s.w)(u.result),e.oldVersion,e.newVersion,(0,s.w)(u.transaction),e)}));r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)}));return l.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),l},Object.defineProperty(t,"unwrap",{enumerable:!0,get:function(){return s.u}}),Object.defineProperty(t,"wrap",{enumerable:!0,get:function(){return s.w}});var i=r(n("a34a")),a=r(n("9523")),o=r(n("c973")),s=n("918b");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=["get","getKey","getAll","getAllKeys","count"],f=["put","add","delete","clear"],d=new Map;function h(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(d.get(t))return d.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,a=f.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(a||c.includes(n))){var s=function(){var e=(0,o.default)(i.default.mark((function e(t){var o,s,u,l,c,f,d=arguments;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(s=this.transaction(t,a?"readwrite":"readonly"),u=s.store,l=d.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=d[f];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(o=u)[n].apply(o,c),a&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return d.set(t,s),s}}}(0,s.r)((function(e){return l(l({},e),{},{get:function(t,n,r){return h(t,n)||e.get(t,n,r)},has:function(t,n){return!!h(t,n)||e.has(t,n)}})}))},"19a5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={primary:"#2979ff",primaryDark:"#2b85e4",primaryDisabled:"#a0cfff",primaryLight:"#ecf5ff",bgColor:"#f3f4f6",info:"#909399",infoDark:"#82848a",infoDisabled:"#c8c9cc",infoLight:"#f4f4f5",warning:"#ff9900",warningDark:"#f29100",warningDisabled:"#fcbd71",warningLight:"#fdf6ec",error:"#fa3534",errorDark:"#dd6161",errorDisabled:"#fab6b6",errorLight:"#fef0f0",success:"#19be6b",successDark:"#18b566",successDisabled:"#71d5a1",successLight:"#dbf1e1",mainColor:"#303133",contentColor:"#606266",tipsColor:"#909399",lightColor:"#c0c4cc",borderColor:"#e4e7ed"};t.default=r},"1a06":function(e,t,n){"use strict";n.r(t);var r=n("8bcc"),i=n("ee3e");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"4b619432",null,!1,r["a"],void 0);t["default"]=s.exports},"1a31":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e>=0&&t>0&&t>=e){var n=t-e+1;return Math.floor(Math.random()*n+e)}return 0};t.default=r},"1abe":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(){return Math.random()-.5}))};t.default=r},"1e64":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uIcon:n("0e18").default,uInput:n("9eae").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",[n("view"),n("view",[n("h1")]),n("view")]),n("view",[n("view",{staticClass:e._$s(7,"sc","uni-shadow-lg"),attrs:{_i:7}},[n("view",[n("u-icon",{attrs:{name:"search",color:"#00aaff",size:"50rpx",_i:9}})],1),n("view",[n("u-input",{attrs:{placeholder:"SEARCH COLLECTED RECIPES",_i:11},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()}}})],1)])]),n("view",[n("view",e._l(e._$s(14,"f",{forItems:e.list}),(function(t,r,i,a){return n("view",{key:e._$s(14,"f",{forIndex:i,key:"14-"+a}),attrs:{_i:"14-"+a},on:{click:function(n){return e.gopage(t.typeId)}}},[n("view",[n("image",{attrs:{src:e._$s("16-"+a,"a-src",t.img),_i:"16-"+a}})]),n("view",[n("view",{staticClass:e._$s("18-"+a,"sc","u-font-35"),attrs:{_i:"18-"+a}},[e._v(e._$s("18-"+a,"t0-0",e._s(t.name)))]),n("view",{staticClass:e._$s("19-"+a,"sc","u-font-25 u-tips-color"),attrs:{_i:"19-"+a}},[e._v(e._$s("19-"+a,"t0-0",e._s(t.tips)))])]),n("view",[n("u-icon",{attrs:{name:"arrow-right",_i:"21-"+a}})],1)])})),0)])])},a=[]},"1eff":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.$parent;while(t){if(!t.$options||t.$options.name===e)return t;t=t.$parent}return!1}},"1f7c":function(e,t,n){"use strict";n.r(t);var r=n("a119"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"208a":function(e,t,n){"use strict";n.r(t);var r=n("a488"),i=n("47fc");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"ffbfe098",null,!1,r["a"],void 0);t["default"]=s.exports},2179:function(e,t,n){"use strict";n.r(t);var r=n("38d2"),i=n("60e2");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"0d2e59fb",null,!1,r["a"],void 0);t["default"]=s.exports},2236:function(e,t,n){var r=n("5a43");e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"23af":function(e,t,n){"use strict";n.r(t);var r=n("bb5e"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"23e4":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","u-grid-item"),style:e._$s(0,"s",{background:e.bgColor,width:e.width}),attrs:{"hover-class":e._$s(0,"a-hover-class",e.parentData.hoverClass),_i:0},on:{click:e.click}},[n("view",{staticClass:e._$s(1,"sc","u-grid-item-box"),class:e._$s(1,"c",[e.parentData.border?"u-border-right u-border-bottom":""]),style:e._$s(1,"s",[e.customStyle]),attrs:{_i:1}},[e._t("default",null,{_i:2})],2)])},i=[]},2611:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._$s(0,"i",e.show)?n("view",{staticClass:e._$s(0,"sc","u-loading"),class:e._$s(0,"c","circle"==e.mode?"u-loading-circle":"u-loading-flower"),style:e._$s(0,"s",[e.cricleStyle]),attrs:{_i:0}}):e._e()},i=[]},"26b7":function(e,t,n){"use strict";n.r(t);var r=n("5c5d"),i=n("5737");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"278c":function(e,t,n){var r=n("c135"),i=n("9b42"),a=n("6613"),o=n("c240");e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"2bcb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"brackets",r=t?"?":"",i=[];-1==["indices","brackets","repeat","comma"].indexOf(n)&&(n="brackets");var a=function(t){var r=e[t];if(["",void 0,null].indexOf(r)>=0)return"continue";if(r.constructor===Array)switch(n){case"indices":for(var a=0;a<r.length;a++)i.push(t+"["+a+"]="+r[a]);break;case"brackets":r.forEach((function(e){i.push(t+"[]="+e)}));break;case"repeat":r.forEach((function(e){i.push(t+"="+e)}));break;case"comma":var o="";r.forEach((function(e){o+=(o?",":"")+e})),i.push(t+"="+o);break;default:r.forEach((function(e){i.push(t+"[]="+e)}))}else i.push(t+"="+r)};for(var o in e)a(o);return i.length?r+i.join("&"):""};t.default=r},"2f0f":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","u-icon"),class:e._$s(0,"c",["u-icon--"+e.labelPos]),style:e._$s(0,"s",[e.customStyle]),attrs:{_i:0},on:{click:e.click}},[e._$s(1,"i",e.isImg)?n("image",{staticClass:e._$s(1,"sc","u-icon__img"),style:e._$s(1,"s",[e.imgStyle]),attrs:{src:e._$s(1,"a-src",e.name),mode:e._$s(1,"a-mode",e.imgMode),_i:1}}):n("text",{staticClass:e._$s(2,"sc","u-icon__icon"),class:e._$s(2,"c",e.customClass),style:e._$s(2,"s",[e.iconStyle]),attrs:{"hover-class":e._$s(2,"a-hover-class",e.hoverClass),_i:2},on:{touchstart:e.touchstart}},[e._$s(3,"i",e.showDecimalIcon)?n("text",{staticClass:e._$s(3,"sc","u-icon__decimal"),class:e._$s(3,"c",e.decimalIconClass),style:e._$s(3,"s",[e.decimalIconStyle]),attrs:{"hover-class":e._$s(3,"a-hover-class",e.hoverClass),_i:3}}):e._e()]),e._$s(4,"i",""!==e.label)?n("text",{staticClass:e._$s(4,"sc","u-icon__label"),style:e._$s(4,"s",{color:e.labelColor,fontSize:e.$u.addUnit(e.labelSize),marginLeft:"right"==e.labelPos?e.$u.addUnit(e.marginLeft):0,marginTop:"bottom"==e.labelPos?e.$u.addUnit(e.marginTop):0,marginRight:"left"==e.labelPos?e.$u.addUnit(e.marginRight):0,marginBottom:"top"==e.labelPos?e.$u.addUnit(e.marginBottom):0}),attrs:{_i:4}},[e._v(e._$s(4,"t0-0",e._s(e.label)))]):e._e()])},i=[]},"312c":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","u-grid"),class:this._$s(0,"c",{"u-border-top u-border-left":this.border}),style:this._$s(0,"s",[this.gridStyle]),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},i=[]},"31de":function(e,t,n){"use strict";n.r(t);var r=n("6684"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"36c6":function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"38d2":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uPopup:n("c726").default,uLoading:n("c0e0").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("u-popup",{attrs:{zoom:e.zoom,mode:"center",popup:!1,"z-index":e.uZIndex,length:e.width,"mask-close-able":e.maskCloseAble,"border-radius":e.borderRadius,"negative-top":e.negativeTop,_i:1},on:{close:e.popupClose},model:{value:e._$s(1,"v-model",e.value),callback:function(t){e.value=t},expression:"value"}},[n("view",{staticClass:e._$s(2,"sc","u-model"),attrs:{_i:2}},[e._$s(3,"i",e.showTitle)?n("view",{staticClass:e._$s(3,"sc","u-model__title u-line-1"),style:e._$s(3,"s",[e.titleStyle]),attrs:{_i:3}},[e._v(e._$s(3,"t0-0",e._s(e.title)))]):e._e(),n("view",{staticClass:e._$s(4,"sc","u-model__content"),attrs:{_i:4}},[e._$s(5,"i",e.$slots.default||e.$slots.$default)?n("view",{style:e._$s(5,"s",[e.contentStyle]),attrs:{_i:5}},[e._t("default",null,{_i:6})],2):n("view",{staticClass:e._$s(7,"sc","u-model__content__message"),style:e._$s(7,"s",[e.contentStyle]),attrs:{_i:7}},[e._v(e._$s(7,"t0-0",e._s(e.content)))])]),e._$s(8,"i",e.showCancelButton||e.showConfirmButton)?n("view",{staticClass:e._$s(8,"sc","u-model__footer u-border-top"),attrs:{_i:8}},[e._$s(9,"i",e.showCancelButton)?n("view",{staticClass:e._$s(9,"sc","u-model__footer__button"),style:e._$s(9,"s",[e.cancelBtnStyle]),attrs:{_i:9},on:{click:e.cancel}},[e._v(e._$s(9,"t0-0",e._s(e.cancelText)))]):e._e(),e._$s(10,"i",e.showConfirmButton||e.$slots["confirm-button"])?n("view",{staticClass:e._$s(10,"sc","u-model__footer__button hairline-left"),style:e._$s(10,"s",[e.confirmBtnStyle]),attrs:{"hover-class":e._$s(10,"a-hover-class",e.asyncClose?"none":"u-model__btn--hover"),_i:10},on:{click:e.confirm}},[e._$s(11,"i",e.$slots["confirm-button"])?e._t("confirm-button",null,{_i:11}):[e._$s(13,"i",e.loading)?n("u-loading",{attrs:{mode:"circle",color:e.confirmColor,_i:13}}):[e._v(e._$s(14,"t0-0",e._s(e.confirmText)))]]],2):e._e()]):e._e()])])],1)},a=[]},"3c96":function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"40db":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","u-sticky-wrap"),class:e._$s(1,"c",[e.elClass]),style:e._$s(1,"s",{height:e.fixed?e.height+"px":"auto",backgroundColor:e.bgColor}),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","u-sticky"),style:e._$s(2,"s",{position:e.fixed?"fixed":"static",top:e.stickyTop+"px",left:e.left+"px",width:"auto"==e.width?"auto":e.width+"px",zIndex:e.uZIndex}),attrs:{_i:2}},[e._t("default",null,{_i:3})],2)])])},i=[]},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"448a":function(e,t,n){var r=n("2236"),i=n("11b0"),a=n("6613"),o=n("0676");e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"47fc":function(e,t,n){"use strict";n.r(t);var r=n("eb7d"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"48be":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("970b")),a=r(n("5bc3")),o=r(n("b603")),s=r(n("a8e0")),u=function(){function e(){var t=this;(0,i.default)(this,e),this.config={baseUrl:"",header:{},method:"POST",dataType:"json",responseType:"text",showLoading:!0,loadingText:"\u8bf7\u6c42\u4e2d...",loadingTime:800,timer:null,originalData:!1,loadingMask:!0},this.interceptor={request:null,response:null},this.get=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.request({method:"GET",url:e,header:r,data:n})},this.post=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.request({url:e,method:"POST",header:r,data:n})},this.put=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.request({url:e,method:"PUT",header:r,data:n})},this.delete=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.request({url:e,method:"DELETE",header:r,data:n})}}return(0,a.default)(e,[{key:"setConfig",value:function(e){this.config=(0,o.default)(this.config,e)}},{key:"request",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.interceptor.request&&"function"===typeof this.interceptor.request){var n=this.interceptor.request(t);if(!1===n)return new Promise((function(){}));this.options=n}return t.dataType=t.dataType||this.config.dataType,t.responseType=t.responseType||this.config.responseType,t.url=t.url||"",t.params=t.params||{},t.header=Object.assign({},this.config.header,t.header),t.method=t.method||this.config.method,new Promise((function(n,r){t.complete=function(t){if(uni.hideLoading(),clearTimeout(e.config.timer),e.config.timer=null,e.config.originalData)if(e.interceptor.response&&"function"===typeof e.interceptor.response){var i=e.interceptor.response(t);!1!==i?n(i):r(t)}else n(t);else if(200==t.statusCode)if(e.interceptor.response&&"function"===typeof e.interceptor.response){var a=e.interceptor.response(t.data);!1!==a?n(a):r(t.data)}else n(t.data);else r(t)},t.url=s.default.url(t.url)?t.url:e.config.baseUrl+(0==t.url.indexOf("/")?t.url:"/"+t.url),e.config.showLoading&&!e.config.timer&&(e.config.timer=setTimeout((function(){uni.showLoading({title:e.config.loadingText,mask:e.config.loadingMask}),e.config.timer=null}),e.config.loadingTime)),uni.request(t)}))}}]),e}(),l=new u;t.default=l},"4a4b":function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"4a5d":function(e,t,n){"use strict";n.r(t);var r=n("8437");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var a=n("f0c5"),o=Object(a["a"])(r["default"],void 0,void 0,!1,null,null,null,!1,void 0,void 0);t["default"]=o.exports},"4ea4":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports["default"]=e.exports},5308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=null;var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!==r&&clearTimeout(r),n){var i=!r;r=setTimeout((function(){r=null}),t),i&&"function"===typeof e&&e()}else r=setTimeout((function(){"function"===typeof e&&e()}),t)};t.default=i},5461:function(e,t){e.exports={data:function(){return{}},onLoad:function(){this.$u.getRect=this.$uGetRect},methods:{$uGetRect:function(e,t){var n=this;return new Promise((function(r){uni.createSelectorQuery().in(n)[t?"selectAll":"select"](e).boundingClientRect((function(e){t&&Array.isArray(e)&&e.length&&r(e),!t&&e&&r(e)})).exec()}))},getParentData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.parent||(this.parent=!1),this.parent=this.$u.$parent.call(this,t),this.parent&&Object.keys(this.parentData).map((function(t){e.parentData[t]=e.parent[t]}))},preventEvent:function(e){e&&e.stopPropagation&&e.stopPropagation()}},onReachBottom:function(){uni.$emit("uOnReachBottom")},beforeDestroy:function(){var e=this;if(this.parent&&uni.$u.test.array(this.parent.children)){var t=this.parent.children;t.map((function(n,r){n===e&&t.splice(r,1)}))}}}},"55e6":function(e,t,n){"use strict";(function(e,r,i){var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.Sha1=t.RANDOM_FACTOR=t.MAX_VALUE_MILLIS=t.FirebaseError=t.ErrorFactory=t.Deferred=t.DecodeBase64StringError=t.CONSTANTS=void 0,t.areCookiesEnabled=function(){if("undefined"===typeof navigator||!navigator.cookieEnabled)return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.assertionError=t.assert=void 0,t.async=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Promise.resolve(!0).then((function(){e.apply(void 0,r)})).catch((function(e){t&&t(e)}))}},t.base64urlEncodeWithoutPadding=t.base64Encode=t.base64Decode=t.base64=void 0,t.calculateBackoffMillis=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createMockUserToken=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[x(JSON.stringify({alg:"none",type:"JWT"})),x(JSON.stringify(a)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.createSubscribe=function(e,t){var n=new U(e,t);return n.subscribe.bind(n)},t.decode=void 0,t.deepCopy=function(e){return I(void 0,e)},t.deepEqual=function e(t,n){if(t===n)return!0;for(var r=Object.keys(t),i=Object.keys(n),a=0,o=r;a<o.length;a++){var s=o[a];if(!i.includes(s))return!1;var u=t[s],l=n[s];if(B(u)&&B(l)){if(!e(u,l))return!1}else if(u!==l)return!1}for(var c=0,f=i;c<f.length;c++){var d=f[c];if(!r.includes(d))return!1}return!0},t.deepExtend=I,t.errorPrefix=W,t.extractQuerystring=function(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.getExperimentalSetting=t.getDefaults=t.getDefaultEmulatorHostnameAndPort=t.getDefaultEmulatorHost=t.getDefaultAppConfig=void 0,t.getGlobal=P,t.getModularInstance=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return e&&e._delegate?e._delegate:e},t.getUA=D,t.isAdmin=void 0,t.isBrowser=function(){return"object"===("undefined"===typeof self?"undefined":(0,u.default)(self))&&self.self===self},t.isBrowserExtension=function(){var e="object"===("undefined"===typeof chrome?"undefined":(0,u.default)(chrome))?chrome.runtime:"object"===("undefined"===typeof browser?"undefined":(0,u.default)(browser))?browser.runtime:void 0;return"object"===(0,u.default)(e)&&void 0!==e.id},t.isElectron=function(){return D().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=D();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){try{return"object"===("undefined"===typeof indexedDB?"undefined":(0,u.default)(indexedDB))}catch(e){return!1}},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(D())},t.isNode=R,t.isNodeSdk=function(){return!0===g.NODE_CLIENT||!0===g.NODE_ADMIN},t.isReactNative=function(){return"object"===("undefined"===typeof navigator?"undefined":(0,u.default)(navigator))&&"ReactNative"===navigator["product"]},t.isSafari=function(){return!R()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return D().indexOf("MSAppHost/")>=0},t.issuedAtTime=t.isValidTimestamp=t.isValidFormat=void 0,t.jsonEval=q,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.ordinal=function(e){if(!Number.isFinite(e))return"".concat(e);return e+function(e){e=Math.abs(e);var t=e%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e)},t.promiseWithTimeout=
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=new N;return setTimeout((function(){return n.reject("timeout!")}),t),e.then(n.resolve,n.reject),n.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.querystring=function(e){for(var t=[],n=function(){var e=(0,o.default)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={},n=e.replace(/^\?/,"").split("&");return n.forEach((function(e){if(e){var n=e.split("="),r=(0,o.default)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringToByteArray=t.stringLength=void 0,t.stringify=function(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.validateArgCount=t.uuidv4=void 0,t.validateCallback=function(e,t,n,r){if(r&&!n)return;if("function"!==typeof n)throw new Error(W(e,t)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if(r&&!n)return;if("object"!==(0,u.default)(n)||null===n)throw new Error(W(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.validateIndexedDBOpenable=function(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))},t.validateNamespace=function(e,t,n){if(n&&!t)return;if("string"!==typeof t)throw new Error(W(e,"namespace")+"must be a valid firebase namespace.")};var o=a(n("278c")),s=a(n("3c96")),u=a(n("7037")),l=a(n("5bc3")),c=a(n("970b")),f=a(n("ed6d")),d=a(n("6b58")),h=a(n("36c6")),v=a(n("a128"));function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */();return function(){var n,r=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var g={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.CONSTANTS=g;var _=function(e,t){if(!e)throw b(t)};t.assert=_;var b=function(e){return new Error("Firebase Database ("+g.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.assertionError=b;var w=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|l>>6,h=63&l;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(w(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){var t=[],n=0,r=0;while(n<e.length){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=e[n++],s=e[n++],u=e[n++],l=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&u)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{var c=e[n++],f=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&c)<<6|63&f)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length,s=o?n[e.charAt(i)]:0;++i;var u=i<e.length,l=u?n[e.charAt(i)]:64;++i;var c=i<e.length,f=c?n[e.charAt(i)]:64;if(++i,null==a||null==s||null==l||null==f)throw new C;var d=a<<2|s>>4;if(r.push(d),64!==l){var h=s<<4&240|l>>2;if(r.push(h),64!==f){var v=l<<6&192|f;r.push(v)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};t.base64=k;var C=function(e){(0,f.default)(n,e);var t=m(n);function n(){var e;return(0,c.default)(this,n),e=t.apply(this,arguments),e.name="DecodeBase64StringError",e}return(0,l.default)(n)}((0,v.default)(Error));t.DecodeBase64StringError=C;var S=function(e){var t=w(e);return k.encodeByteArray(t,!0)};t.base64Encode=S;var x=function(e){return S(e).replace(/\./g,"")};t.base64urlEncodeWithoutPadding=x;var E=function(t){try{return k.decodeString(t,!0)}catch(n){e("error","base64Decode failed: ",n," at node_modules/@firebase/util/dist/index.esm2017.js:382")}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&T(r)&&(e[r]=I(e[r],t[r]));return e}function T(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r)return r;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.base64Decode=E;var A=function(){try{return function(){return P().__FIREBASE_DEFAULTS__}()||function(){if("undefined"!==typeof i){var e=Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"foods",VUE_APP_PLATFORM:"app-plus",NODE_ENV:"production",BASE_URL:"/"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&E(e[1]);return t&&JSON.parse(t)}}()}catch(t){return void e("info","Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t)," at node_modules/@firebase/util/dist/index.esm2017.js:563")}};t.getDefaults=A;var O=function(e){var t,n;return null===(n=null===(t=A())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]};t.getDefaultEmulatorHost=O;t.getDefaultEmulatorHostnameAndPort=function(e){var t=O(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}};t.getDefaultAppConfig=function(){var e;return null===(e=A())||void 0===e?void 0:e.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.getExperimentalSetting=function(e){var t;return null===(t=A())||void 0===t?void 0:t["_".concat(e)]};var N=function(){function e(){var t=this;(0,c.default)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,l.default)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function R(){var e,t=null===(e=A())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(r.process)}catch(n){return!1}}t.Deferred=N;var M=function(e){(0,f.default)(n,e);var t=m(n);function n(e,r,i){var a;return(0,c.default)(this,n),a=t.call(this,r),a.code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,s.default)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,s.default)(a),F.prototype.create),a}return(0,l.default)(n)}((0,v.default)(Error));t.FirebaseError=M;var F=function(){function e(t,n,r){(0,c.default)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,l.default)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?L(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new M(n,a,t);return o}}]),e}();function L(e,t){return e.replace(j,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}t.ErrorFactory=F;var j=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(e){return JSON.parse(e)}var $=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=q(E(a[0])||""),n=q(E(a[1])||""),i=a[2],r=n["d"]||{},delete n["d"]}catch(o){}return{header:t,claims:n,data:r,signature:i}};t.decode=$;t.isValidTimestamp=function(e){var t=$(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===(0,u.default)(t)&&(t.hasOwnProperty("nbf")?r=t["nbf"]:t.hasOwnProperty("iat")&&(r=t["iat"]),i=t.hasOwnProperty("exp")?t["exp"]:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i};t.issuedAtTime=function(e){var t=$(e).claims;return"object"===(0,u.default)(t)&&t.hasOwnProperty("iat")?t["iat"]:null};t.isValidFormat=function(e){var t=$(e),n=t.claims;return!!n&&"object"===(0,u.default)(n)&&n.hasOwnProperty("iat")};function B(e){return null!==e&&"object"===(0,u.default)(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.isAdmin=function(e){var t=$(e).claims;return"object"===(0,u.default)(t)&&!0===t["admin"]};var V=function(){function e(){(0,c.default)(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return(0,l.default)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],d=this.chain_[3],h=this.chain_[4],v=0;v<80;v++){v<40?v<20?(s=d^c&(f^d),u=1518500249):(s=c^f^d,u=1859775393):v<60?(s=c&f|d&(c|f),u=2400959708):(s=c^f^d,u=3395469782);var p=(l<<5|l>>>27)+s+h+u+n[v]&4294967295;h=d,d=f,f=4294967295&(c<<30|c>>>2),c=l,l=p}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;while(r<t){if(0===a)while(r<=n)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){while(r<t)if(i[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}else while(r<t)if(i[a]=e[r],++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();t.Sha1=V;var U=function(){function t(e,n){var r=this;(0,c.default)(this,t),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){e(r)})).catch((function(e){r.error(e)}))}return(0,l.default)(t,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==(0,u.default)(e)||null===e)return!1;var n,r=p(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(t,n){var r=this;this.task.then((function(){if(void 0!==r.observers&&void 0!==r.observers[t])try{n(r.observers[t])}catch(i){"undefined"!==typeof console&&console.error&&e("error",i," at node_modules/@firebase/util/dist/index.esm2017.js:1716")}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),t}();function z(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e,t){return"".concat(e," failed: ").concat(t," argument ")}t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var a=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(a)}};t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,_(r<e.length,"Surrogate pair missing trail surrogate.");var o=e.charCodeAt(r)-56320;i=65536+(a<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}))};t.MAX_VALUE_MILLIS=144e5;t.RANDOM_FACTOR=.5}).call(this,n("0de9")["default"],n("c8ba"),n("4362"))},5737:function(e,t,n){"use strict";n.r(t);var r=n("f7da"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"5a43":function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5bc3":function(e,t,n){var r=n("a395");function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5c5d":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uSticky:n("604a").default,uIcon:n("0e18").default,uRate:n("a5de").default,uGrid:n("ddb0").default,uGridItem:n("8b61").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("u-sticky",{attrs:{"offset-top":"-100",_i:1}},[n("view",[n("view",[n("u-icon",{attrs:{name:"arrow-left",size:"40",_i:4},on:{click:function(t){return e.goback()}}}),n("view",[n("h3",[e._v(e._$s(6,"t0-0",e._s(e.info.name)))])])],1),n("view",[n("u-icon",{attrs:{name:"list",size:"50",_i:8}})],1)])]),n("view",[n("image",{attrs:{src:e._$s(10,"a-src",e.info.img),_i:10}})]),n("view",{staticClass:e._$s(11,"sc","u-p-20"),attrs:{_i:11}},[n("view",{staticClass:e._$s(12,"sc","u-font-35"),attrs:{_i:12}},[e._v(e._$s(12,"t0-0",e._s(e.info.name)))]),n("view",[n("view",[n("u-rate",{attrs:{disabled:!0,size:"40","active-color":"#80df2e",_i:15},model:{value:e._$s(15,"v-model",e.info.rate),callback:function(t){e.$set(e.info,"rate",t)},expression:"info.rate"}})],1),n("view",[n("u-icon",{attrs:{name:"heart-fill",color:"#fda1ab",size:"50",_i:17}}),n("u-icon",{staticClass:e._$s(18,"sc","u-m-l-40"),attrs:{name:"file-text-fill",color:"#fda1ab",size:"50",_i:18}})],1)])]),n("view",{staticClass:e._$s(19,"sc","u-border-bottom "),attrs:{_i:19}},[n("view")]),n("view",{staticClass:e._$s(21,"sc","u-p-20"),attrs:{_i:21}},[n("rich-text",{attrs:{nodes:e._$s(22,"a-nodes",e.info.ingredients),_i:22}})]),n("view",{staticClass:e._$s(23,"sc","u-border-bottom "),attrs:{_i:23}},[n("view")]),n("view",e._l(e._$s(26,"f",{forItems:e.info.method}),(function(t,r,i,a){return n("view",{key:e._$s(26,"f",{forIndex:i,key:"26-"+a})},[n("view",[e._v(e._$s("27-"+a,"t0-0",e._s(r+1)))]),n("view",[e._v(e._$s("28-"+a,"t0-0",e._s(t)))])])})),0),n("view",{staticClass:e._$s(29,"sc","u-border-bottom "),attrs:{_i:29}},[n("view")]),n("u-grid",{attrs:{col:"2",border:!1,_i:31}},e._l(e._$s(32,"f",{forItems:e.info.Nutritional_Information}),(function(t,r,i,a){return n("u-grid-item",{key:e._$s(32,"f",{forIndex:i,key:"32-"+a}),attrs:{_i:"32-"+a}},[n("view",[e._v(e._$s("33-"+a,"t0-0",e._s(t)))])])})),1),n("view",{staticClass:e._$s(34,"sc","u-border-bottom "),attrs:{_i:34}},[n("view")]),n("view",[n("view",[n("view",[e._v(e._$s(38,"t0-0",e._s(e.info.name)))]),n("view",[n("u-rate",{attrs:{disabled:!0,size:"40","active-color":"#fdc708",_i:40},model:{value:e._$s(40,"v-model",e.info.userrate),callback:function(t){e.$set(e.info,"userrate",t)},expression:"info.userrate"}})],1),n("view",[n("view",[n("view",[n("u-icon",{attrs:{name:"star",_i:44}})],1),n("view",{staticClass:e._$s(45,"sc","u-font-25"),attrs:{_i:45}})]),n("view",[n("view",[n("u-icon",{attrs:{name:"question-circle",_i:48}})],1),n("view",{staticClass:e._$s(49,"sc","u-font-25"),attrs:{_i:49}})])])])])],1)},a=[]},"604a":function(e,t,n){"use strict";n.r(t);var r=n("40db"),i=n("6a8a");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"07d6a4ac",null,!1,r["a"],void 0);t["default"]=s.exports},"60e2":function(e,t,n){"use strict";n.r(t);var r=n("00f6"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},6613:function(e,t,n){var r=n("5a43");e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports["default"]=e.exports},6629:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ace3");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(0,r.registerVersion)("firebase","9.22.0","app")},"667b":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("8683")),a={name:"u-input",mixins:[i.default],props:{value:{type:[String,Number],default:""},type:{type:String,default:"text"},inputAlign:{type:String,default:"left"},placeholder:{type:String,default:"\u8bf7\u8f93\u5165\u5185\u5bb9"},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},placeholderStyle:{type:String,default:"color: #c0c4cc;"},confirmType:{type:String,default:"done"},customStyle:{type:Object,default:function(){return{}}},fixed:{type:Boolean,default:!1},focus:{type:Boolean,default:!1},passwordIcon:{type:Boolean,default:!0},border:{type:Boolean,default:!1},borderColor:{type:String,default:"#dcdfe6"},autoHeight:{type:Boolean,default:!0},selectOpen:{type:Boolean,default:!1},height:{type:[Number,String],default:""},clearable:{type:Boolean,default:!0},cursorSpacing:{type:[Number,String],default:0},selectionStart:{type:[Number,String],default:-1},selectionEnd:{type:[Number,String],default:-1},trim:{type:Boolean,default:!0},showConfirmbar:{type:Boolean,default:!0},adjustPosition:{type:Boolean,default:!0}},data:function(){return{defaultValue:this.value,inputHeight:70,textareaHeight:100,validateState:!1,focused:!1,showPassword:!1,lastValue:""}},watch:{value:function(e,t){this.defaultValue=e,e!=t&&"select"==this.type&&this.handleInput({detail:{value:e}})}},computed:{inputMaxlength:function(){return Number(this.maxlength)},getStyle:function(){var e={};return e.minHeight=this.height?this.height+"rpx":"textarea"==this.type?this.textareaHeight+"rpx":this.inputHeight+"rpx",e=Object.assign(e,this.customStyle),e},getCursorSpacing:function(){return Number(this.cursorSpacing)},uSelectionStart:function(){return String(this.selectionStart)},uSelectionEnd:function(){return String(this.selectionEnd)}},created:function(){this.$on("on-form-item-error",this.onFormItemError)},methods:{handleInput:function(e){var t=this,n=e.detail.value;this.trim&&(n=this.$u.trim(n)),this.$emit("input",n),this.defaultValue=n,setTimeout((function(){t.dispatch("u-form-item","on-form-change",n)}),40)},handleBlur:function(e){var t=this,n=e.detail.value;setTimeout((function(){t.focused=!1}),100),this.$emit("blur",n),setTimeout((function(){t.dispatch("u-form-item","on-form-blur",n)}),40)},onFormItemError:function(e){this.validateState=e},onFocus:function(e){this.focused=!0,this.$emit("focus")},onConfirm:function(e){this.$emit("confirm",e.detail.value)},onClear:function(e){this.$emit("input","")},inputClick:function(){this.$emit("click")}}};t.default=a},6684:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"u-rate",props:{value:{type:[Number,String],default:-1},count:{type:[Number,String],default:5},current:{type:[Number,String],default:0},disabled:{type:Boolean,default:!1},size:{type:[Number,String],default:32},inactiveColor:{type:String,default:"#b2b2b2"},activeColor:{type:String,default:"#FA3534"},gutter:{type:[Number,String],default:10},minCount:{type:[Number,String],default:0},allowHalf:{type:Boolean,default:!1},activeIcon:{type:String,default:"star-fill"},inactiveIcon:{type:String,default:"star"},customPrefix:{type:String,default:"uicon"},colors:{type:Array,default:function(){return[]}},icons:{type:Array,default:function(){return[]}}},data:function(){return{elId:this.$u.guid(),elClass:this.$u.guid(),starBoxLeft:0,activeIndex:-1!=this.value?this.value:this.current,starWidth:0,starWidthArr:[]}},watch:{current:function(e){this.activeIndex=e},value:function(e){this.activeIndex=e}},computed:{decimal:function(){return this.disabled?100*this.activeIndex%100:this.allowHalf?50:void 0},elActiveIcon:function(){var e=this.icons.length;if(e&&e<=this.count){var t=Math.round(this.activeIndex/Math.round(this.count/e));return t<1?this.icons[0]:t>e?this.icons[e-1]:this.icons[t-1]}return this.activeIcon},elActiveColor:function(){var e=this.colors.length;if(e&&e<=this.count){var t=Math.round(this.activeIndex/Math.round(this.count/e));return t<1?this.colors[0]:t>e?this.colors[e-1]:this.colors[t-1]}return this.activeColor}},methods:{getElRectById:function(){var e=this;this.$uGetRect("#"+this.elId).then((function(t){e.starBoxLeft=t.left}))},getElRectByClass:function(){var e=this;this.$uGetRect("."+this.elClass).then((function(t){e.starWidth=t.width;for(var n=0;n<e.count;n++)e.starWidthArr[n]=(n+1)*e.starWidth}))},touchMove:function(e){if(!this.disabled&&e.changedTouches[0]){var t=e.changedTouches[0].pageX,n=t-this.starBoxLeft;n<=0&&(this.activeIndex=0);var r=Math.ceil(n/this.starWidth);this.activeIndex=r>this.count?this.count:r,this.activeIndex<this.minCount&&(this.activeIndex=this.minCount),this.emitEvent()}},click:function(e,t){this.disabled||(this.allowHalf,1==e?1==this.activeIndex?this.activeIndex=0:this.activeIndex=1:this.activeIndex=e,this.activeIndex<this.minCount&&(this.activeIndex=this.minCount),this.emitEvent())},emitEvent:function(){this.$emit("change",this.activeIndex),-1!=this.value&&this.$emit("input",this.activeIndex)},showDecimalIcon:function(e){return this.disabled&&parseInt(this.activeIndex)===e}},mounted:function(){this.getElRectById(),this.getElRectByClass()}};t.default=r},"668b":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uIcon:n("0e18").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","u-rate"),attrs:{id:e._$s(0,"a-id",e.elId),_i:0},on:{touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.touchMove(t)}}},e._l(e._$s(1,"f",{forItems:e.count}),(function(t,r,i,a){return n("view",{key:e._$s(1,"f",{forIndex:i,key:r}),staticClass:e._$s("1-"+a,"sc","u-star-wrap"),class:e._$s("1-"+a,"c",[e.elClass]),attrs:{_i:"1-"+a}},[n("u-icon",{attrs:{name:e.activeIndex>r?e.elActiveIcon:e.inactiveIcon,color:e.activeIndex>r?e.elActiveColor:e.inactiveColor,"custom-style":{fontSize:e.size+"rpx",padding:"0 "+e.gutter/2+"rpx"},"custom-prefix":e.customPrefix,"show-decimal-icon":e.showDecimalIcon(r),percent:e.decimal,"inactive-color":e.inactiveColor,_i:"2-"+a},on:{click:function(t){return e.click(r+1,t)}}})],1)})),0)},a=[]},"69ae":function(e,t,n){"use strict";n.r(t);var r=n("8cc8"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"6a8a":function(e,t,n){"use strict";n.r(t);var r=n("c32a"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"6b58":function(e,t,n){var r=n("7037")["default"],i=n("3c96");e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"6c7f":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,t.setLogLevel=function(e){c.forEach((function(t){t.setLogLevel(e)}))},t.setUserLogHandler=function(e,t){var n,r=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(c);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=f[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:l[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}};var i,a=r(n("970b")),o=r(n("5bc3")),s=r(n("9523"));function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l,c=[];t.LogLevel=l,function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"}(l||(t.LogLevel=l={}));var f={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},d=l.INFO,h=(i={},(0,s.default)(i,l.DEBUG,"log"),(0,s.default)(i,l.VERBOSE,"log"),(0,s.default)(i,l.INFO,"info"),(0,s.default)(i,l.WARN,"warn"),(0,s.default)(i,l.ERROR,"error"),i),v=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},p=function(){function e(t){(0,a.default)(this,e),this.name=t,this._logLevel=d,this._logHandler=v,this._userLogHandler=null,c.push(this)}return(0,o.default)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in l))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?f[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.DEBUG].concat(t)),this._logHandler.apply(this,[this,l.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.VERBOSE].concat(t)),this._logHandler.apply(this,[this,l.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.INFO].concat(t)),this._logHandler.apply(this,[this,l.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.WARN].concat(t)),this._logHandler.apply(this,[this,l.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.ERROR].concat(t)),this._logHandler.apply(this,[this,l.ERROR].concat(t))}}]),e}();t.Logger=p},"6f8f":function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports["default"]=e.exports},7037:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"71d5":function(e,t,n){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var r=uni.requireGlobal();ArrayBuffer=r.ArrayBuffer,Int8Array=r.Int8Array,Uint8Array=r.Uint8Array,Uint8ClampedArray=r.Uint8ClampedArray,Int16Array=r.Int16Array,Uint16Array=r.Uint16Array,Int32Array=r.Int32Array,Uint32Array=r.Uint32Array,Float32Array=r.Float32Array,Float64Array=r.Float64Array,BigInt64Array=r.BigInt64Array,BigUint64Array=r.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(n("7427").default)})),__definePage("pages/User/User",(function(){return Vue.extend(n("97fc").default)})),__definePage("pages/favorite/favorite",(function(){return Vue.extend(n("8dee").default)})),__definePage("pages/List/List",(function(){return Vue.extend(n("b68e").default)})),__definePage("pages/favorite/favoriteinfo",(function(){return Vue.extend(n("26b7").default)}))},"72d8":function(e,t,n){"use strict";n.r(t);var r=n("98aa"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},7427:function(e,t,n){"use strict";n.r(t);var r=n("ce71"),i=n("ff07");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"7ec2":function(e,t,n){var r=n("7037")["default"];function i(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(O){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=d;var v={};function p(){}function y(){}function m(){}var g={};f(g,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(P([])));b&&b!==n&&a.call(b,u)&&(g=b);var w=m.prototype=p.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){var n;o(this,"_invoke",{value:function(i,o){function s(){return new t((function(n,s){(function n(i,o,s,u){var l=h(e[i],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)})(i,o,n,s)}))}return n=n?n.then(s,s):s()}})}function S(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator["return"]&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return y.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:y,configurable:!0}),y.displayName=f(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,f(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},k(C.prototype),f(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(w),f(w,c,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},t}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},8437:function(e,t,n){"use strict";n.r(t);var r=n("b56e"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},8464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("d1cf");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},8494:function(e,t,n){"use strict";n.r(t);var r=n("667b"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},8683:function(e,t,n){"use strict";function r(e,t,n){this.$children.map((function(i){e===i.$options.name?i.$emit.apply(i,[t].concat(n)):r.apply(i,[e,t].concat(n))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={methods:{dispatch:function(e,t,n){var r=this.$parent||this.$root,i=r.$options.name;while(r&&(!i||i!==e))r=r.$parent,r&&(i=r.$options.name);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,n){r.call(this,e,t,n)}}};t.default=i},8962:function(e,t,n){var r=n("9f70");function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports["default"]=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"8a07":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return new Promise((function(t,n){uni.showLoading({title:"Loading\u2026\u2026"});uni.request({url:"https://application-99523-default-rtdb.firebaseio.com"+e.url,method:e.method?e.method:"GET",data:e.data?e.data:{},success:function(e){uni.hideLoading(),t(e)},fail:function(e){n(e)}})}))}},"8b33":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];-1==["primary","info","error","warning","success"].indexOf(e)&&(e="success");var n="";switch(e){case"primary":n="info-circle";break;case"info":n="info-circle";break;case"error":n="close-circle";break;case"warning":n="error-circle";break;case"success":n="checkmark-circle";break;default:n="checkmark-circle"}return t&&(n+="-fill"),n};t.default=r},"8b61":function(e,t,n){"use strict";n.r(t);var r=n("23e4"),i=n("95b6");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"5b509492",null,!1,r["a"],void 0);t["default"]=s.exports},"8bbf":function(e,t){e.exports=Vue},"8bcc":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uIcon:n("0e18").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","u-form-item"),class:e._$s(0,"c",{"u-border-bottom":e.elBorderBottom,"u-form-item__border-bottom--error":"error"===e.validateState&&e.showError("border-bottom")}),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","u-form-item__body"),style:e._$s(1,"s",{flexDirection:"left"==e.elLabelPosition?"row":"column"}),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","u-form-item--left"),style:e._$s(2,"s",{width:e.uLabelWidth,flex:"0 0 "+e.uLabelWidth,marginBottom:"left"==e.elLabelPosition?0:"10rpx"}),attrs:{_i:2}},[e._$s(3,"i",e.required||e.leftIcon||e.label)?n("view",{staticClass:e._$s(3,"sc","u-form-item--left__content"),attrs:{_i:3}},[e._$s(4,"i",e.required)?n("text",{staticClass:e._$s(4,"sc","u-form-item--left__content--required"),attrs:{_i:4}}):e._e(),e._$s(5,"i",e.leftIcon)?n("view",{staticClass:e._$s(5,"sc","u-form-item--left__content__icon"),attrs:{_i:5}},[n("u-icon",{attrs:{name:e.leftIcon,"custom-style":e.leftIconStyle,_i:6}})],1):e._e(),n("view",{staticClass:e._$s(7,"sc","u-form-item--left__content__label"),style:e._$s(7,"s",[e.elLabelStyle,{"justify-content":"left"==e.elLabelAlign?"flex-start":"center"==e.elLabelAlign?"center":"flex-end"}]),attrs:{_i:7}},[e._v(e._$s(7,"t0-0",e._s(e.label)))])]):e._e()]),n("view",{staticClass:e._$s(8,"sc","u-form-item--right u-flex"),attrs:{_i:8}},[n("view",{staticClass:e._$s(9,"sc","u-form-item--right__content"),attrs:{_i:9}},[n("view",{staticClass:e._$s(10,"sc","u-form-item--right__content__slot "),attrs:{_i:10}},[e._t("default",null,{_i:11})],2),e._$s(12,"i",e.$slots.right||e.rightIcon)?n("view",{staticClass:e._$s(12,"sc","u-form-item--right__content__icon u-flex"),attrs:{_i:12}},[e._$s(13,"i",e.rightIcon)?n("u-icon",{attrs:{"custom-style":e.rightIconStyle,name:e.rightIcon,_i:13}}):e._e(),e._t("right",null,{_i:14})],2):e._e()])])]),e._$s(15,"i","error"===e.validateState&&e.showError("message"))?n("view",{staticClass:e._$s(15,"sc","u-form-item__message"),style:e._$s(15,"s",{paddingLeft:"left"==e.elLabelPosition?e.$u.addUnit(e.elLabelWidth):"0"}),attrs:{_i:15}},[e._v(e._$s(15,"t0-0",e._s(e.validateMessage)))]):e._e()])},a=[]},"8cc8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"u-popup",props:{show:{type:Boolean,default:!1},mode:{type:String,default:"left"},mask:{type:Boolean,default:!0},length:{type:[Number,String],default:"auto"},zoom:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!1},maskCloseAble:{type:Boolean,default:!0},customStyle:{type:Object,default:function(){return{}}},value:{type:Boolean,default:!1},popup:{type:Boolean,default:!0},borderRadius:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:""},closeable:{type:Boolean,default:!1},closeIcon:{type:String,default:"close"},closeIconPos:{type:String,default:"top-right"},closeIconColor:{type:String,default:"#909399"},closeIconSize:{type:[String,Number],default:"30"},width:{type:String,default:""},height:{type:String,default:""},negativeTop:{type:[String,Number],default:0},maskCustomStyle:{type:Object,default:function(){return{}}},duration:{type:[String,Number],default:250}},data:function(){return{visibleSync:!1,showDrawer:!1,timer:null,closeFromInner:!1}},computed:{style:function(){var e={};if("left"==this.mode||"right"==this.mode?e={width:this.width?this.getUnitValue(this.width):this.getUnitValue(this.length),height:"100%",transform:"translate3D(".concat("left"==this.mode?"-100%":"100%",",0px,0px)")}:"top"!=this.mode&&"bottom"!=this.mode||(e={width:"100%",height:this.height?this.getUnitValue(this.height):this.getUnitValue(this.length),transform:"translate3D(0px,".concat("top"==this.mode?"-100%":"100%",",0px)")}),e.zIndex=this.uZindex,this.borderRadius){switch(this.mode){case"left":e.borderRadius="0 ".concat(this.borderRadius,"rpx ").concat(this.borderRadius,"rpx 0");break;case"top":e.borderRadius="0 0 ".concat(this.borderRadius,"rpx ").concat(this.borderRadius,"rpx");break;case"right":e.borderRadius="".concat(this.borderRadius,"rpx 0 0 ").concat(this.borderRadius,"rpx");break;case"bottom":e.borderRadius="".concat(this.borderRadius,"rpx ").concat(this.borderRadius,"rpx 0 0");break;default:}e.overflow="hidden"}return this.duration&&(e.transition="all ".concat(this.duration/1e3,"s linear")),e},centerStyle:function(){var e={};return e.width=this.width?this.getUnitValue(this.width):this.getUnitValue(this.length),e.height=this.height?this.getUnitValue(this.height):"auto",e.zIndex=this.uZindex,e.marginTop="-".concat(this.$u.addUnit(this.negativeTop)),this.borderRadius&&(e.borderRadius="".concat(this.borderRadius,"rpx"),e.overflow="hidden"),e},uZindex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.popup}},watch:{value:function(e){e?this.open():this.closeFromInner||this.close(),this.closeFromInner=!1}},mounted:function(){this.value&&this.open()},methods:{getUnitValue:function(e){return/(%|px|rpx|auto)$/.test(e)?e:e+"rpx"},maskClick:function(){this.close()},close:function(){this.closeFromInner=!0,this.change("showDrawer","visibleSync",!1)},modeCenterClose:function(e){"center"==e&&this.maskCloseAble&&this.close()},open:function(){this.change("visibleSync","showDrawer",!0)},change:function(e,t,n){var r=this;1==this.popup&&this.$emit("input",n),this[e]=n,n?this.$nextTick((function(){r[t]=n,r.$emit(n?"open":"close")})):this.timer=setTimeout((function(){r[t]=n,r.$emit(n?"open":"close")}),this.duration)}}};t.default=r},"8dee":function(e,t,n){"use strict";n.r(t);var r=n("1e64"),i=n("c5fa");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"8e07":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,String.prototype.padStart||(String.prototype.padStart=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if("[object String]"!==Object.prototype.toString.call(t))throw new TypeError("fillString must be String");var n=this;if(n.length>=e)return String(n);var r=e-n.length,i=Math.ceil(r/t.length);while(i>>=1)t+=t,1===i&&(t+=t);return t.slice(0,r)+n});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";e||(e=Number(new Date)),10==e.toString().length&&(e*=1e3);var n,r=new Date(e),i={"y+":r.getFullYear().toString(),"m+":(r.getMonth()+1).toString(),"d+":r.getDate().toString(),"h+":r.getHours().toString(),"M+":r.getMinutes().toString(),"s+":r.getSeconds().toString()};for(var a in i)n=new RegExp("("+a+")").exec(t),n&&(t=t.replace(n[1],1==n[1].length?i[a]:i[a].padStart(n[1].length,"0")));return t};t.default=r},"90e6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return"both"==t?e.replace(/^\s+|\s+$/g,""):"left"==t?e.replace(/^\s*/,""):"right"==t?e.replace(/(\s*$)/g,""):"all"==t?e.replace(/\s+/g,""):e};t.default=r},"918b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i=t.a=void 0,t.r=function(e){f=e(f)},t.u=void 0,t.w=v;var r,i,a=function(e,t){return t.some((function(t){return e instanceof t}))};t.i=a;var o=new WeakMap,s=new WeakMap,u=new WeakMap,l=new WeakMap,c=new WeakMap;t.a=c;var f={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function d(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function(){return i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(p(this),n),v(o.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(e.apply(p(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[p(this),t].concat(r));return u.set(a,t.sort?t.sort():[t]),v(a)}}function h(e){return"function"===typeof e?d(e):(e instanceof IDBTransaction&&function(e){if(!s.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));s.set(e,t)}}(e),a(e,function(){return r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,f):e)}function v(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(v(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&o.set(t,e)})).catch((function(){})),c.set(t,e),t}(e);if(l.has(e))return l.get(e);var t=h(e);return t!==e&&(l.set(e,t),c.set(t,e)),t}var p=function(e){return c.get(e)};t.u=p},"92b9":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uMask:n("208a").default,uIcon:n("0e18").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._$s(0,"i",e.visibleSync)?n("view",{staticClass:e._$s(0,"sc","u-drawer"),style:e._$s(0,"s",[e.customStyle,{zIndex:e.uZindex-1}]),attrs:{_i:0}},[n("u-mask",{attrs:{duration:e.duration,"custom-style":e.maskCustomStyle,maskClickAble:e.maskCloseAble,"z-index":e.uZindex-2,show:e.showDrawer&&e.mask,_i:1},on:{click:e.maskClick}}),n("view",{staticClass:e._$s(2,"sc","u-drawer-content"),class:e._$s(2,"c",[e.safeAreaInsetBottom?"safe-area-inset-bottom":"","u-drawer-"+e.mode,e.showDrawer?"u-drawer-content-visible":"",e.zoom&&"center"==e.mode?"u-animation-zoom":""]),style:e._$s(2,"s",[e.style]),attrs:{_i:2},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault()},click:[function(t){return e.modeCenterClose(e.mode)},function(e){e.stopPropagation(),e.preventDefault()}]}},[e._$s(3,"i","center"==e.mode)?n("view",{staticClass:e._$s(3,"sc","u-mode-center-box"),style:e._$s(3,"s",[e.centerStyle]),attrs:{_i:3},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault()},click:function(e){e.stopPropagation(),e.preventDefault()}}},[e._$s(4,"i",e.closeable)?n("u-icon",{staticClass:e._$s(4,"sc","u-close"),class:e._$s(4,"c",["u-close--"+e.closeIconPos]),attrs:{name:e.closeIcon,color:e.closeIconColor,size:e.closeIconSize,_i:4},on:{click:e.close}}):e._e(),n("scroll-view",{staticClass:e._$s(5,"sc","u-drawer__scroll-view"),attrs:{_i:5}},[e._t("default",null,{_i:6})],2)],1):n("scroll-view",{staticClass:e._$s(7,"sc","u-drawer__scroll-view"),attrs:{_i:7}},[e._t("default",null,{_i:8})],2),n("view",{staticClass:e._$s(9,"sc","u-close"),class:e._$s(9,"c",["u-close--"+e.closeIconPos]),attrs:{_i:9},on:{click:e.close}},[e._$s(10,"i","center"!=e.mode&&e.closeable)?n("u-icon",{attrs:{name:e.closeIcon,color:e.closeIconColor,size:e.closeIconSize,_i:10}}):e._e()],1)])],1):e._e()},a=[]},"932b":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("5461")),a=r(n("48be")),o=r(n("2bcb")),s=r(n("0fc1")),u=r(n("8e07")),l=r(n("ef66")),c=r(n("fff1")),f=r(n("0aab")),d=r(n("19a5")),h=r(n("8b33")),v=r(n("1abe")),p=r(n("c2b0")),y=r(n("b603")),m=r(n("d8da")),g=r(n("a8e0")),_=r(n("1a31")),b=r(n("90e6")),w=r(n("1295")),k=r(n("b940")),C=r(n("1eff")),S=n("d6db"),x=r(n("5308")),E=r(n("a9ac")),I=r(n("108a")),T=r(n("124a"));var P={queryParams:o.default,route:s.default,timeFormat:u.default,date:u.default,timeFrom:l.default,colorGradient:c.default.colorGradient,colorToRgba:c.default.colorToRgba,guid:f.default,color:d.default,sys:S.sys,os:S.os,type2icon:h.default,randomArray:v.default,wranning:function(e){0},get:a.default.get,post:a.default.post,put:a.default.put,delete:a.default.delete,hexToRgb:c.default.hexToRgb,rgbToHex:c.default.rgbToHex,test:g.default,random:_.default,deepClone:p.default,deepMerge:y.default,getParent:k.default,$parent:C.default,addUnit:m.default,trim:b.default,type:["primary","success","error","warning","info"],http:a.default,toast:w.default,config:I.default,zIndex:T.default,debounce:x.default,throttle:E.default};uni.$u=P;var A={install:function(e){e.mixin(i.default),e.prototype.openShare&&e.mixin(mpShare),e.filter("timeFormat",(function(e,t){return(0,u.default)(e,t)})),e.filter("date",(function(e,t){return(0,u.default)(e,t)})),e.filter("timeFrom",(function(e,t){return(0,l.default)(e,t)})),e.prototype.$u=P}};t.default=A},"932d":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","u-form"),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},i=[]},9395:function(e,t,n){"use strict";(function(e){var t=n("4ea4"),r=(t(n("a34a")),t(n("9523")));t(n("c973"));n("71d5");var i=t(n("8bbf")),a=t(n("4a5d")),o=t(n("932b")),s=t(n("8a07")),u=n("6629"),l=n("8464");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(0,u.initializeApp)({apiKey:"AIzaSyDxzV1U3Bso6RREbG1tQgXng3sAWJTHj5Y",authDomain:"application-99523.firebaseapp.com",projectId:"application-99523",storageBucket:"application-99523.appspot.com",messagingSenderId:"287500326138",databaseURL:"https://application-99523-default-rtdb.firebaseio.com/",appId:"1:287500326138:web:67ca9abd30bb139ffee543",measurementId:"G-6569F81DL4"}),(0,l.getFirestore)(f);i.default.prototype.$a=s.default,i.default.use(o.default),i.default.config.productionTip=!1,a.default.mpType="app";var f=new i.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.default));f.$mount()}).call(this,n("0de9")["default"])},"945d":function(e,t,n){"use strict";(function(e,r){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("7037"));function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s=/%[sdj%]/g,u=function(){};function l(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,i=t[0],a=t.length;if("function"===typeof i)return i.apply(null,t.slice(1));if("string"===typeof i){for(var o=String(i).replace(s,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(n){return"[Circular]"}break;default:return e}})),u=t[r];r<a;u=t[++r])o+=" "+u;return o}return i}function f(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function d(e,t,n){var r=0,i=e.length;(function a(o){if(o&&o.length)n(o);else{var s=r;r+=1,s<i?t(e[s],a):n([])}})([])}function h(e,t,n,r){if(t.first){var i=new Promise((function(t,i){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}(e);d(a,n,(function(e){return r(e),e.length?i({errors:e,fields:l(e)}):t()}))}));return i["catch"]((function(e){return e})),i}var a=t.firstFields||[];!0===a&&(a=Object.keys(e));var o=Object.keys(e),s=o.length,u=0,c=[],f=new Promise((function(t,i){var f=function(e){if(c.push.apply(c,e),u++,u===s)return r(c),c.length?i({errors:c,fields:l(c)}):t()};o.length||(r(c),t()),o.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?d(r,n,f):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e),i++,i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,f)}))}));return f["catch"]((function(e){return e})),f}function v(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"===typeof t?t():t,field:t.field||e.fullField}}}function p(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===(0,a.default)(r)&&"object"===(0,a.default)(e[n])?e[n]=o({},e[n],{},r):e[n]=r}return e}function y(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!f(t,a||e.type)||r.push(c(i.messages.required,e.fullField))}"undefined"!==typeof e&&Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"foods",VUE_APP_PLATFORM:"app-plus",NODE_ENV:"production",BASE_URL:"/"});var m={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},g={integer:function(e){return g.number(e)&&parseInt(e,10)===e},float:function(e){return g.number(e)&&!g.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear},number:function(e){return!isNaN(e)&&"number"===typeof+e},object:function(e){return"object"===(0,a.default)(e)&&!g.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&!!e.match(m.email)&&e.length<255},url:function(e){return"string"===typeof e&&!!e.match(m.url)},hex:function(e){return"string"===typeof e&&!!e.match(m.hex)}};var _={required:y,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(c(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)y(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?g[o](t)||r.push(c(i.messages.types[o],e.fullField,e.type)):o&&(0,a.default)(t)!==e.type&&r.push(c(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,s="number"===typeof e.max,u=t,l=null,f="number"===typeof t,d="string"===typeof t,h=Array.isArray(t);if(f?l="number":d?l="string":h&&(l="array"),!l)return!1;h&&(u=t.length),d&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?u!==e.len&&r.push(c(i.messages[l].len,e.fullField,e.len)):o&&!s&&u<e.min?r.push(c(i.messages[l].min,e.fullField,e.min)):s&&!o&&u>e.max?r.push(c(i.messages[l].max,e.fullField,e.max)):o&&s&&(u<e.min||u>e.max)&&r.push(c(i.messages[l].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e["enum"]=Array.isArray(e["enum"])?e["enum"]:[],-1===e["enum"].indexOf(t)&&r.push(c(i.messages["enum"],e.fullField,e["enum"].join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(c(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){var a=new RegExp(e.pattern);a.test(t)||r.push(c(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};function b(e,t,n,r,i){var a=e.type,o=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(f(t,a)&&!e.required)return n();_.required(e,t,r,o,i,a),f(t,a)||_.type(e,t,r,o,i)}n(o)}var w={string:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t,"string")&&!e.required)return n();_.required(e,t,r,a,i,"string"),f(t,"string")||(_.type(e,t,r,a,i),_.range(e,t,r,a,i),_.pattern(e,t,r,a,i),!0===e.whitespace&&_.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&_.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(""===t&&(t=void 0),f(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&(_.type(e,t,r,a,i),_.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&_.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t)&&!e.required)return n();_.required(e,t,r,a,i),f(t)||_.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&(_.type(e,t,r,a,i),_.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&(_.type(e,t,r,a,i),_.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t,"array")&&!e.required)return n();_.required(e,t,r,a,i,"array"),f(t,"array")||(_.type(e,t,r,a,i),_.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&_.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&_["enum"](e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t,"string")&&!e.required)return n();_.required(e,t,r,a,i),f(t,"string")||_.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t)&&!e.required)return n();var s;if(_.required(e,t,r,a,i),!f(t))s="number"===typeof t?new Date(t):t,_.type(e,s,r,a,i),s&&_.range(e,s.getTime(),r,a,i)}n(a)},url:b,hex:b,email:b,required:function(e,t,n,r,i){var o=[],s=Array.isArray(t)?"array":(0,a.default)(t);_.required(e,t,r,o,i,s),n(o)},any:function(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(f(t)&&!e.required)return n();_.required(e,t,r,a,i)}n(a)}};function k(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var C=k();function S(e){this.rules=null,this._messages=C,this.define(e)}S.prototype={messages:function(e){return e&&(this._messages=p(k(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==(0,a.default)(e)||Array.isArray(e))throw new Error("Rules must be an object");var t,n;for(t in this.rules={},e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=function(){});var i,s,u=e,f=t,d=n;if("function"===typeof f&&(d=f,f={}),!this.rules||0===Object.keys(this.rules).length)return d&&d(),Promise.resolve();if(f.messages){var y=this.messages();y===C&&(y=k()),p(y,f.messages),f.messages=y}else f.messages=this.messages();var m={},g=f.keys||Object.keys(this.rules);g.forEach((function(t){i=r.rules[t],s=u[t],i.forEach((function(n){var i=n;"function"===typeof i.transform&&(u===e&&(u=o({},u)),s=u[t]=i.transform(s)),i="function"===typeof i?{validator:i}:o({},i),i.validator=r.getValidationMethod(i),i.field=t,i.fullField=i.fullField||t,i.type=r.getType(i),i.validator&&(m[t]=m[t]||[],m[t].push({rule:i,value:s,source:u,field:t}))}))}));var _={};return h(m,f,(function(e,t){var n,r=e.rule,i=("object"===r.type||"array"===r.type)&&("object"===(0,a.default)(r.fields)||"object"===(0,a.default)(r.defaultField));function s(e,t){return o({},t,{fullField:r.fullField+"."+e})}function u(n){void 0===n&&(n=[]);var a=n;if(Array.isArray(a)||(a=[a]),!f.suppressWarning&&a.length&&S.warning("async-validator:",a),a.length&&r.message&&(a=[].concat(r.message)),a=a.map(v(r)),f.first&&a.length)return _[r.field]=1,t(a);if(i){if(r.required&&!e.value)return a=r.message?[].concat(r.message).map(v(r)):f.error?[f.error(r,c(f.messages.required,r.field))]:[],t(a);var u={};if(r.defaultField)for(var l in e.value)e.value.hasOwnProperty(l)&&(u[l]=r.defaultField);for(var d in u=o({},u,{},e.rule.fields),u)if(u.hasOwnProperty(d)){var h=Array.isArray(u[d])?u[d]:[u[d]];u[d]=h.map(s.bind(null,d))}var p=new S(u);p.messages(f.messages),e.rule.options&&(e.rule.options.messages=f.messages,e.rule.options.error=f.error),p.validate(e.value,e.rule.options||f,(function(e){var n=[];a&&a.length&&n.push.apply(n,a),e&&e.length&&n.push.apply(n,e),t(n.length?n:null)}))}else t(a)}i=i&&(r.required||!r.required&&e.value),r.field=e.field,r.asyncValidator?n=r.asyncValidator(r,e.value,u,e.source,f):r.validator&&(n=r.validator(r,e.value,u,e.source,f),!0===n?u():!1===n?u(r.message||r.field+" fails"):n instanceof Array?u(n):n instanceof Error&&u(n.message)),n&&n.then&&n.then((function(){return u()}),(function(e){return u(e)}))}),(function(e){(function(e){var t,n=[],r={};function i(e){var t;Array.isArray(e)?n=(t=n).concat.apply(t,e):n.push(e)}for(t=0;t<e.length;t++)i(e[t]);n.length?r=l(n):(n=null,r=null),d(n,r)})(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!w.hasOwnProperty(e.type))throw new Error(c("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?w.required:w[this.getType(e)]||!1}},S.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");w[e]=t},S.warning=u,S.messages=C;var x=S;t.default=x}).call(this,n("4362"),n("0de9")["default"])},9523:function(e,t,n){var r=n("a395");e.exports=function(e,t,n){return t=r(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"95b6":function(e,t,n){"use strict";n.r(t);var r=n("e6cd"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"970b":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"97fc":function(e,t,n){"use strict";n.r(t);var r=n("e72a"),i=n("1f7c");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"98aa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"u-loading",props:{mode:{type:String,default:"circle"},color:{type:String,default:"#c7c7c7"},size:{type:[String,Number],default:"34"},show:{type:Boolean,default:!0}},computed:{cricleStyle:function(){var e={};return e.width=this.size+"rpx",e.height=this.size+"rpx","circle"==this.mode&&(e.borderColor="#e4e4e4 #e4e4e4 #e4e4e4 ".concat(this.color?this.color:"#c7c7c7")),e}}};t.default=r},"99ea":function(e,t,n){"use strict";n.r(t);var r=n("cf5d"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"9b42":function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n["return"]&&(o=n["return"](),Object(o)!==o))return}finally{if(l)throw i}}return s}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"9eae":function(e,t,n){"use strict";n.r(t);var r=n("fc98"),i=n("8494");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"5129f810",null,!1,r["a"],void 0);t["default"]=s.exports},"9f70":function(e,t,n){var r=n("36c6");e.exports=function(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=r(e),null===e)break;return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},a093:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=t.ComponentContainer=t.Component=void 0;var i=r(n("a34a")),a=r(n("448a")),o=r(n("c973")),s=r(n("278c")),u=r(n("970b")),l=r(n("5bc3")),c=n("55e6");function f(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){function e(t,n,r){(0,u.default)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,l.default)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.Component=h;var v=function(){function e(t,n){(0,u.default)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,l.default)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new c.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}var t,n=f(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,s.default)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,a.default)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,a.default)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=f(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,s.default)(i.value,2),l=u[0],c=u[1],d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=f(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:p(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(e){return"[DEFAULT]"===e?void 0:e}t.Provider=v;var y=function(){function e(t){(0,u.default)(this,e),this.name=t,this.providers=new Map}return(0,l.default)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new v(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}();t.ComponentContainer=y},a119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{list:[{icon:"setting-fill",name:"My Account",tip:"Account settings"},{icon:"clock-fill",name:"History",tip:"Review history recipos"},{icon:"star-fill",name:"Rating",tip:"Satiafoctiong"},{icon:"chat-fill",name:"Feedback",tip:"QivefeecRvacks"},{icon:"coupon-fill",name:"Premium",tip:"further services"}]}},methods:{}}},a128:function(e,t,n){var r=n("36c6"),i=n("4a4b"),a=n("c5f7"),o=n("b17c");function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},a34a:function(e,t,n){var r=n("7037"),i=n("7ec2")();e.exports=i;try{regeneratorRuntime=i}catch(a){"object"===("undefined"===typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},a395:function(e,t,n){var r=n("7037")["default"],i=n("e50d");e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},a488:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","u-mask"),class:e._$s(0,"c",{"u-mask-zoom":e.zoom,"u-mask-show":e.show}),style:e._$s(0,"s",[e.maskStyle,e.zoomStyle]),attrs:{_i:0},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault()},click:e.click}},[e._t("default",null,{_i:1})],2)},i=[]},a5de:function(e,t,n){"use strict";n.r(t);var r=n("668b"),i=n("31de");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"4b732cf7",null,!1,r["a"],void 0);t["default"]=s.exports},a654:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("096a");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},a8e0:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("7037"));function a(e){switch((0,i.default)(e)){case"undefined":return!0;case"string":if(0==e.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!e)return!0;break;case"number":if(0===e||isNaN(e))return!0;break;case"object":if(null===e||0===e.length)return!0;for(var t in e)return!1;return!0}return!1}var o={email:function(e){return/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/.test(e)},mobile:function(e){return/^1[3-9]\d{9}$/.test(e)},url:function(e){return/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/.test(e)},date:function(e){return!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e){return/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(e)},digits:function(e){return/^\d+$/.test(e)},idCard:function(e){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)},carNo:function(e){return 7===e.length?/^[\u4eac\u6d25\u6caa\u6e1d\u5180\u8c6b\u4e91\u8fbd\u9ed1\u6e58\u7696\u9c81\u65b0\u82cf\u6d59\u8d63\u9102\u6842\u7518\u664b\u8499\u9655\u5409\u95fd\u8d35\u7ca4\u9752\u85cf\u5ddd\u5b81\u743c\u4f7f\u9886A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9\u6302\u5b66\u8b66\u6e2f\u6fb3]{1}$/.test(e):8===e.length&&/^[\u4eac\u6d25\u6caa\u6e1d\u5180\u8c6b\u4e91\u8fbd\u9ed1\u6e58\u7696\u9c81\u65b0\u82cf\u6d59\u8d63\u9102\u6842\u7518\u664b\u8499\u9655\u5409\u95fd\u8d35\u7ca4\u9752\u85cf\u5ddd\u5b81\u743c\u4f7f\u9886A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/.test(e)},amount:function(e){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(e)},chinese:function(e){return/^[\u4e00-\u9fa5]+$/gi.test(e)},letter:function(e){return/^[a-zA-Z]*$/.test(e)},enOrNum:function(e){return/^[0-9a-zA-Z]*$/g.test(e)},contains:function(e,t){return e.indexOf(t)>=0},range:function(e,t){return e>=t[0]&&e<=t[1]},rangeLength:function(e,t){return e.length>=t[0]&&e.length<=t[1]},empty:a,isEmpty:a,jsonString:function(e){if("string"==typeof e)try{var t=JSON.parse(e);return!("object"!=(0,i.default)(t)||!t)}catch(n){return!1}return!1},landline:function(e){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(e)},object:function(e){return"[object Object]"===Object.prototype.toString.call(e)},array:function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},code:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return new RegExp("^\\d{".concat(t,"}$")).test(e)}};t.default=o},a9ac:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n?r||(r=!0,"function"===typeof e&&e(),setTimeout((function(){r=!1}),t)):r||(r=!0,setTimeout((function(){r=!1,"function"===typeof e&&e()}),t))};t.default=i},ace3:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FirebaseError",{enumerable:!0,get:function(){return p.FirebaseError}}),t._DEFAULT_ENTRY_NAME=t.SDK_VERSION=void 0,t._addComponent=x,t._addOrOverwriteComponent=function(e,t){e.container.addOrOverwriteComponent(t)},t._apps=void 0,t._clearComponents=function(){S.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t._components=void 0,t._getProvider=I,t._registerComponent=E,t._removeServiceInstance=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"[DEFAULT]";I(e,t).clearInstance(n)},t.deleteApp=function(e){return N.apply(this,arguments)},t.getApp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]",t=C.get(e);if(!t&&"[DEFAULT]"===e&&(0,p.getDefaultAppConfig)())return O();if(!t)throw P.create("no-app",{appName:e});return t},t.getApps=function(){return Array.from(C.values())},t.initializeApp=O,t.onLog=function(e,t){if(null!==e&&"function"!==typeof e)throw P.create("invalid-log-argument");(0,v.setUserLogHandler)(e,t)},t.registerVersion=D,t.setLogLevel=function(e){(0,v.setLogLevel)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */;var i,a,o=r(n("a34a")),s=r(n("448a")),u=r(n("c973")),l=r(n("7037")),c=r(n("9523")),f=r(n("970b")),d=r(n("5bc3")),h=n("a093"),v=n("6c7f"),p=n("55e6"),y=n("1407");function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _=function(){function e(t){(0,f.default)(this,e),this.container=t}return(0,d.default)(e,[{key:"getPlatformInfoString",value:function(){var e=this.container.getProviders();return e.map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var b="@firebase/app",w=new v.Logger("@firebase/app");t._DEFAULT_ENTRY_NAME="[DEFAULT]";var k=(i={},(0,c.default)(i,b,"fire-core"),(0,c.default)(i,"@firebase/app-compat","fire-core-compat"),(0,c.default)(i,"@firebase/analytics","fire-analytics"),(0,c.default)(i,"@firebase/analytics-compat","fire-analytics-compat"),(0,c.default)(i,"@firebase/app-check","fire-app-check"),(0,c.default)(i,"@firebase/app-check-compat","fire-app-check-compat"),(0,c.default)(i,"@firebase/auth","fire-auth"),(0,c.default)(i,"@firebase/auth-compat","fire-auth-compat"),(0,c.default)(i,"@firebase/database","fire-rtdb"),(0,c.default)(i,"@firebase/database-compat","fire-rtdb-compat"),(0,c.default)(i,"@firebase/functions","fire-fn"),(0,c.default)(i,"@firebase/functions-compat","fire-fn-compat"),(0,c.default)(i,"@firebase/installations","fire-iid"),(0,c.default)(i,"@firebase/installations-compat","fire-iid-compat"),(0,c.default)(i,"@firebase/messaging","fire-fcm"),(0,c.default)(i,"@firebase/messaging-compat","fire-fcm-compat"),(0,c.default)(i,"@firebase/performance","fire-perf"),(0,c.default)(i,"@firebase/performance-compat","fire-perf-compat"),(0,c.default)(i,"@firebase/remote-config","fire-rc"),(0,c.default)(i,"@firebase/remote-config-compat","fire-rc-compat"),(0,c.default)(i,"@firebase/storage","fire-gcs"),(0,c.default)(i,"@firebase/storage-compat","fire-gcs-compat"),(0,c.default)(i,"@firebase/firestore","fire-fst"),(0,c.default)(i,"@firebase/firestore-compat","fire-fst-compat"),(0,c.default)(i,"fire-js","fire-js"),(0,c.default)(i,"firebase","fire-js-all"),i),C=new Map;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t._apps=C;var S=new Map;function x(e,t){try{e.container.addComponent(t)}catch(n){w.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function E(e){var t=e.name;if(S.has(t))return w.debug("There were multiple attempts to register component ".concat(t,".")),!1;S.set(t,e);var n,r=m(C.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;x(i,e)}}catch(a){r.e(a)}finally{r.f()}return!0}function I(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}t._components=S;var T=(a={},(0,c.default)(a,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,c.default)(a,"bad-app-name","Illegal App name: '{$appName}"),(0,c.default)(a,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,c.default)(a,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,c.default)(a,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,c.default)(a,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,c.default)(a,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,c.default)(a,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,c.default)(a,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,c.default)(a,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,c.default)(a,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),a),P=new p.ErrorFactory("app","Firebase",T),A=function(){function e(t,n,r){var i=this;(0,f.default)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new h.Component("app",(function(){return i}),"PUBLIC"))}return(0,d.default)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw P.create("app-deleted",{appName:this._name})}}]),e}();function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==(0,l.default)(t)){var r=t;t={name:r}}var i=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw P.create("bad-app-name",{appName:String(a)});if(n||(n=(0,p.getDefaultAppConfig)()),!n)throw P.create("no-options");var o=C.get(a);if(o){if((0,p.deepEqual)(n,o.options)&&(0,p.deepEqual)(i,o.config))return o;throw P.create("duplicate-app",{appName:a})}var s,u=new h.ComponentContainer(a),c=m(S.values());try{for(c.s();!(s=c.n()).done;){var f=s.value;u.addComponent(f)}}catch(v){c.e(v)}finally{c.f()}var d=new A(n,i,u);return C.set(a,d),d}function N(){return N=(0,u.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.name,!C.has(n)){e.next=6;break}return C.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function D(e,t,n){var r,i=null!==(r=k[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void w.warn(s.join(" "))}E(new h.Component("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}t.SDK_VERSION="9.22.0";var R="firebase-heartbeat-store",M=null;function F(){return M||(M=(0,y.openDB)("firebase-heartbeat-database",1,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(R)}}}).catch((function(e){throw P.create("idb-open",{originalErrorMessage:e.message})}))),M}function L(e){return j.apply(this,arguments)}function j(){return j=(0,u.default)(o.default.mark((function e(t){var n,r,i;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:return n=e.sent,e.next=6,n.transaction(R).objectStore(R).get(B(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e["catch"](0),e.t0 instanceof p.FirebaseError?w.warn(e.t0.message):(i=P.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),w.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),j.apply(this,arguments)}function q(e,t){return $.apply(this,arguments)}function $(){return $=(0,u.default)(o.default.mark((function e(t,n){var r,i,a,s;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:return r=e.sent,i=r.transaction(R,"readwrite"),a=i.objectStore(R),e.next=8,a.put(n,B(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),e.t0 instanceof p.FirebaseError?w.warn(e.t0.message):(s=P.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),w.warn(s.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),$.apply(this,arguments)}function B(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V=function(){function e(t){var n=this;(0,f.default)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new W(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,d.default)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,u.default)(o.default.mark((function e(){var t,n,r;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=U(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf(),n=Date.now();return n-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,u.default)(o.default.mark((function e(){var t,n,r,i,a;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=U(),n=z(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=(0,p.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function U(){var e=new Date;return e.toISOString().substring(0,10)}function z(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=m(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),H(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),H(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var W=function(){function e(t){(0,f.default)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,d.default)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,u.default)(o.default.mark((function e(){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((0,p.isIndexedDBAvailable)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",(0,p.validateIndexedDBOpenable)().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,u.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(t=e.sent,t){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,L(this.app);case 9:return n=e.sent,e.abrupt("return",n||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=(0,u.default)(o.default.mark((function e(t){var n,r,i;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(r=e.sent,r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",q(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=(0,u.default)(o.default.mark((function e(t){var n,r,i;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(r=e.sent,r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",q(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:[].concat((0,s.default)(i.heartbeats),(0,s.default)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function H(e){return(0,p.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){E(new h.Component("platform-logger",(function(e){return new _(e)}),"PRIVATE")),E(new h.Component("heartbeat",(function(e){return new V(e)}),"PRIVATE")),D(b,"0.9.10",e),D(b,"0.9.10","esm2017"),D("fire-js","")})("")},b17c:function(e,t,n){var r=n("4a4b"),i=n("6f8f");function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=Function.bind.apply(e,i),o=new a;return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports["default"]=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},b56e:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={onLaunch:function(){e("warn","\u5f53\u524d\u7ec4\u4ef6\u4ec5\u652f\u6301 uni_modules \u76ee\u5f55\u7ed3\u6784 \uff0c\u8bf7\u5347\u7ea7 HBuilderX \u5230 3.1.0 \u7248\u672c\u4ee5\u4e0a\uff01"," at App.vue:4"),e("log","App Launch"," at App.vue:5")},onShow:function(){e("log","App Show"," at App.vue:8")},onHide:function(){e("log","App Hide"," at App.vue:11")}};t.default=n}).call(this,n("0de9")["default"])},b603:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("7037")),a=r(n("c2b0"));var o=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=(0,a.default)(t),"object"!==(0,i.default)(t)||"object"!==(0,i.default)(n))return!1;for(var r in n)n.hasOwnProperty(r)&&(r in t?"object"!==(0,i.default)(t[r])||"object"!==(0,i.default)(n[r])?t[r]=n[r]:t[r].concat&&n[r].concat?t[r]=t[r].concat(n[r]):t[r]=e(t[r],n[r]):t[r]=n[r]);return t};t.default=o},b68e:function(e,t,n){"use strict";n.r(t);var r=n("dfd8"),i=n("df2f");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},b940:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=this.$parent;while(n)if(n.$options.name!==e)n=n.$parent;else{var r=function(){var e={};if(Array.isArray(t))t.map((function(t){e[t]=n[t]?n[t]:""}));else for(var r in t)Array.isArray(t[r])?t[r].length?e[r]=t[r]:e[r]=n[r]:t[r].constructor===Object?Object.keys(t[r]).length?e[r]=t[r]:e[r]=n[r]:e[r]=t[r]||!1===t[r]?t[r]:n[r];return{v:e}}();if("object"===(0,i.default)(r))return r.v}return{}};var i=r(n("7037"))},bb5e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"u-grid",props:{col:{type:[Number,String],default:3},border:{type:Boolean,default:!0},align:{type:String,default:"left"},hoverClass:{type:String,default:"u-hover-class"}},data:function(){return{index:0}},watch:{parentData:function(){this.children.length&&this.children.map((function(e){"function"==typeof e.updateParentData&&e.updateParentData()}))}},created:function(){this.children=[]},computed:{parentData:function(){return[this.hoverClass,this.col,this.size,this.border]},gridStyle:function(){var e={};switch(this.align){case"left":e.justifyContent="flex-start";break;case"center":e.justifyContent="center";break;case"right":e.justifyContent="flex-end";break;default:e.justifyContent="flex-start"}return e}},methods:{click:function(e){this.$emit("click",e)}}};t.default=r},c0e0:function(e,t,n){"use strict";n.r(t);var r=n("2611"),i=n("72d8");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"7d470c48",null,!1,r["a"],void 0);t["default"]=s.exports},c135:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},c240:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},c2b0:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("7037"));var a=function e(t){if([null,void 0,NaN,!1].includes(t))return t;if("object"!==(0,i.default)(t)&&"function"!==typeof t)return t;var n=function(e){return"[object Array]"===Object.prototype.toString.call(e)}(t)?[]:{};for(var r in t)t.hasOwnProperty(r)&&(n[r]="object"===(0,i.default)(t[r])?e(t[r]):t[r]);return n};t.default=a},c32a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"u-sticky",props:{offsetTop:{type:[Number,String],default:0},index:{type:[Number,String],default:""},enable:{type:Boolean,default:!0},h5NavHeight:{type:[Number,String],default:44},bgColor:{type:String,default:"#ffffff"},zIndex:{type:[Number,String],default:""}},data:function(){return{fixed:!1,height:"auto",stickyTop:0,elClass:this.$u.guid(),left:0,width:"auto"}},watch:{offsetTop:function(e){this.initObserver()},enable:function(e){0==e?(this.fixed=!1,this.disconnectObserver("contentObserver")):this.initObserver()}},computed:{uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.sticky}},mounted:function(){this.initObserver()},methods:{initObserver:function(){var e=this;this.enable&&(this.stickyTop=0!=this.offsetTop?uni.upx2px(this.offsetTop):0,this.disconnectObserver("contentObserver"),this.$uGetRect("."+this.elClass).then((function(t){e.height=t.height,e.left=t.left,e.width=t.width,e.$nextTick((function(){e.observeContent()}))})))},observeContent:function(){var e=this;this.disconnectObserver("contentObserver");var t=this.createIntersectionObserver({thresholds:[.95,.98,1]});t.relativeToViewport({top:-this.stickyTop}),t.observe("."+this.elClass,(function(t){e.enable&&e.setFixed(t.boundingClientRect.top)})),this.contentObserver=t},setFixed:function(e){var t=e<this.stickyTop;t?this.$emit("fixed",this.index):this.fixed&&this.$emit("unfixed",this.index),this.fixed=t},disconnectObserver:function(e){var t=this[e];t&&t.disconnect()}},beforeDestroy:function(){this.disconnectObserver("contentObserver")}};t.default=r},c4d2:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n("a654");var r={data:function(){return{list:[]}},onLoad:function(){var t=this;this.$a({url:"/variety.json"}).then((function(n){t.list=n.data,e("log",n," at pages/favorite/favorite.vue:65")}))},methods:{gopage:function(e){uni.navigateTo({url:"favoriteinfo?id="+e})}}};t.default=r}).call(this,n("0de9")["default"])},c5f7:function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports["default"]=e.exports},c5fa:function(e,t,n){"use strict";n.r(t);var r=n("c4d2"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},c643:function(e,t,n){"use strict";n.r(t);var r=n("d3ac"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},c726:function(e,t,n){"use strict";n.r(t);var r=n("92b9"),i=n("69ae");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"ecc25316",null,!1,r["a"],void 0);t["default"]=s.exports},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c973:function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports["default"]=e.exports},c991:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{data:[],href:"https://uniapp.dcloud.io/component/README?id=uniui",list:[{img:"/static/img/foods01.jpg",title:"ASIAN"},{img:"/static/img/foods02.jpg",title:"MIDDLE-EASTERN"},{img:"/static/img/foods03.jpg",title:"WESTERN"},{img:"/static/img/foods01.jpg",title:"ASIAN"},{img:"/static/img/foods02.jpg",title:"MIDDLE-EASTERN"},{img:"/static/img/foods03.jpg",title:"WESTERN"},{img:"/static/img/foods01.jpg",title:"ASIAN"},{img:"/static/img/foods02.jpg",title:"MIDDLE-EASTERN"}]}},onLoad:function(){var t=this;this.$a({url:"/category.json"}).then((function(n){e("log",n," at pages/index/index.vue:100"),t.data=n.data}))},methods:{}};t.default=n}).call(this,n("0de9")["default"])},ce71:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uIcon:n("0e18").default,uInput:n("9eae").default,uGrid:n("ddb0").default,uGridItem:n("8b61").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",[n("view",[n("image",{attrs:{_i:3}})]),n("view",{staticClass:e._$s(4,"sc","uni-shadow-lg"),attrs:{_i:4}},[n("view",[n("u-icon",{attrs:{name:"list",size:"50",_i:6}})],1),n("view",[n("u-input",{attrs:{placeholder:"INGEDIENT,DISH,KEYWORO...",_i:8}})],1),n("view",[n("u-icon",{attrs:{name:"search",color:"#00aaff",size:"50rpx",_i:10}})],1)])]),n("view",[n("u-grid",{attrs:{col:"4",border:!1,_i:12}},e._l(e._$s(13,"f",{forItems:e.data}),(function(t,r,i,a){return n("u-grid-item",{key:e._$s(13,"f",{forIndex:i,key:"13-"+a}),attrs:{_i:"13-"+a}},[n("view",[n("view",[n("image",{attrs:{src:e._$s("16-"+a,"a-src",t.img),_i:"16-"+a}})]),n("view",[n("h4",[e._v(e._$s("18-"+a,"t0-0",e._s(t.name)))])])])])})),1)],1)])},a=[]},cf5d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"u-form",props:{model:{type:Object,default:function(){return{}}},errorType:{type:Array,default:function(){return["message","toast"]}},borderBottom:{type:Boolean,default:!0},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:90},labelAlign:{type:String,default:"left"},labelStyle:{type:Object,default:function(){return{}}}},provide:function(){return{uForm:this}},data:function(){return{rules:{}}},created:function(){this.fields=[]},methods:{setRules:function(e){this.rules=e},resetFields:function(){this.fields.map((function(e){e.resetField()}))},validate:function(e){var t=this;return new Promise((function(n){var r=!0,i=0,a=[];t.fields.map((function(o){o.validation("",(function(o){o&&(r=!1,a.push(o)),++i===t.fields.length&&(n(r),-1===t.errorType.indexOf("none")&&t.errorType.indexOf("toast")>=0&&a.length&&t.$u.toast(a[0]),"function"==typeof e&&e(r))}))}))}))}}};t.default=r},d1cf:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBatch=t.Transaction=t.Timestamp=t.QueryStartAtConstraint=t.QuerySnapshot=t.QueryOrderByConstraint=t.QueryLimitConstraint=t.QueryFieldFilterConstraint=t.QueryEndAtConstraint=t.QueryDocumentSnapshot=t.QueryConstraint=t.QueryCompositeFilterConstraint=t.Query=t.GeoPoint=t.FirestoreError=t.Firestore=t.FieldValue=t.FieldPath=t.DocumentSnapshot=t.DocumentReference=t.CollectionReference=t.Bytes=t.AggregateQuerySnapshot=t.AggregateField=void 0,t.addDoc=function(e,t){var n=Fn(e=pe(e,Mn)),r=Nr(e.converter,t),i=Kn(Qn(e.firestore),"addDoc",n._key,r,null!==n.converter,{});return bn(In(e.firestore),[i.toMutation(n._key,Bt.exists(!1))]).then((function(){return n}))}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.aggregateFieldEqual=function(e,t){var n,r;return e instanceof On&&t instanceof On&&e._aggregateType===t._aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())},t.aggregateQuerySnapshotEqual=function(e,t){return Ln(e.query,t.query)&&(0,b.deepEqual)(e.data(),t.data())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.and=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((function(e){return Or("and",e)})),wr._create("and",t)},t.arrayRemove=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new er("arrayRemove",t)},t.arrayUnion=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Zn("arrayUnion",t)},t.average=function(e){return new On("avg",lr("average",e))},t.collection=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,b.getModularInstance)(e),fe("collection","path",t),e instanceof Pn){var a=se.fromString.apply(se,[t].concat(r));return he(a),new Mn(e,null,a)}if(!(e instanceof Dn||e instanceof Mn))throw new Q(F,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(se.fromString.apply(se,[t].concat(r)));return he(o),new Mn(e.firestore,null,o)},t.collectionGroup=function(e,t){if(e=pe(e,Pn),fe("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Q(F,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Rn(e,null,function(e){return new It(se.emptyPath(),e)}(t))},t.connectFirestoreEmulator=An,t.count=Mr,t.deleteDoc=function(e){return bn(In((e=pe(e,Dn)).firestore),[new Wt(e._key,Bt.none())])},t.deleteField=function(){return new Yn("deleteField")},t.doc=Fn,t.documentId=function(){return new qn("__name__")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.endAt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xr._create("endAt",t,!0)},t.endBefore=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xr._create("endBefore",t,!1)},t.getAggregate=Rr,t.getCount=function(e){return Rr(e,{count:Mr()})},t.getDoc=function(e){var t=In((e=pe(e,Dn)).firestore),n=new Dr(e.firestore);return kn(t,[e._key]).then((function(t){N(1===t.length);var r=t[0];return new vr(e.firestore,n,e._key,r.isFoundDocument()?r:null,e.converter)}))},t.getDocs=function(e){!function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Q(W,"limitToLast() queries require specifying at least one orderBy() clause")}((e=pe(e,Rn))._query);var t=In(e.firestore),n=new Dr(e.firestore);return function(e,t){return Sn.apply(this,arguments)}(t,e._query).then((function(t){var r=t.map((function(t){return new pr(e.firestore,n,t.key,t,e.converter)}));return"L"===e._query.limitType&&r.reverse(),new yr(e,r)}))},t.getFirestore=function(e,t){var n="object"==(0,c.default)(e)?e:(0,m.getApp)(),r="string"==typeof e?e:t||"(default)",i=(0,m._getProvider)(n,"firestore/lite").getImmediate({identifier:r});if(!i._initialized){var a=(0,b.getDefaultEmulatorHostnameAndPort)("firestore");a&&An.apply(void 0,[i].concat((0,v.default)(a)))}return i},t.increment=function(e){return new tr("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.initializeFirestore=function(e,t,n){n||(n="(default)");var r=(0,m._getProvider)(e,"firestore/lite");if(r.isInitialized(n))throw new Q(V,"Firestore can only be initialized once per app.");return r.initialize({options:t,instanceIdentifier:n})},t.limit=function(e){return ye("limit",e),Cr._create("limit",e,"F")},t.limitToLast=function(e){return ye("limitToLast",e),Cr._create("limitToLast",e,"L")},t.or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((function(e){return Or("or",e)})),wr._create("or",t)},t.orderBy=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=mr("orderBy",e);return kr._create(r,n)},t.query=function(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof gr&&n.push(t),n=n.concat(i),function(e){var t=e.filter((function(e){return e instanceof wr})).length,n=e.filter((function(e){return e instanceof br})).length;if(t>1||t>0&&n>0)throw new Q(F,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */(n);var o,s=w(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(l){s.e(l)}finally{s.f()}return e},t.queryEqual=Ln,t.refEqual=function(e,t){return e=(0,b.getModularInstance)(e),t=(0,b.getModularInstance)(t),(e instanceof Dn||e instanceof Mn)&&(t instanceof Dn||t instanceof Mn)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter},t.runTransaction=function(e,t,n){var r=In(e=pe(e,Pn)),i=Object.assign(Object.assign({},qr),n);!function(e){if(e.maxAttempts<1)throw new Q(F,"Max attempts must be at least 1")}(i);var a=new K;return new $r(new Ur,r,i,(function(n){return t(new zr(e,n))}),a).run(),a.promise},t.serverTimestamp=function(){return new Xn("serverTimestamp")},t.setDoc=function(e,t,n){var r=Nr((e=pe(e,Dn)).converter,t,n),i=Kn(Qn(e.firestore),"setDoc",e._key,r,null!==e.converter,n);return bn(In(e.firestore),[i.toMutation(e._key,Bt.none())])},t.setLogLevel=function(e){E.setLogLevel(e)},t.snapshotEqual=function e(t,n){return t=(0,b.getModularInstance)(t),n=(0,b.getModularInstance)(n),t instanceof vr&&n instanceof vr?t._firestore===n._firestore&&t._key.isEqual(n._key)&&(null===t._document?null===n._document:t._document.isEqual(n._document))&&t._converter===n._converter:t instanceof yr&&n instanceof yr&&Ln(t.query,n.query)&&Ae(t.docs,n.docs,e)},t.startAfter=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sr._create("startAfter",t,!1)},t.startAt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sr._create("startAt",t,!0)},t.sum=function(e){return new On("sum",lr("sum",e))},t.terminate=function(e){return e=pe(e,Pn),(0,m._removeServiceInstance)(e.app,"firestore/lite"),e._delete()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.updateDoc=function(e,t,n){for(var r,i=Qn((e=pe(e,Dn)).firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=(0,b.getModularInstance)(t))||t instanceof qn?rr(i,"updateDoc",e._key,t,n,o):nr(i,"updateDoc",e._key,t),bn(In(e.firestore),[r.toMutation(e._key,Bt.exists(!0))])},t.where=function(e,t,n){var r=t,i=mr("where",e);return br._create(i,r,n)},t.writeBatch=function(e){var t=In(e=pe(e,Pn));return new Fr(e,(function(e){return bn(t,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */;var i=r(n("a34a")),a=r(n("8962")),o=r(n("b17c")),s=r(n("278c")),u=r(n("a128")),l=r(n("c973")),c=r(n("7037")),f=r(n("ed6d")),d=r(n("6b58")),h=r(n("36c6")),v=r(n("448a")),p=r(n("970b")),y=r(n("5bc3")),m=n("ace3"),g=n("a093"),_=n("6c7f"),b=n("55e6");function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */();return function(){var n,r=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var S=function(){function e(t){(0,p.default)(this,e),this.uid=t}return(0,y.default)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();S.UNAUTHENTICATED=new S(null),S.GOOGLE_CREDENTIALS=new S("google-credentials-uid"),S.FIRST_PARTY=new S("first-party-uid"),S.MOCK_USER=new S("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var x="9.22.0",E=new _.Logger("@firebase/firestore");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(e){if(E.logLevel<=_.LogLevel.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(A);E.debug.apply(E,["Firestore (".concat(x,"): ").concat(e)].concat((0,v.default)(i)))}}function T(e){if(E.logLevel<=_.LogLevel.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(A);E.error.apply(E,["Firestore (".concat(x,"): ").concat(e)].concat((0,v.default)(i)))}}function P(e){if(E.logLevel<=_.LogLevel.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(A);E.warn.apply(E,["Firestore (".concat(x,"): ").concat(e)].concat((0,v.default)(i)))}}function A(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(x,") INTERNAL ASSERTION FAILED: ")+e;throw T(t),new Error(t)}function N(e,t){e||O()}function D(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R="cancelled",M="unknown",F="invalid-argument",L="deadline-exceeded",j="not-found",q="permission-denied",$="unauthenticated",B="resource-exhausted",V="failed-precondition",U="aborted",z="out-of-range",W="unimplemented",H="internal",G="unavailable",Q=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this,e,r),i.code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,y.default)(n)}(b.FirebaseError);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.FirestoreError=Q;var K=(0,y.default)((function e(){var t=this;(0,p.default)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Y=(0,y.default)((function e(t,n){(0,p.default)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),J=function(){function e(){(0,p.default)(this,e)}return(0,y.default)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(S.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),X=function(){function e(t){(0,p.default)(this,e),this.token=t,this.changeListener=null}return(0,y.default)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Z=function(){function e(t){var n=this;(0,p.default)(this,e),this.auth=null,t.onInit((function(e){n.auth=e}))}return(0,y.default)(e,[{key:"getToken",value:function(){var e=this;return this.auth?this.auth.getToken().then((function(t){return t?(N("string"==typeof t.accessToken),new Y(t.accessToken,new S(e.auth.getUid()))):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){}},{key:"shutdown",value:function(){}}]),e}(),ee=function(){function e(t,n,r){(0,p.default)(this,e),this.t=t,this.i=n,this.o=r,this.type="FirstParty",this.user=S.FIRST_PARTY,this.u=new Map}return(0,y.default)(e,[{key:"h",value:function(){return this.o?this.o():null}},{key:"headers",get:function(){this.u.set("X-Goog-AuthUser",this.t);var e=this.h();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}]),e}(),te=function(){function e(t,n,r){(0,p.default)(this,e),this.t=t,this.i=n,this.o=r}return(0,y.default)(e,[{key:"getToken",value:function(){return Promise.resolve(new ee(this.t,this.i,this.o))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(S.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ne=(0,y.default)((function e(t){(0,p.default)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),re=function(){function e(t){var n=this;(0,p.default)(this,e),this.l=t,this.appCheck=null,t.onInit((function(e){n.appCheck=e}))}return(0,y.default)(e,[{key:"getToken",value:function(){return this.appCheck?this.appCheck.getToken().then((function(e){return e?(N("string"==typeof e.token),new ne(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){}},{key:"shutdown",value:function(){}}]),e}(),ie=(0,y.default)((function e(t,n,r,i,a,o,s,u,l){(0,p.default)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l})),ae=function(){function e(t,n){(0,p.default)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,y.default)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),oe=function(){function e(t,n,r){(0,p.default)(this,e),void 0===n?n=0:n>t.length&&O(),void 0===r?r=t.length-n:r>t.length-n&&O(),this.segments=t,this.offset=n,this.len=r}return(0,y.default)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),se=function(e){(0,f.default)(n,e);var t=C(n);function n(){return(0,p.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Q(F,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,v.default)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(oe),ue=/^[_a-zA-Z][_a-zA-Z0-9]*$/,le=function(e){(0,f.default)(n,e);var t=C(n);function n(){return(0,p.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ue.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Q(F,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Q(F,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Q(F,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Q(F,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(oe),ce=function(){function e(t){(0,p.default)(this,e),this.path=t}return(0,y.default)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===se.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(se.fromString(t))}},{key:"fromName",value:function(t){return new e(se.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(se.emptyPath())}},{key:"comparator",value:function(e,t){return se.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new se(t.slice()))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fe(e,t,n){if(!n)throw new Q(F,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function de(e){if(!ce.isDocumentKey(e))throw new Q(F,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function he(e){if(ce.isDocumentKey(e))throw new Q(F,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ve(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==(0,c.default)(e)){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":O()}function pe(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Q(F,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ve(e);throw new Q(F,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function ye(e,t){if(t<=0)throw new Q(F,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var ge=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function _e(e){return null==e}function be(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,ke,Ce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(e){if(void 0===e)return T("RPC_ERROR","HTTP error has no status"),M;switch(e){case 200:return"ok";case 400:return V;case 401:return $;case 403:return q;case 404:return j;case 409:return U;case 416:return z;case 429:return B;case 499:return R;case 500:return M;case 501:return W;case 503:return G;case 504:return L;default:return e>=200&&e<300?"ok":e>=400&&e<500?V:e>=500&&e<600?H:M}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ke=we||(we={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";var xe=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this,e),i.P=r,i}return(0,y.default)(n,[{key:"V",value:function(e,t){throw new Error("Not supported by FetchConnection")}},{key:"A",value:function(){var e=(0,l.default)(i.default.mark((function e(t,n,r,a){var o,s,u,l,c,f;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=JSON.stringify(a),e.prev=1,e.next=4,this.P(n,{method:"POST",headers:r,body:s});case 4:u=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),l=e.t0,new Q(Se(l.status),"Request failed with error: "+l.statusText);case 11:if(u.ok){e.next=18;break}return e.next=14,u.json();case 14:throw c=e.sent,Array.isArray(c)&&(c=c[0]),f=null===(o=null==c?void 0:c.error)||void 0===o?void 0:o.message,new Q(Se(u.status),"Request failed with error: ".concat(null!=f?f:u.statusText));case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),n}(function(){function e(t){(0,p.default)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.m=n+"://"+t.host,this.p="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,y.default)(e,[{key:"g",get:function(){return!1}},{key:"v",value:function(e,t,n,r,i){var a=function(){return null===ge?ge=268435456+Math.round(2147483648*Math.random()):ge++,"0x"+ge.toString(16)}(),o=this.I(e,t);I("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.T(s,r,i),this.A(e,o,s,n).then((function(t){return I("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw P("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"R",value:function(e,t,n,r,i,a){return this.v(e,t,n,r,i)}},{key:"T",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+x,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"I",value:function(e,t){var n=Ce[e];return"".concat(this.m,"/v1/").concat(t,":").concat(n)}}]),e}()),Ee=(0,y.default)((function e(t,n,r){(0,p.default)(this,e),this.alias=t,this.$=n,this.fieldPath=r}));
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ie(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te=function(){function e(){(0,p.default)(this,e)}return(0,y.default)(e,null,[{key:"N",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ie(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Pe(e,t){return e<t?-1:e>t?1:0}function Ae(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ne(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De=function(e){(0,f.default)(n,e);var t=C(n);function n(){var e;return(0,p.default)(this,n),e=t.apply(this,arguments),e.name="Base64DecodeError",e}return(0,y.default)(n)}((0,u.default)(Error)),Re=function(e){function t(e){(0,p.default)(this,t),this.binaryString=e}return(0,y.default)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
      */(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Pe(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new De("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Re.EMPTY_BYTE_STRING=new Re("");var Me=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fe(e){if(N(!!e),"string"==typeof e){var t=0,n=Me.exec(e);if(N(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Le(e.seconds),nanos:Le(e.nanos)}}function Le(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function je(e){return"string"==typeof e?Re.fromBase64String(e):Re.fromUint8Array(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe=function(){function e(t,n){if((0,p.default)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Q(F,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(F,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Q(F,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Q(F,"Timestamp seconds out of range: "+t)}return(0,y.default)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new e(n,r)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Be(e){var t=Fe(e.mapValue.fields.__local_write_time__.timestampValue);return new qe(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.Timestamp=qe;var Ve={fields:{__type__:{stringValue:"__max__"}}};function Ue(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$e(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
  * @license
  * Copyright 2022 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */(e)?9007199254740991:10:O()}function ze(e,t){if(e===t)return!0;var n=Ue(e);if(n!==Ue(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Be(e).isEqual(Be(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Fe(e.timestampValue),r=Fe(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return je(e.bytesValue).isEqual(je(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Le(e.geoPointValue.latitude)===Le(t.geoPointValue.latitude)&&Le(e.geoPointValue.longitude)===Le(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Le(e.integerValue)===Le(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Le(e.doubleValue),r=Le(t.doubleValue);return n===r?be(n)===be(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ae(e.arrayValue.values||[],t.arrayValue.values||[],ze);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Oe(n)!==Oe(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ze(n[i],r[i])))return!1;return!0}(e,t);default:return O()}}function We(e,t){return void 0!==(e.values||[]).find((function(e){return ze(e,t)}))}function He(e,t){if(e===t)return 0;var n=Ue(e),r=Ue(t);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Le(e.integerValue||e.doubleValue),r=Le(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ge(e.timestampValue,t.timestampValue);case 4:return Ge(Be(e),Be(t));case 5:return Pe(e.stringValue,t.stringValue);case 6:return function(e,t){var n=je(e),r=je(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Pe(n[i],r[i]);if(0!==a)return a}return Pe(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Pe(Le(e.latitude),Le(t.latitude));return 0!==n?n:Pe(Le(e.longitude),Le(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=He(n[i],r[i]);if(a)return a}return Pe(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ve&&t===Ve)return 0;if(e===Ve)return 1;if(t===Ve)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Pe(r[o],a[o]);if(0!==s)return s;var u=He(n[r[o]],i[a[o]]);if(0!==u)return u}return Pe(r.length,a.length)}(e.mapValue,t.mapValue);default:throw O()}}function Ge(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pe(e,t);var n=Fe(e),r=Fe(t),i=Pe(n.seconds,r.seconds);return 0!==i?i:Pe(n.nanos,r.nanos)}function Qe(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ke(e){return!!e&&"arrayValue"in e}function Ye(e){return!!e&&"nullValue"in e}function Je(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xe(e){return!!e&&"mapValue"in e}function Ze(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==(0,c.default)(e.timestampValue))return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ne(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ze(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ze(e.arrayValue.values[r]);return n}return Object.assign({},e)}var et=(0,y.default)((function e(t,n){(0,p.default)(this,e),this.position=t,this.inclusive=n}));function tt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ze(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt=(0,y.default)((function e(){(0,p.default)(this,e)})),rt=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r,i){var a;return(0,p.default)(this,n),a=t.call(this),a.field=e,a.op=r,a.value=i,a}return(0,y.default)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(He(t,this.value)):null!==t&&Ue(this.value)===Ue(t)&&this.matchesComparison(He(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ot(e,t,r):"array-contains"===t?new ct(e,r):"in"===t?new ft(e,r):"not-in"===t?new dt(e,r):"array-contains-any"===t?new ht(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new st(e,n):new ut(e,n)}}]),n}(nt),it=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this),i.filters=e,i.op=r,i.D=null,i}return(0,y.default)(n,[{key:"matches",value:function(e){return"and"===this.op?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.D||(this.D=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.D}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.F((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"F",value:function(e){var t,n=w(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(nt);function at(e,t){return e instanceof rt?function(e,t){return t instanceof rt&&e.op===t.op&&e.field.isEqual(t.field)&&ze(e.value,t.value)}(e,t):e instanceof it?function(e,t){return t instanceof it&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&at(n,t.filters[r])}),!0)}(e,t):void O()}var ot=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r,i){var a;return(0,p.default)(this,n),a=t.call(this,e,r,i),a.key=ce.fromName(i.referenceValue),a}return(0,y.default)(n,[{key:"matches",value:function(e){var t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(rt),st=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this,e,"in",r),i.keys=lt("in",r),i}return(0,y.default)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rt),ut=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this,e,"not-in",r),i.keys=lt("not-in",r),i}return(0,y.default)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rt);function lt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ce.fromName(e.referenceValue)}))}var ct=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){return(0,p.default)(this,n),t.call(this,e,"array-contains",r)}return(0,y.default)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ke(t)&&We(t.arrayValue,this.value)}}]),n}(rt),ft=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){return(0,p.default)(this,n),t.call(this,e,"in",r)}return(0,y.default)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&We(this.value.arrayValue,t)}}]),n}(rt),dt=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){return(0,p.default)(this,n),t.call(this,e,"not-in",r)}return(0,y.default)(n,[{key:"matches",value:function(e){if(We(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!We(this.value.arrayValue,t)}}]),n}(rt),ht=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){return(0,p.default)(this,n),t.call(this,e,"array-contains-any",r)}return(0,y.default)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ke(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return We(t.value.arrayValue,e)}))}}]),n}(rt),vt=(0,y.default)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,p.default)(this,e),this.field=t,this.dir=n}));function pt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt=function(){function e(t){(0,p.default)(this,e),this.timestamp=t}return(0,y.default)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new qe(0,0))}},{key:"max",value:function(){return new e(new qe(253402300799,999999999))}}]),e}(),mt=function(){function e(t,n){(0,p.default)(this,e),this.comparator=t,this.root=n||_t.EMPTY}return(0,y.default)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_t.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_t.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new gt(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new gt(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new gt(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new gt(this.root,e,this.comparator,!0)}}]),e}(),gt=function(){function e(t,n,r,i){(0,p.default)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,y.default)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),_t=function(){function e(t,n,r,i,a){(0,p.default)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,y.default)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw O();if(this.right.isRed())throw O();var e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1,_t.EMPTY=new(function(){function e(){(0,p.default)(this,e),this.size=0}return(0,y.default)(e,[{key:"key",get:function(){throw O()}},{key:"value",get:function(){throw O()}},{key:"color",get:function(){throw O()}},{key:"left",get:function(){throw O()}},{key:"right",get:function(){throw O()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new _t(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bt=function(){function e(t){(0,p.default)(this,e),this.comparator=t,this.data=new mt(this.comparator)}return(0,y.default)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new wt(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new wt(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),wt=function(){function e(t){(0,p.default)(this,e),this.iter=t}return(0,y.default)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),kt=function(){function e(t){(0,p.default)(this,e),this.fields=t,t.sort(le.comparator)}return(0,y.default)(e,[{key:"unionWith",value:function(t){var n,r=new bt(le.comparator),i=w(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=w(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=w(this.fields);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.isPrefixOf(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ae(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ct=function(){function e(t){(0,p.default)(this,e),this.value=t}return(0,y.default)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Xe(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ze(t)}},{key:"setAll",value:function(e){var t=this,n=le.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ze(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Xe(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ze(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Xe(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ne(t,(function(t,n){return e[t]=n}));var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ze(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}(),St=function(){function e(t,n,r,i,a,o,s){(0,p.default)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return(0,y.default)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=yt.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,yt.min(),yt.min(),yt.min(),Ct.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,yt.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,yt.min(),yt.min(),Ct.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,yt.min(),yt.min(),Ct.empty(),2)}}]),e}(),xt=(0,y.default)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,p.default)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.S=null}));function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new xt(e,t,n,r,i,a,o)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It=(0,y.default)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,p.default)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.q=null,this.O=null,this.startAt,this.endAt}));function Tt(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pt(e){var t,n=w(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.getFirstInequalityField();if(null!==i)return i}}catch(a){n.e(a)}finally{n.f()}return null}function At(e){return null!==e.collectionGroup}function Ot(e){var t=D(e);if(null===t.q){t.q=[];var n=Pt(t),r=Tt(t);if(null!==n&&null===r)n.isKeyField()||t.q.push(new vt(n)),t.q.push(new vt(le.keyField(),"asc"));else{var i,a=!1,o=w(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.q.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.q.push(new vt(le.keyField(),u))}}}return t.q}function Nt(e){var t=D(e);if(!t.O)if("F"===t.limitType)t.O=Et(t.path,t.collectionGroup,Ot(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=w(Ot(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new vt(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new et(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new et(t.startAt.position,t.startAt.inclusive):null;t.O=Et(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.O}function Dt(e,t){t.getFirstInequalityField(),Pt(e);var n=e.filters.concat([t]);return new It(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Rt(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!be(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?function(e){return{integerValue:""+e}}(t):function(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:be(t)?"-0":t}}(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt=(0,y.default)((function e(){(0,p.default)(this,e),this._=void 0})),Ft=function(e){(0,f.default)(n,e);var t=C(n);function n(){return(0,p.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n)}(Mt),Lt=function(e){(0,f.default)(n,e);var t=C(n);function n(e){var r;return(0,p.default)(this,n),r=t.call(this),r.elements=e,r}return(0,y.default)(n)}(Mt),jt=function(e){(0,f.default)(n,e);var t=C(n);function n(e){var r;return(0,p.default)(this,n),r=t.call(this),r.elements=e,r}return(0,y.default)(n)}(Mt),qt=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this),i.serializer=e,i.k=r,i}return(0,y.default)(n)}(Mt),$t=(0,y.default)((function e(t,n){(0,p.default)(this,e),this.field=t,this.transform=n})),Bt=function(){function e(t,n){(0,p.default)(this,e),this.updateTime=t,this.exists=n}return(0,y.default)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}(),Vt=(0,y.default)((function e(){(0,p.default)(this,e)})),Ut=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,p.default)(this,n),a=t.call(this),a.key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,y.default)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vt),zt=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,p.default)(this,n),o=t.call(this),o.key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return(0,y.default)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Vt),Wt=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this),i.key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,y.default)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vt),Ht=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this),i.key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,y.default)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vt),Gt=function(){return{asc:"ASCENDING",desc:"DESCENDING"}}(),Qt=function(){return{"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}}(),Kt=function(){return{and:"AND",or:"OR"}}(),Yt=(0,y.default)((function e(t,n){(0,p.default)(this,e),this.databaseId=t,this.useProto3Json=n}));function Jt(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xt(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zt(e,t){return Jt(e,t.toTimestamp())}function en(e){return N(!!e),yt.fromTimestamp(function(e){var t=Fe(e);return new qe(t.seconds,t.nanos)}(e))}function tn(e,t){return function(e){return new se(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function nn(e,t){return tn(e.databaseId,t.path)}function rn(e,t){var n,r=function(e){var t=se.fromString(e);return N(yn(t)),t}(t);if(r.get(1)!==e.databaseId.projectId)throw new Q(F,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Q(F,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ce((N((n=r).length>4&&"documents"===n.get(4)),n.popFirst(5)))}function an(e,t){return tn(e.databaseId,t)}function on(e){return new se(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sn(e,t,n){return{name:nn(e,t),fields:n.value.mapValue.fields}}function un(e,t){return"found"in t?function(e,t){N(!!t.found),t.found.name,t.found.updateTime;var n=rn(e,t.found.name),r=en(t.found.updateTime),i=t.found.createTime?en(t.found.createTime):yt.min(),a=new Ct({mapValue:{fields:t.found.fields}});return St.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){N(!!t.missing),N(!!t.readTime);var n=rn(e,t.missing),r=en(t.readTime);return St.newNoDocument(n,r)}(e,t):O()}function ln(e,t){var n;if(t instanceof Ut)n={update:sn(e,t.key,t.value)};else if(t instanceof Wt)n={delete:nn(e,t.key)};else if(t instanceof zt)n={update:sn(e,t.key,t.data),updateMask:pn(t.fieldMask)};else{if(!(t instanceof Ht))return O();n={verify:nn(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ft)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lt)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qt)return{fieldPath:t.field.canonicalString(),increment:n.k};throw O()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zt(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:O()}(e,t.precondition)),n}function cn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=an(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=an(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return function e(t){return t instanceof rt?function(e){if("=="===e.op){if(Je(e.value))return{unaryFilter:{field:vn(e.field),op:"IS_NAN"}};if(Ye(e.value))return{unaryFilter:{field:vn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Je(e.value))return{unaryFilter:{field:vn(e.field),op:"IS_NOT_NAN"}};if(Ye(e.value))return{unaryFilter:{field:vn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vn(e.field),op:dn(e.op),value:e.value}}}(t):t instanceof it?function(t){var n=t.getFilters().map((function(t){return e(t)}));return 1===n.length?n[0]:{compositeFilter:{op:hn(t.op),filters:n}}}(t):O()}(it.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:vn(e.field),direction:fn(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.useProto3Json||_e(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function fn(e){return Gt[e]}function dn(e){return Qt[e]}function hn(e){return Kt[e]}function vn(e){return{fieldPath:e.canonicalString()}}function pn(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function yn(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(e){return new Yt(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,p.default)(this,e),this.C=t,this.timerId=n,this.M=r,this.L=i,this.U=a,this.j=0,this.B=null,this.W=Date.now(),this.reset()}return(0,y.default)(e,[{key:"reset",value:function(){this.j=0}},{key:"G",value:function(){this.j=this.U}},{key:"K",value:function(e){var t=this;this.cancel();var n=Math.floor(this.j+this.Y()),r=Math.max(0,Date.now()-this.W),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.j," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.B=this.C.enqueueAfterDelay(this.timerId,i,(function(){return t.W=Date.now(),e()})),this.j*=this.L,this.j<this.M&&(this.j=this.M),this.j>this.U&&(this.j=this.U)}},{key:"H",value:function(){null!==this.B&&(this.B.skipDelay(),this.B=null)}},{key:"cancel",value:function(){null!==this.B&&(this.B.cancel(),this.B=null)}},{key:"Y",value:function(){return(Math.random()-.5)*this.j}}]),e}(),_n=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r,i,a){var o;return(0,p.default)(this,n),o=t.call(this),o.authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.J=!1,o}return(0,y.default)(n,[{key:"X",value:function(){if(this.J)throw new Q(V,"The client has already been terminated.")}},{key:"v",value:function(e,t,n){var r=this;return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,s.default)(i,2),o=a[0],u=a[1];return r.connection.v(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===$&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Q(M,e.toString())}))}},{key:"R",value:function(e,t,n,r){var i=this;return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,s.default)(a,2),u=o[0],l=o[1];return i.connection.R(e,t,n,u,l,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===$&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Q(M,e.toString())}))}},{key:"terminate",value:function(){this.J=!0}}]),n}(function(){return(0,y.default)((function e(){(0,p.default)(this,e)}))}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(e,t){return wn.apply(this,arguments)}function wn(){return wn=(0,l.default)(i.default.mark((function e(t,n){var r,a,o;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=D(t),a=on(r.serializer)+"/documents",o={writes:n.map((function(e){return ln(r.serializer,e)}))},e.next=3,r.v("Commit",a,o);case 3:case"end":return e.stop()}}),e)}))),wn.apply(this,arguments)}function kn(e,t){return Cn.apply(this,arguments)}function Cn(){return Cn=(0,l.default)(i.default.mark((function e(t,n){var r,a,o,s,u,l;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=D(t),a=on(r.serializer)+"/documents",o={documents:n.map((function(e){return nn(r.serializer,e)}))},e.next=5,r.R("BatchGetDocuments",a,o,n.length);case 5:return s=e.sent,u=new Map,s.forEach((function(e){var t=un(r.serializer,e);u.set(t.key.toString(),t)})),l=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());N(!!t),l.push(t)})),l));case 10:case"end":return e.stop()}}),e)}))),Cn.apply(this,arguments)}function Sn(){return Sn=(0,l.default)(i.default.mark((function e(t,n){var r,a;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=D(t),a=cn(r.serializer,Nt(n)),e.next=3,r.R("RunQuery",a.parent,{structuredQuery:a.structuredQuery});case 3:return e.abrupt("return",e.sent.filter((function(e){return!!e.document})).map((function(e){return function(e,t,n){var r=rn(e,t.name),i=en(t.updateTime),a=t.createTime?en(t.createTime):yt.min(),o=new Ct({mapValue:{fields:t.fields}}),s=St.newFoundDocument(r,i,a,o);return s}(r.serializer,e.document)})));case 4:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xn(){return xn=(0,l.default)(i.default.mark((function e(t,n,r){var a,o,s,u,l,c,f,d;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=D(t),s=function(e,t,n){var r=cn(e,t),i={},a=[],o=0;return n.forEach((function(e){var t="aggregate_"+o++;i[t]=e.alias,"count"===e.$?a.push({alias:t,count:{}}):"avg"===e.$?a.push({alias:t,avg:{field:vn(e.fieldPath)}}):"sum"===e.$&&a.push({alias:t,sum:{field:vn(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:r.structuredQuery},parent:r.parent},Z:i}}(o.serializer,Nt(n),r),u=s.request,l=s.Z,c=u.parent,o.connection.g||delete u.parent,e.next=4,o.R("RunAggregationQuery",c,u,1);case 4:return f=e.sent.filter((function(e){return!!e.result})),N(1===f.length),d=null===(a=f[0].result)||void 0===a?void 0:a.aggregateFields,e.abrupt("return",Object.keys(d).reduce((function(e,t){return e[l[t]]=d[t],e}),{}));case 8:case"end":return e.stop()}}),e)}))),xn.apply(this,arguments)}var En=new Map;function In(e){if(e._terminated)throw new Q(V,"The client has already been terminated.");if(!En.has(e)){I("ComponentProvider","Initializing Datastore");var t=function(e){return new xe(e,fetch.bind(null))}((i=e._databaseId,a=e.app.options.appId||"",o=e._persistenceKey,s=e._freezeSettings(),new ie(i,a,o,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,me(s.experimentalLongPollingOptions),s.useFetchStreams))),n=mn(e._databaseId),r=function(e,t,n,r){return new _n(e,t,n,r)}(e._authCredentials,e._appCheckCredentials,t,n);En.set(e,r)}var i,a,o,s;
/**
  * @license
  * Copyright 2018 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */return En.get(e)}var Tn=function(){function e(t){var n,r;if((0,p.default)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Q(F,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Q(F,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}!function(e,t,n,r){if(!0===t&&!0===r)throw new Q(F,"".concat("experimentalForceLongPolling"," and ").concat("experimentalAutoDetectLongPolling"," cannot be used together."))}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=me(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Q(F,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Q(F,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Q(F,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return(0,y.default)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),Pn=function(){function e(t,n,r,i){(0,p.default)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tn({}),this._settingsFrozen=!1}return(0,y.default)(e,[{key:"app",get:function(){if(!this._app)throw new Q(V,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Q(V,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tn(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new J;switch(e.type){case"firstParty":return new te(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Q(F,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=En.get(e);t&&(I("ComponentProvider","Removing Datastore"),En.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function An(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=pe(e,Pn))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&P("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=S.MOCK_USER;else{o=(0,b.createMockUserToken)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Q(F,"mockUserToken must contain 'sub' or 'user_id' field!");s=new S(u)}e._authCredentials=new X(new Y(o,s))}}t.Firestore=Pn;var On=(0,y.default)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",n=arguments.length>1?arguments[1]:void 0;(0,p.default)(this,e),this._aggregateType=t,this._internalFieldPath=n,this.type="AggregateField"}));t.AggregateField=On;var Nn=function(){function e(t,n,r){(0,p.default)(this,e),this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=t}return(0,y.default)(e,[{key:"data",value:function(){return this._userDataWriter.convertObjectMap(this._data)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.AggregateQuerySnapshot=Nn;var Dn=function(){function e(t,n,r){(0,p.default)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,y.default)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Mn(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}();t.DocumentReference=Dn;var Rn=function(){function e(t,n,r){(0,p.default)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,y.default)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}();t.Query=Rn;var Mn=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r,i){var a;return(0,p.default)(this,n),a=t.call(this,e,r,new It(i)),a._path=i,a.type="collection",a}return(0,y.default)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new ce(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Rn);function Fn(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,b.getModularInstance)(e),1===arguments.length&&(t=Te.N()),fe("doc","path",t),e instanceof Pn){var a=se.fromString.apply(se,[t].concat(r));return de(a),new Dn(e,null,new ce(a))}if(!(e instanceof Dn||e instanceof Mn))throw new Q(F,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(se.fromString.apply(se,[t].concat(r)));return de(o),new Dn(e.firestore,e instanceof Mn?e.converter:null,new ce(o))}function Ln(e,t){return e=(0,b.getModularInstance)(e),t=(0,b.getModularInstance)(t),e instanceof Rn&&t instanceof Rn&&e.firestore===t.firestore&&function(e,t){return function(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!pt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!at(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tt(e.startAt,t.startAt)&&tt(e.endAt,t.endAt)}(Nt(e),Nt(t))&&e.limitType===t.limitType}(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}t.CollectionReference=Mn;var jn=function(){function e(t){(0,p.default)(this,e),this._byteString=t}return(0,y.default)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Re.fromBase64String(t))}catch(t){throw new Q(F,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Re.fromUint8Array(t))}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.Bytes=jn;var qn=function(){function e(){(0,p.default)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Q(F,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(n)}return(0,y.default)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();t.FieldPath=qn;var $n=(0,y.default)((function e(t){(0,p.default)(this,e),this._methodName=t}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.FieldValue=$n;var Bn=function(){function e(t,n){if((0,p.default)(this,e),!isFinite(t)||t<-90||t>90)throw new Q(F,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Q(F,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,y.default)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.GeoPoint=Bn;var Vn=/^__.*__$/,Un=function(){function e(t,n,r){(0,p.default)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,y.default)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new zt(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ut(e,this.data,t,this.fieldTransforms)}}]),e}(),zn=function(){function e(t,n,r){(0,p.default)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,y.default)(e,[{key:"toMutation",value:function(e,t){return new zt(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Wn(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}var Hn=function(){function e(t,n,r,i,a,o){(0,p.default)(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tt(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,y.default)(e,[{key:"path",get:function(){return this.settings.path}},{key:"et",get:function(){return this.settings.et}},{key:"nt",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"rt",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nt({path:n,st:!1});return r.it(e),r}},{key:"ot",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nt({path:n,st:!1});return r.tt(),r}},{key:"ut",value:function(e){return this.nt({path:void 0,st:!0})}},{key:"ct",value:function(e){return dr(e,this.settings.methodName,this.settings.ht||!1,this.path,this.settings.lt)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tt",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.it(this.path.get(e))}},{key:"it",value:function(e){if(0===e.length)throw this.ct("Document fields must not be empty");if(Wn(this.et)&&Vn.test(e))throw this.ct('Document fields cannot begin and end with "__"')}}]),e}(),Gn=function(){function e(t,n,r){(0,p.default)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||mn(t)}return(0,y.default)(e,[{key:"ft",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Hn({et:e,methodName:t,lt:n,path:le.emptyPath(),st:!1,ht:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Qn(e){var t=e._freezeSettings(),n=mn(e._databaseId);return new Gn(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kn(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ft(a.merge||a.mergeFields?2:0,t,n,i);ur("Data must be an object, but it was:",o,r);var s,u,l=or(r,o);if(a.merge)s=new kt(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],d=w(a.mergeFields);try{for(d.s();!(c=d.n()).done;){var h=c.value,v=lr(t,h,n);if(!o.contains(v))throw new Q(F,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));hr(f,v)||f.push(v)}}catch(p){d.e(p)}finally{d.f()}s=new kt(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Un(new Ct(l),s,u)}var Yn=function(e){(0,f.default)(n,e);var t=C(n);function n(){return(0,p.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.et)throw 1===e.et?e.ct("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ct("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}($n);function Jn(e,t,n){return new Hn({et:3,lt:t.settings.lt,methodName:e._methodName,st:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var Xn=function(e){(0,f.default)(n,e);var t=C(n);function n(){return(0,p.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"_toFieldTransform",value:function(e){return new $t(e.path,new Ft)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}($n),Zn=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this,e),i.dt=r,i}return(0,y.default)(n,[{key:"_toFieldTransform",value:function(e){var t=Jn(this,e,!0),n=this.dt.map((function(e){return ar(e,t)})),r=new Lt(n);return new $t(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}($n),er=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this,e),i.dt=r,i}return(0,y.default)(n,[{key:"_toFieldTransform",value:function(e){var t=Jn(this,e,!0),n=this.dt.map((function(e){return ar(e,t)})),r=new jt(n);return new $t(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}($n),tr=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this,e),i.wt=r,i}return(0,y.default)(n,[{key:"_toFieldTransform",value:function(e){var t=new qt(e.serializer,Rt(e.serializer,this.wt));return new $t(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}($n);function nr(e,t,n,r){var i=e.ft(1,t,n);ur("Data must be an object, but it was:",i,r);var a=[],o=Ct.empty();Ne(r,(function(e,r){var s=fr(t,e,n);r=(0,b.getModularInstance)(r);var u=i.ot(s);if(r instanceof Yn)a.push(s);else{var l=ar(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new kt(a);return new zn(o,s,i.fieldTransforms)}function rr(e,t,n,r,i,a){var o=e.ft(1,t,n),s=[lr(t,r,n)],u=[i];if(a.length%2!=0)throw new Q(F,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(lr(t,a[l])),u.push(a[l+1]);for(var c=[],f=Ct.empty(),d=s.length-1;d>=0;--d)if(!hr(c,s[d])){var h=s[d],v=u[d];v=(0,b.getModularInstance)(v);var p=o.ot(h);if(v instanceof Yn)c.push(h);else{var y=ar(v,p);null!=y&&(c.push(h),f.set(h,y))}}var m=new kt(c);return new zn(f,m,o.fieldTransforms)}function ir(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ar(n,e.ft(r?4:3,t))}function ar(e,t){if(sr(e=(0,b.getModularInstance)(e)))return ur("Unsupported field value:",t,e),or(e,t);if(e instanceof $n)return function(e,t){if(!Wn(t.et))throw t.ct("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ct("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.st&&4!==t.et)throw t.ct("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=w(e);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=ar(o,t.ut(i));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,b.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rt(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=qe.fromDate(e);return{timestampValue:Jt(t.serializer,n)}}if(e instanceof qe){var r=new qe(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jt(t.serializer,r)}}if(e instanceof Bn)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jn)return{bytesValue:Xt(t.serializer,e._byteString)};if(e instanceof Dn){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ct("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:tn(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ct("Unsupported field value: ".concat(ve(e)))}(e,t)}function or(e,t){var n={};return function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ne(e,(function(e,r){var i=ar(r,t.rt(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function sr(e){return!("object"!=(0,c.default)(e)||null===e||e instanceof Array||e instanceof Date||e instanceof qe||e instanceof Bn||e instanceof jn||e instanceof Dn||e instanceof $n)}function ur(e,t,n){if(!sr(n)||!function(e){return"object"==(0,c.default)(e)&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ve(n);throw"an object"===r?t.ct(e+" a custom object"):t.ct(e+" "+r)}}function lr(e,t,n){if((t=(0,b.getModularInstance)(t))instanceof qn)return t._internalPath;if("string"==typeof t)return fr(e,t);throw dr("Field path arguments must be of type string or ",e,!1,void 0,n)}var cr=new RegExp("[~\\*/\\[\\]]");function fr(e,t,n){if(t.search(cr)>=0)throw dr("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return(0,o.default)(qn,(0,v.default)(t.split(".")))._internalPath}catch(r){throw dr("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function dr(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Q(F,s+e+u)}function hr(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr=function(){function e(t,n,r,i,a){(0,p.default)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,y.default)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Dn(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new pr(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(mr("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}();t.DocumentSnapshot=vr;var pr=function(e){(0,f.default)(n,e);var t=C(n);function n(){return(0,p.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"data",value:function(){return(0,a.default)((0,h.default)(n.prototype),"data",this).call(this)}}]),n}(vr);t.QueryDocumentSnapshot=pr;var yr=function(){function e(t,n){(0,p.default)(this,e),this._docs=n,this.query=t}return(0,y.default)(e,[{key:"docs",get:function(){return(0,v.default)(this._docs)}},{key:"size",get:function(){return this.docs.length}},{key:"empty",get:function(){return 0===this.docs.length}},{key:"forEach",value:function(e,t){this._docs.forEach(e,t)}}]),e}();function mr(e,t){return"string"==typeof t?fr(e,t):t instanceof qn?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.QuerySnapshot=yr;var gr=(0,y.default)((function e(){(0,p.default)(this,e)})),_r=function(e){(0,f.default)(n,e);var t=C(n);function n(){return(0,p.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n)}(gr);t.QueryConstraint=_r;var br=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r,i){var a;return(0,p.default)(this,n),a=t.call(this),a._field=e,a._op=r,a._value=i,a.type="where",a}return(0,y.default)(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Pr(e._query,t),new Rn(e.firestore,e.converter,Dt(e._query,t))}},{key:"_parse",value:function(e){var t=Qn(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Q(F,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Tr(o,a);var u,l=[],c=w(o);try{for(c.s();!(u=c.n()).done;){var f=u.value;l.push(Ir(r,e,f))}}catch(d){c.e(d)}finally{c.f()}s={arrayValue:{values:l}}}else s=Ir(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Tr(o,a),s=ir(n,"where",o,"in"===a||"not-in"===a);return rt.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_r);t.QueryFieldFilterConstraint=br;var wr=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this),i.type=e,i._queryConstraints=r,i}return(0,y.default)(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:it.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=t.getFlattenedFilters(),a=w(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;Pr(r,o),r=Dt(r,o)}}catch(s){a.e(s)}finally{a.f()}}(e._query,t),new Rn(e.firestore,e.converter,Dt(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(gr);t.QueryCompositeFilterConstraint=wr;var kr=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r){var i;return(0,p.default)(this,n),i=t.call(this),i._field=e,i._direction=r,i.type="orderBy",i}return(0,y.default)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Q(F,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Q(F,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new vt(t,n);return function(e,t){if(null===Tt(e)){var n=Pt(e);null!==n&&Ar(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Rn(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new It(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(_r);t.QueryOrderByConstraint=kr;var Cr=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r,i){var a;return(0,p.default)(this,n),a=t.call(this),a.type=e,a._limit=r,a._limitType=i,a}return(0,y.default)(n,[{key:"_apply",value:function(e){return new Rn(e.firestore,e.converter,function(e,t,n){return new It(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_r);t.QueryLimitConstraint=Cr;var Sr=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r,i){var a;return(0,p.default)(this,n),a=t.call(this),a.type=e,a._docOrFields=r,a._inclusive=i,a}return(0,y.default)(n,[{key:"_apply",value:function(e){var t=Er(e,this.type,this._docOrFields,this._inclusive);return new Rn(e.firestore,e.converter,function(e,t){return new It(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_r);t.QueryStartAtConstraint=Sr;var xr=function(e){(0,f.default)(n,e);var t=C(n);function n(e,r,i){var a;return(0,p.default)(this,n),a=t.call(this),a.type=e,a._docOrFields=r,a._inclusive=i,a}return(0,y.default)(n,[{key:"_apply",value:function(e){var t=Er(e,this.type,this._docOrFields,this._inclusive);return new Rn(e.firestore,e.converter,function(e,t){return new It(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_r);function Er(e,t,n,r){if(n[0]=(0,b.getModularInstance)(n[0]),n[0]instanceof vr)return function(e,t,n,r,i){if(!r)throw new Q(j,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=w(Ot(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Qe(t,r.key));else{var l=r.data.field(u.field);if($e(l))throw new Q(F,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.canonicalString();throw new Q(F,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(c,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(f){s.e(f)}finally{s.f()}return new et(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Qn(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Q(F,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var l=i[u];if(o[u].field.isKeyField()){if("string"!=typeof l)throw new Q(F,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat((0,c.default)(l)));if(!At(e)&&-1!==l.indexOf("/"))throw new Q(F,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var f=e.path.child(se.fromString(l));if(!ce.isDocumentKey(f))throw new Q(F,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(f,"' is not because it contains an odd number of segments."));var d=new ce(f);s.push(Qe(t,d))}else{var h=ir(n,r,l);s.push(h)}}return new et(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Ir(e,t,n){if("string"==typeof(n=(0,b.getModularInstance)(n))){if(""===n)throw new Q(F,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!At(t)&&-1!==n.indexOf("/"))throw new Q(F,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(se.fromString(n));if(!ce.isDocumentKey(r))throw new Q(F,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qe(e,new ce(r))}if(n instanceof Dn)return Qe(e,n._key);throw new Q(F,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ve(n),"."))}function Tr(e,t){if(!Array.isArray(e)||0===e.length)throw new Q(F,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Pr(e,t){if(t.isInequality()){var n=Pt(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Q(F,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Tt(e);null!==i&&Ar(e,r,i)}var a=function(e,t){var n,r=w(e);try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=w(a.getFlattenedFilters());try{for(o.s();!(i=o.n()).done;){var s=i.value;if(t.indexOf(s.op)>=0)return s.op}}catch(u){o.e(u)}finally{o.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Q(F,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Q(F,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Ar(e,t,n){if(!n.isEqual(t))throw new Q(F,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}function Or(e,t){if(!(t instanceof br||t instanceof wr))throw new Q(F,"Function ".concat(e,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(e,t,n){var r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}t.QueryEndAtConstraint=xr;var Dr=function(e){(0,f.default)(n,e);var t=C(n);function n(e){var r;return(0,p.default)(this,n),r=t.call(this),r.firestore=e,r}return(0,y.default)(n,[{key:"convertBytes",value:function(e){return new jn(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}]),n}(function(){function e(){(0,p.default)(this,e)}return(0,y.default)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ue(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(je(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw O()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Ne(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new Bn(Le(e.latitude),Le(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return $e(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Be(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Fe(e);return new qe(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=se.fromString(e);N(yn(n));var r=new ae(n.get(1),n.get(3)),i=new ce(n.popFirst(5));return r.isEqual(t)||T("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}());function Rr(e,t){var n=pe(e.firestore,Pn),r=In(n),i=function(e,t){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r));return n}(t,(function(e,t){return new Ee(t,e._aggregateType,e._internalFieldPath)}));return function(e,t,n){return xn.apply(this,arguments)}(r,e._query,i).then((function(t){return function(e,t,n){var r=new Dr(e);return new Nn(t,r,n)}(n,e,t)}))}function Mr(){return new On("count")}var Fr=function(){function e(t,n){(0,p.default)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qn(t)}return(0,y.default)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Lr(e,this._firestore),i=Nr(r.converter,t,n),a=Kn(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Bt.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Lr(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=(0,b.getModularInstance)(t))||t instanceof qn?rr(this._dataReader,"WriteBatch.update",i._key,t,n,o):nr(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Bt.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Lr(e,this._firestore);return this._mutations=this._mutations.concat(new Wt(t._key,Bt.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Q(V,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Lr(e,t){if((e=(0,b.getModularInstance)(e)).firestore!==t)throw new Q(F,"Provided document reference is from a different Firestore instance.");return e}t.WriteBatch=Fr;var jr=function(){function e(t){(0,p.default)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,y.default)(e,[{key:"lookup",value:function(){var e=(0,l.default)(i.default.mark((function e(t){var n,r=this;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Q(F,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,kn(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Wt(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=(0,l.default)(i.default.mark((function e(){var t,n=this;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ce.fromPath(t);n.mutations.push(new Ht(r,n.precondition(r)))})),e.next=7,bn(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw O();t=yt.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Q(U,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yt.min())?Bt.exists(!1):Bt.updateTime(t):Bt.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yt.min()))throw new Q(F,"Can't update a document that doesn't exist.");return Bt.updateTime(t)}return Bt.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),qr={maxAttempts:5},$r=function(){function e(t,n,r,i,a){(0,p.default)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.yt=r.maxAttempts,this.gt=new gn(this.asyncQueue,"transaction_retry")}return(0,y.default)(e,[{key:"run",value:function(){this.yt-=1,this._t()}},{key:"_t",value:function(){var e=this;this.gt.K((0,l.default)(i.default.mark((function t(){var n,r;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=new jr(e.datastore),r=e.vt(n),r&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.bt(t)}))}))})).catch((function(t){e.bt(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"vt",value:function(e){try{var t=this.updateFunction(e);return!_e(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"bt",value:function(e){var t=this;this.yt>0&&this.Et(e)?(this.yt-=1,this.asyncQueue.enqueueAndForget((function(){return t._t(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Et",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!function(e){switch(e){default:return O();case R:case M:case L:case B:case H:case G:case $:return!1;case F:case j:case"already-exists":case q:case V:case U:case z:case W:case"data-loss":return!0}}(t)}return!1}}]),e}();
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Br(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr=function(){function e(t,n,r,i,a){(0,p.default)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new K,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,y.default)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Q(R,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=Date.now()+r,s=new e(t,n,o,i,a);return s.start(r),s}}]),e}(),Ur=function(){function e(){var t=this;(0,p.default)(this,e),this.It=Promise.resolve(),this.Tt=[],this.At=!1,this.Rt=[],this.Pt=null,this.Vt=!1,this.$t=!1,this.Nt=[],this.gt=new gn(this,"async_queue_retry"),this.Dt=function(){var e=Br();e&&I("AsyncQueue","Visibility state changed to "+e.visibilityState),t.gt.H()};var n=Br();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Dt)}return(0,y.default)(e,[{key:"isShuttingDown",get:function(){return this.At}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ft(),this.xt(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.At){this.At=!0,this.$t=e||!1;var t=Br();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Dt)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ft(),this.At)return new Promise((function(){}));var n=new K;return this.xt((function(){return t.At&&t.$t?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Tt.push(e),t.St()}))}},{key:"St",value:function(){var e=(0,l.default)(i.default.mark((function e(){var t=this;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0===this.Tt.length){e.next=14;break}return e.prev=1,e.next=4,this.Tt[0]();case 4:this.Tt.shift(),this.gt.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e["catch"](1),
/**
                * @license
                * Copyright 2017 Google LLC
                *
                * Licensed under the Apache License, Version 2.0 (the "License");
                * you may not use this file except in compliance with the License.
                * You may obtain a copy of the License at
                *
                *   http://www.apache.org/licenses/LICENSE-2.0
                *
                * Unless required by applicable law or agreed to in writing, software
                * distributed under the License is distributed on an "AS IS" BASIS,
                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                * See the License for the specific language governing permissions and
                * limitations under the License.
                */
function(e){return"IndexedDbTransactionError"===e.name}
/**
                * @license
                * Copyright 2020 Google LLC
                *
                * Licensed under the Apache License, Version 2.0 (the "License");
                * you may not use this file except in compliance with the License.
                * You may obtain a copy of the License at
                *
                *   http://www.apache.org/licenses/LICENSE-2.0
                *
                * Unless required by applicable law or agreed to in writing, software
                * distributed under the License is distributed on an "AS IS" BASIS,
                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                * See the License for the specific language governing permissions and
                * limitations under the License.
                */(e.t0)){e.next=12;break}throw e.t0;case 12:I("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Tt.length>0&&this.gt.K((function(){return t.St()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){var t=this,n=this.It.then((function(){return t.Vt=!0,e().catch((function(e){t.Pt=e,t.Vt=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
          * @license
          * Copyright 2020 Google LLC
          *
          * Licensed under the Apache License, Version 2.0 (the "License");
          * you may not use this file except in compliance with the License.
          * You may obtain a copy of the License at
          *
          *   http://www.apache.org/licenses/LICENSE-2.0
          *
          * Unless required by applicable law or agreed to in writing, software
          * distributed under the License is distributed on an "AS IS" BASIS,
          * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
          * See the License for the specific language governing permissions and
          * limitations under the License.
          */(e);throw T("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Vt=!1,e}))}));return this.It=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ft(),this.Nt.indexOf(e)>-1&&(t=0);var i=Vr.createAndSchedule(this,e,t,n,(function(e){return r.qt(e)}));return this.Rt.push(i),i}},{key:"Ft",value:function(){this.Pt&&O()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ot",value:function(){var e=(0,l.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.It,e.next=3,t;case 3:if(t!==this.It){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kt",value:function(e){var t,n=w(this.Rt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.timerId===e)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Ct",value:function(e){var t=this;return this.Ot().then((function(){t.Rt.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=w(t.Rt);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ot()}))}},{key:"Mt",value:function(e){this.Nt.push(e)}},{key:"qt",value:function(e){var t=this.Rt.indexOf(e);this.Rt.splice(t,1)}}]),e}(),zr=function(){function e(t,n){(0,p.default)(this,e),this._firestore=t,this._transaction=n,this._dataReader=Qn(t)}return(0,y.default)(e,[{key:"get",value:function(e){var t=this,n=Lr(e,this._firestore),r=new Dr(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return O();var i=e[0];if(i.isFoundDocument())return new vr(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new vr(t._firestore,r,n._key,null,n.converter);throw O()}))}},{key:"set",value:function(e,t,n){var r=Lr(e,this._firestore),i=Nr(r.converter,t,n),a=Kn(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Lr(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=(0,b.getModularInstance)(t))||t instanceof qn?rr(this._dataReader,"Transaction.update",i._key,t,n,o):nr(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Lr(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.Transaction=zr,function(e){x=e}("".concat(m.SDK_VERSION,"_lite")),(0,m._registerComponent)(new g.Component("firestore/lite",(function(e,t){var n=t.instanceIdentifier,r=t.options,i=e.getProvider("app").getImmediate(),a=new Pn(new Z(e.getProvider("auth-internal")),new re(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Q(F,'"projectId" not provided in firebase.initializeApp.');return new ae(e.options.projectId,t)}
/**
    * @license
    * Copyright 2017 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */(i,n),i);return r&&a._setSettings(r),a}),"PUBLIC").setMultipleInstances(!0)),(0,m.registerVersion)("firestore-lite","3.12.0",""),(0,m.registerVersion)("firestore-lite","3.12.0","esm2017")},d3ac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"u-icon",props:{name:{type:String,default:""},color:{type:String,default:""},size:{type:[Number,String],default:"inherit"},bold:{type:Boolean,default:!1},index:{type:[Number,String],default:""},hoverClass:{type:String,default:""},customPrefix:{type:String,default:"uicon"},label:{type:[String,Number],default:""},labelPos:{type:String,default:"right"},labelSize:{type:[String,Number],default:"28"},labelColor:{type:String,default:"#606266"},marginLeft:{type:[String,Number],default:"6"},marginTop:{type:[String,Number],default:"6"},marginRight:{type:[String,Number],default:"6"},marginBottom:{type:[String,Number],default:"6"},imgMode:{type:String,default:"widthFix"},customStyle:{type:Object,default:function(){return{}}},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},top:{type:[String,Number],default:0},showDecimalIcon:{type:Boolean,default:!1},inactiveColor:{type:String,default:"#ececec"},percent:{type:[Number,String],default:"50"}},computed:{customClass:function(){var e=[];return e.push(this.customPrefix+"-"+this.name),"uicon"==this.customPrefix?e.push("u-iconfont"):e.push(this.customPrefix),this.showDecimalIcon&&this.inactiveColor&&this.$u.config.type.includes(this.inactiveColor)?e.push("u-icon__icon--"+this.inactiveColor):this.color&&this.$u.config.type.includes(this.color)&&e.push("u-icon__icon--"+this.color),e},iconStyle:function(){var e={};return e={fontSize:"inherit"==this.size?"inherit":this.$u.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:this.$u.addUnit(this.top)},this.showDecimalIcon&&this.inactiveColor&&!this.$u.config.type.includes(this.inactiveColor)?e.color=this.inactiveColor:this.color&&!this.$u.config.type.includes(this.color)&&(e.color=this.color),e},isImg:function(){return-1!==this.name.indexOf("/")},imgStyle:function(){var e={};return e.width=this.width?this.$u.addUnit(this.width):this.$u.addUnit(this.size),e.height=this.height?this.$u.addUnit(this.height):this.$u.addUnit(this.size),e},decimalIconStyle:function(){var e={};return e={fontSize:"inherit"==this.size?"inherit":this.$u.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:this.$u.addUnit(this.top),width:this.percent+"%"},this.color&&!this.$u.config.type.includes(this.color)&&(e.color=this.color),e},decimalIconClass:function(){var e=[];return e.push(this.customPrefix+"-"+this.name),"uicon"==this.customPrefix?e.push("u-iconfont"):e.push(this.customPrefix),this.color&&this.$u.config.type.includes(this.color)?e.push("u-icon__icon--"+this.color):e.push("u-icon__icon--primary"),e}},methods:{click:function(){this.$emit("click",this.index)},touchstart:function(){this.$emit("touchstart",this.index)}}};t.default=r},d6db:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.os=function(){return uni.getSystemInfoSync().platform},t.sys=function(){return uni.getSystemInfoSync()}},d8da:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rpx";return e=String(e),i.default.number(e)?"".concat(e).concat(t):e};var i=r(n("a8e0"))},ddb0:function(e,t,n){"use strict";n.r(t);var r=n("312c"),i=n("23af");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"76aef2c2",null,!1,r["a"],void 0);t["default"]=s.exports},de0b:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{list:[],show:!1,Burden1:"",Burden2:"",Burden3:"",Burden4:"",singledish:{name:"",list:["","","",""]}}},onLoad:function(){this.getlist()},methods:{confirm:function(){this.list.push(this.singledish),this.$a({url:"/menu.json",method:"PUT",data:this.list}).then((function(t){e("log","@@",t," at pages/List/List.vue:115")}))},getlist:function(){var t=this;this.$a({url:"/menu.json"}).then((function(n){e("log","@@",n," at pages/List/List.vue:123"),t.list=n.data}))}}};t.default=n}).call(this,n("0de9")["default"])},df2f:function(e,t,n){"use strict";n.r(t);var r=n("de0b"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===i(e,-1);return e=n(r(e.split("/"),(function(e){return!!e})),!a).join("/"),e||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return l=l.concat(a.slice(s)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),47===t){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},dfd8:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uIcon:n("0e18").default,uModal:n("2179").default,uForm:n("e335").default,uFormItem:n("1a06").default,uInput:n("9eae").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",[n("view"),n("view",[n("h1")]),n("view")]),n("view",[n("view",{staticClass:e._$s(7,"sc","uni-shadow-lg"),attrs:{_i:7}},[n("view",[n("u-icon",{attrs:{name:"plus",size:"80",_i:9}})],1),n("view",[n("view",{staticClass:e._$s(11,"sc","u-tips-color"),attrs:{_i:11},on:{click:function(t){e.show=!0}}})])])]),e._l(e._$s(12,"f",{forItems:e.list}),(function(t,r,i,a){return n("view",{key:e._$s(12,"f",{forIndex:i,key:"12-"+a})},[n("view",[n("view",[e._v(e._$s("14-"+a,"t0-0",e._s(t.name)))]),n("view",[n("u-icon",{attrs:{name:"arrow-down",_i:"16-"+a}})],1)]),n("view",e._l(e._$s("18-"+a,"f",{forItems:t.list}),(function(t,r,i,o){return e._$s("18-"+a+"-"+o,"i",""!=t)?n("view",{key:e._$s("18-"+a,"f",{forIndex:i,key:"18-"+a+"-"+o})},[n("view",[n("view"),n("view",[e._v(e._$s("21-"+a+"-"+o,"t0-0",e._s(t)))])])]):e._e()})),0)])})),n("u-modal",{attrs:{"cancel-text":"cancel","show-cancel-button":"","confirm-text":"confirm",title:"Add Dishes",_i:22},on:{confirm:e.confirm},model:{value:e._$s(22,"v-model",e.show),callback:function(t){e.show=t},expression:"show"}},[n("view",{staticClass:e._$s(23,"sc","u-p-40"),attrs:{_i:23}},[n("u-form",{attrs:{_i:24}},[n("u-form-item",{attrs:{label:"dish",_i:25}},[n("u-input",{attrs:{placeholder:"Please enter the name of the dish",_i:26},model:{value:e._$s(26,"v-model",e.singledish.name),callback:function(t){e.$set(e.singledish,"name",t)},expression:"singledish.name"}})],1),n("u-form-item",{attrs:{label:"Burden1","label-width":"150",_i:27}},[n("u-input",{attrs:{placeholder:"the name of the Burden1",_i:28},model:{value:e._$s(28,"v-model",e.singledish.list[0]),callback:function(t){e.$set(e.singledish.list,0,t)},expression:"singledish.list[0]"}})],1),n("u-form-item",{attrs:{label:"Burden2","label-width":"150",_i:29}},[n("u-input",{attrs:{placeholder:" the name of the Burden2",_i:30},model:{value:e._$s(30,"v-model",e.singledish.list[1]),callback:function(t){e.$set(e.singledish.list,1,t)},expression:"singledish.list[1]"}})],1),n("u-form-item",{attrs:{label:"Burden3","label-width":"150",_i:31}},[n("u-input",{attrs:{placeholder:"the name of the Burden3",_i:32},model:{value:e._$s(32,"v-model",e.singledish.list[2]),callback:function(t){e.$set(e.singledish.list,2,t)},expression:"singledish.list[2]"}})],1),n("u-form-item",{attrs:{label:"Burden4","label-width":"150",_i:33}},[n("u-input",{attrs:{placeholder:"the name of the Burden4",_i:34},model:{value:e._$s(34,"v-model",e.singledish.list[3]),callback:function(t){e.$set(e.singledish.list,3,t)},expression:"singledish.list[3]"}})],1)],1)],1)])],2)},a=[]},e335:function(e,t,n){"use strict";n.r(t);var r=n("932d"),i=n("99ea");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"9d169e36",null,!1,r["a"],void 0);t["default"]=s.exports},e50d:function(e,t,n){var r=n("7037")["default"];e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},e6cd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"u-grid-item",props:{bgColor:{type:String,default:"#ffffff"},index:{type:[Number,String],default:""},customStyle:{type:Object,default:function(){return{padding:"30rpx 0"}}}},data:function(){return{parentData:{hoverClass:"",col:3,border:!0}}},created:function(){this.updateParentData(),this.parent.children.push(this)},computed:{width:function(){return 100/Number(this.parentData.col)+"%"}},methods:{updateParentData:function(){this.getParentData("u-grid")},click:function(){this.$emit("click",this.index),this.parent&&this.parent.click(this.index)}}};t.default=r},e72a:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uIcon:n("0e18").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",[n("view",[n("view",[n("h1")]),n("view",[n("image",{attrs:{_i:6}})])])]),n("view",e._l(e._$s(8,"f",{forItems:e.list}),(function(t,r,i,a){return n("view",{key:e._$s(8,"f",{forIndex:i,key:"8-"+a})},[n("view",[n("view",[n("u-icon",{attrs:{name:t.icon,color:"#000",size:"50",_i:"11-"+a}})],1)]),n("view",[n("view",{staticClass:e._$s("13-"+a,"sc","u-font-35"),attrs:{_i:"13-"+a}},[e._v(e._$s("13-"+a,"t0-0",e._s(t.name)))]),n("view",{staticClass:e._$s("14-"+a,"sc","u-font-25 u-tips-color"),attrs:{_i:"14-"+a}},[e._v(e._$s("14-"+a,"t0-0",e._s(t.tip)))])]),n("view",[n("u-icon",{attrs:{name:"arrow-right",_i:"16-"+a}})],1)])})),0)])},a=[]},eb7d:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("9523"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={name:"u-mask",props:{show:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:""},customStyle:{type:Object,default:function(){return{}}},zoom:{type:Boolean,default:!0},duration:{type:[Number,String],default:300},maskClickAble:{type:Boolean,default:!0}},data:function(){return{zoomStyle:{transform:""},scale:"scale(1.2, 1.2)"}},watch:{show:function(e){e&&this.zoom?this.zoomStyle.transform="scale(1, 1)":!e&&this.zoom&&(this.zoomStyle.transform=this.scale)}},computed:{maskStyle:function(){var e={backgroundColor:"rgba(0, 0, 0, 0.6)"};return this.show?e.zIndex=this.zIndex?this.zIndex:this.$u.zIndex.mask:e.zIndex=-1,e.transition="all ".concat(this.duration/1e3,"s ease-in-out"),Object.keys(this.customStyle).length&&(e=o(o({},e),this.customStyle)),e}},methods:{click:function(){this.maskClickAble&&this.$emit("click")}}};t.default=s},ecd3:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("9523")),a=r(n("8683")),o=r(n("945d"));o.default.warning=function(){};var s={name:"u-form-item",mixins:[a.default],inject:{uForm:{default:function(){return null}}},props:{label:{type:String,default:""},prop:{type:String,default:""},borderBottom:{type:[String,Boolean],default:""},labelPosition:{type:String,default:""},labelWidth:{type:[String,Number],default:""},labelStyle:{type:Object,default:function(){return{}}},labelAlign:{type:String,default:""},rightIcon:{type:String,default:""},leftIcon:{type:String,default:""},leftIconStyle:{type:Object,default:function(){return{}}},rightIconStyle:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1}},data:function(){return{initialValue:"",validateState:"",validateMessage:"",errorType:["message"],fieldValue:"",parentData:{borderBottom:!0,labelWidth:90,labelPosition:"left",labelStyle:{},labelAlign:"left"}}},watch:{validateState:function(e){this.broadcastInputError()},"uForm.errorType":function(e){this.errorType=e,this.broadcastInputError()}},computed:{uLabelWidth:function(){return"left"==this.elLabelPosition?"true"===this.label||""===this.label?"auto":this.$u.addUnit(this.elLabelWidth):"100%"},showError:function(){var e=this;return function(t){return!(e.errorType.indexOf("none")>=0)&&e.errorType.indexOf(t)>=0}},elLabelWidth:function(){return 0!=this.labelWidth||""!=this.labelWidth?this.labelWidth:this.parentData.labelWidth?this.parentData.labelWidth:90},elLabelStyle:function(){return Object.keys(this.labelStyle).length?this.labelStyle:this.parentData.labelStyle?this.parentData.labelStyle:{}},elLabelPosition:function(){return this.labelPosition?this.labelPosition:this.parentData.labelPosition?this.parentData.labelPosition:"left"},elLabelAlign:function(){return this.labelAlign?this.labelAlign:this.parentData.labelAlign?this.parentData.labelAlign:"left"},elBorderBottom:function(){return""!==this.borderBottom?this.borderBottom:!this.parentData.borderBottom||this.parentData.borderBottom}},methods:{broadcastInputError:function(){this.broadcast("u-input","on-form-item-error","error"===this.validateState&&this.showError("border"))},setRules:function(){this.$on("on-form-blur",this.onFieldBlur),this.$on("on-form-change",this.onFieldChange)},getRules:function(){var e=this.parent.rules;return e=e?e[this.prop]:[],[].concat(e||[])},onFieldBlur:function(){this.validation("blur")},onFieldChange:function(){this.validation("change")},getFilteredRule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getRules();return e?t.filter((function(t){return t.trigger&&-1!==t.trigger.indexOf(e)})):t},validation:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.fieldValue=this.parent.model[this.prop];var r=this.getFilteredRule(e);if(!r||0===r.length)return n("");this.validateState="validating";var a=new o.default((0,i.default)({},this.prop,r));a.validate((0,i.default)({},this.prop,this.fieldValue),{firstFields:!0},(function(e,r){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",n(t.validateMessage)}))},resetField:function(){this.parent.model[this.prop]=this.initialValue,this.validateState="success"}},mounted:function(){var e=this;this.parent=this.$u.$parent.call(this,"u-form"),this.parent&&(Object.keys(this.parentData).map((function(t){e.parentData[t]=e.parent[t]})),this.prop&&(this.parent.fields.push(this),this.errorType=this.parent.errorType,this.initialValue=this.fieldValue,this.$nextTick((function(){e.setRules()}))))},beforeDestroy:function(){var e=this;this.parent&&this.prop&&this.parent.fields.map((function(t,n){t===e&&e.parent.fields.splice(n,1)}))}};t.default=s},ed6d:function(e,t,n){var r=n("4a4b");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},ee3e:function(e,t,n){"use strict";n.r(t);var r=n("ecd3"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},ef66:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("8e07"));var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";e||(e=Number(new Date)),10==e.toString().length&&(e*=1e3);var n=+new Date(Number(e)),r=(Number(new Date)-n)/1e3,a="";switch(!0){case r<300:a="\u521a\u521a";break;case r>=300&&r<3600:a=parseInt(r/60)+"\u5206\u949f\u524d";break;case r>=3600&&r<86400:a=parseInt(r/3600)+"\u5c0f\u65f6\u524d";break;case r>=86400&&r<2592e3:a=parseInt(r/86400)+"\u5929\u524d";break;default:a=!1===t?r>=2592e3&&r<31536e3?parseInt(r/2592e3)+"\u4e2a\u6708\u524d":parseInt(r/31536e3)+"\u5e74\u524d":(0,i.default)(n,t)}return a};t.default=a},f0c5:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,u,l){var c,f="function"===typeof e?e.options:e;if(u){f.components||(f.components={});var d=Object.prototype.hasOwnProperty;for(var h in u)d.call(u,h)&&!d.call(f.components,h)&&(f.components[h]=u[h])}if(l&&("function"===typeof l.beforeCreate&&(l.beforeCreate=[l.beforeCreate]),(l.beforeCreate||(l.beforeCreate=[])).unshift((function(){this[l.__module]=this})),(f.mixins||(f.mixins=[])).push(l)),t&&(f.render=t,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),a&&(f._scopeId="data-v-"+a),o?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},f._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(f.functional){f._injectStyles=c;var v=f.render;f.render=function(e,t){return c.call(t),v(e,t)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:f}}n.d(t,"a",(function(){return r}))},f7da:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n("a654");var r={data:function(){return{info:{}}},onLoad:function(t){var n=this;this.$a({url:"/typeinfolist.json"}).then((function(r){var i=r.data.filter((function(e){return e.typeid==t.id}));n.info=i[0],e("log",i," at pages/favorite/favoriteinfo.vue:126")}))},methods:{goback:function(){uni.navigateBack({delta:1})},gopage:function(e){uni.navigateTo({url:"favoriteinfo?id="+e})}}};t.default=r}).call(this,n("0de9")["default"])},fc98:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uIcon:n("0e18").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","u-input"),class:e._$s(0,"c",{"u-input--border":e.border,"u-input--error":e.validateState}),style:e._$s(0,"s",{padding:"0 "+(e.border?20:0)+"rpx",borderColor:e.borderColor,textAlign:e.inputAlign}),attrs:{_i:0},on:{click:function(t){return t.stopPropagation(),e.inputClick(t)}}},[e._$s(1,"i","textarea"==e.type)?n("textarea",{staticClass:e._$s(1,"sc","u-input__input u-input__textarea"),style:e._$s(1,"s",[e.getStyle]),attrs:{value:e._$s(1,"a-value",e.defaultValue),placeholder:e._$s(1,"a-placeholder",e.placeholder),placeholderStyle:e._$s(1,"a-placeholderStyle",e.placeholderStyle),disabled:e._$s(1,"a-disabled",e.disabled),maxlength:e._$s(1,"a-maxlength",e.inputMaxlength),fixed:e._$s(1,"a-fixed",e.fixed),focus:e._$s(1,"a-focus",e.focus),autoHeight:e._$s(1,"a-autoHeight",e.autoHeight),"selection-end":e._$s(1,"a-selection-end",e.uSelectionEnd),"selection-start":e._$s(1,"a-selection-start",e.uSelectionStart),"cursor-spacing":e._$s(1,"a-cursor-spacing",e.getCursorSpacing),"show-confirm-bar":e._$s(1,"a-show-confirm-bar",e.showConfirmbar),_i:1},on:{input:e.handleInput,blur:e.handleBlur,focus:e.onFocus,confirm:e.onConfirm}}):n("input",{staticClass:e._$s(2,"sc","u-input__input"),style:e._$s(2,"s",[e.getStyle]),attrs:{type:e._$s(2,"a-type","password"==e.type?"text":e.type),value:e._$s(2,"a-value",e.defaultValue),password:e._$s(2,"a-password","password"==e.type&&!e.showPassword),placeholder:e._$s(2,"a-placeholder",e.placeholder),placeholderStyle:e._$s(2,"a-placeholderStyle",e.placeholderStyle),disabled:e._$s(2,"a-disabled",e.disabled||"select"===e.type),maxlength:e._$s(2,"a-maxlength",e.inputMaxlength),focus:e._$s(2,"a-focus",e.focus),confirmType:e._$s(2,"a-confirmType",e.confirmType),"cursor-spacing":e._$s(2,"a-cursor-spacing",e.getCursorSpacing),"selection-end":e._$s(2,"a-selection-end",e.uSelectionEnd),"selection-start":e._$s(2,"a-selection-start",e.uSelectionStart),"show-confirm-bar":e._$s(2,"a-show-confirm-bar",e.showConfirmbar),"adjust-position":e._$s(2,"a-adjust-position",e.adjustPosition),_i:2},on:{focus:e.onFocus,blur:e.handleBlur,input:e.handleInput,confirm:e.onConfirm}}),n("view",{staticClass:e._$s(3,"sc","u-input__right-icon u-flex"),attrs:{_i:3}},[e._$s(4,"i",e.clearable&&""!=e.value&&e.focused)?n("view",{staticClass:e._$s(4,"sc","u-input__right-icon__clear u-input__right-icon__item"),attrs:{_i:4},on:{click:e.onClear}},[n("u-icon",{attrs:{size:"32",name:"close-circle-fill",color:"#c0c4cc",_i:5}})],1):e._e(),e._$s(6,"i",e.passwordIcon&&"password"==e.type)?n("view",{staticClass:e._$s(6,"sc","u-input__right-icon__clear u-input__right-icon__item"),attrs:{_i:6}},[n("u-icon",{attrs:{size:"32",name:e.showPassword?"eye-fill":"eye",color:"#c0c4cc",_i:7},on:{click:function(t){e.showPassword=!e.showPassword}}})],1):e._e(),e._$s(8,"i","select"==e.type)?n("view",{staticClass:e._$s(8,"sc","u-input__right-icon--select u-input__right-icon__item"),class:e._$s(8,"c",{"u-input__right-icon--select--reverse":e.selectOpen}),attrs:{_i:8}},[n("u-icon",{attrs:{name:"arrow-down-fill",size:"26",color:"#c0c4cc",_i:9}})],1):e._e()])])},a=[]},ff07:function(e,t,n){"use strict";n.r(t);var r=n("c991"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},fff1:function(e,t,n){"use strict";function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(e=e.toLowerCase(),e&&n.test(e)){if(4===e.length){for(var r="#",i=1;i<4;i+=1)r+=e.slice(i,i+1).concat(e.slice(i,i+1));e=r}for(var a=[],o=1;o<7;o+=2)a.push(parseInt("0x"+e.slice(o,o+2)));return t?"rgb(".concat(a[0],",").concat(a[1],",").concat(a[2],")"):a}if(/^(rgb|RGB)/.test(e)){var s=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");return s.map((function(e){return Number(e)}))}return e}function i(e){var t=e;if(/^(rgb|RGB)/.test(t)){for(var n=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),r="#",i=0;i<n.length;i++){var a=Number(n[i]).toString(16);a=1==String(a).length?"0"+a:a,"0"===a&&(a+=a),r+=a}return 7!==r.length&&(r=t),r}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;var o=t.replace(/#/,"").split("");if(6===o.length)return t;if(3===o.length){for(var s="#",u=0;u<o.length;u+=1)s+=o[u]+o[u];return s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={colorGradient:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb(0, 0, 0)",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgb(255, 255, 255)",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=r(e,!1),o=a[0],s=a[1],u=a[2],l=r(t,!1),c=l[0],f=l[1],d=l[2],h=(c-o)/n,v=(f-s)/n,p=(d-u)/n,y=[],m=0;m<n;m++){var g=i("rgb("+Math.round(h*m+o)+","+Math.round(v*m+s)+","+Math.round(p*m+u)+")");y.push(g)}return y},hexToRgb:r,rgbToHex:i,colorToRgba:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3;e=i(e);var n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,r=e.toLowerCase();if(r&&n.test(r)){if(4===r.length){for(var a="#",o=1;o<4;o+=1)a+=r.slice(o,o+1).concat(r.slice(o,o+1));r=a}for(var s=[],u=1;u<7;u+=2)s.push(parseInt("0x"+r.slice(u,u+2)));return"rgba("+s.join(",")+","+t+")"}return r}};t.default=a}},[["9395","app-config"]]]);